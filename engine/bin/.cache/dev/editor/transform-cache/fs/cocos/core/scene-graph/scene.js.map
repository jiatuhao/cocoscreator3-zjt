{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/scene-graph/scene.ts"],"names":["Scene","BaseNode","renderScene","_renderScene","globals","_globals","_updateScene","_scene","constructor","name","dependAssets","_inited","_prefabSyncedInLiveReload","_pos","Vec3","ZERO","_rot","Quat","IDENTITY","_scale","ONE","_mat","Mat4","_dirtyFlags","_activeInHierarchy","legacyCC","director","root","createScene","game","_isCloning","destroy","success","CCObject","prototype","call","children","_children","i","length","active","destroyScene","_active","addComponent","Error","_onHierarchyChanged","_onBatchCreated","dontSyncChildPrefab","len","getPosition","out","copy","getRotation","getScale","getWorldPosition","getWorldRotation","getWorldScale","getWorldMatrix","getWorldRS","getWorldRT","position","worldPosition","rotation","worldRotation","scale","worldScale","eulerAngles","worldMatrix","updateWorldTransform","_instantiate","_load","TEST","EDITOR","walk","_setScene","_activate","_registerIfAttached","_nodeActivator","activateNode","activate","editable","serializable","SceneGlobals"],"mappings":"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"}