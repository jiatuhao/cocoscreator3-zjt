{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/gfx/webgl/webgl-command-buffer.ts"],"names":["WebGLCommandBuffer","CommandBuffer","cmdPackage","WebGLCmdPackage","_webGLAllocator","_isInRenderPass","_curGPUPipelineState","_curGPUInputAssembler","_curGPUDescriptorSets","_curDynamicOffsets","_curViewport","_curScissor","_curLineWidth","_curDepthBias","_curBlendConstants","_curDepthBounds","_curStencilWriteMask","_curStencilCompareMask","_isStateInvalied","initialize","info","_type","type","_queue","queue","_device","cmdAllocator","setCount","bindingMappingInfo","bufferOffsets","length","i","push","destroy","clearCmds","begin","renderPass","subpass","frameBuffer","_numDrawCalls","_numInstances","_numTris","end","bindStates","beginRenderPass","framebuffer","renderArea","clearColors","clearDepth","clearStencil","cmd","beginRenderPassCmdPool","alloc","WebGLCmdBeginRenderPass","gpuRenderPass","gpuFramebuffer","beginRenderPassCmds","cmds","WebGLCmd","BEGIN_RENDER_PASS","endRenderPass","bindPipelineState","pipelineState","gpuPipelineState","bindDescriptorSet","set","descriptorSet","dynamicOffsets","gpuDescriptorSet","offsets","bindInputAssembler","inputAssembler","gpuInputAssembler","setViewport","viewport","Viewport","left","top","width","height","minDepth","maxDepth","setScissor","scissor","Rect","x","y","setLineWidth","lineWidth","setDepthBias","depthBiasConstantFactor","depthBiasClamp","depthBiasSlopeFactor","constantFactor","clamp","slopeFactor","setBlendConstants","blendConstants","Array","prototype","apply","setDepthBound","minDepthBounds","maxDepthBounds","minBounds","maxBounds","setStencilWriteMask","face","writeMask","setStencilCompareMask","reference","compareMask","draw","CommandBufferType","PRIMARY","SECONDARY","drawCmdPool","WebGLCmdDraw","drawInfo","vertexCount","firstVertex","indexCount","firstIndex","vertexOffset","instanceCount","firstInstance","drawCmds","DRAW","glPrimitive","Math","max","console","error","updateBuffer","buffer","data","size","gpuBuffer","updateBufferCmdPool","WebGLCmdUpdateBuffer","buffSize","buff","usage","BufferUsageBit","INDIRECT","undefined","byteLength","offset","updateBufferCmds","UPDATE_BUFFER","copyBuffersToTexture","buffers","texture","regions","gpuTexture","copyBufferToTextureCmdPool","WebGLCmdCopyBufferToTexture","copyBufferToTextureCmds","COPY_BUFFER_TO_TEXTURE","execute","cmdBuffs","count","webGLCmdBuff","c","array","refCount","bindStatesCmds","concat","webGLDevice","bindStatesCmd","bindStatesCmdPool","WebGLCmdBindStates","gpuDescriptorSets","depthBias","depthBounds","stencilWriteMask","stencilCompareMask","BIND_STATES"],"mappings":"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"}