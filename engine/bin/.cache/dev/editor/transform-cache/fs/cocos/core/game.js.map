{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/game.ts"],"names":["Game","EventTarget","frame","container","canvas","renderType","eventTargetOn","on","eventTargetOnce","once","config","onStart","collisionMatrix","groupList","_persistRootNodes","_paused","_configLoaded","_isCloning","_inited","_engineInited","_rendererInitialized","_gfxDevice","_intervalId","inited","frameTime","_frameTime","setFrameRate","frameRate","parseInt","Number","isNaN","_setAnimFrame","_runMainLoop","getFrameRate","step","legacyCC","director","mainLoop","pause","window","cAF","resume","isPaused","restart","afterDrawPromise","Promise","resolve","Director","EVENT_AFTER_DRAW","then","id","removePersistRootNode","getScene","destroy","Object","_deferredDestroy","reset","_setRenderPipelineNShowSplash","_safeEmit","EVENT_RESTART","end","close","type","callback","target","EVENT_ENGINE_INITED","call","init","_initConfig","assetOptions","assetManager","_initEngine","EDITOR","_initEvents","root","dataPoolManager","jointTexturePool","registerCustomTextureLayouts","customJointTextureLayouts","run","configOrCallback","initPromise","game","registerSystemEvent","inputManager","addPersistRootNode","node","Node","isNode","uuid","debug","warnID","scene","_scene","isValid","parent","Scene","_persistNode","_releaseManager","_addPersistNodeRef","_removePersistNodeRef","isPersistRootNode","_initDevice","_init","log","VERSION","emit","internal","dynamicAtlasManager","enabled","macro","CLEANUP_IMAGE_CACHE","_lastTime","performance","now","JSB","RUNTIME_BASED","jsb","setPreferredFramesPerSecond","rAF","requestAnimationFrame","cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_stTimeWithRAF","_stTime","_ctTime","cancelRequestAnimationFrame","msCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","ocancelAnimationFrame","currTime","elapseTime","Math","max","timeToCall","setTimeout","clearTimeout","GAME_VIEW","setDisplayStats","showFPS","startAnimation","skip","time","debugMode","DebugMode","NONE","exposeClassName","renderMode","_resetDebugSetting","_determineRenderType","userRenderMode","RENDER_TYPE_CANVAS","supportRender","sys","capabilities","opengl","RENDER_TYPE_WEBGL","Error","getError","adapter","ctors","gfx","os","OS_OSX","OS_IOS","CCMTLDevice","push","GLES3Device","CCVKDevice","GLES2Device","useWebGL2","WebGL2RenderingContext","userAgent","navigator","toLowerCase","indexOf","browserType","BROWSER_TYPE_UC","WebGL2Device","WebGLDevice","opts","DeviceInfo","ENABLE_WEBGL_ANTIALIAS","devicePixelRatio","windowPixelResolution","width","height","bindingMappingInfo","i","length","initialize","error","oncontextmenu","win","hiddenPropName","document","hidden","mozHidden","msHidden","webkitHidden","me","onHidden","EVENT_HIDE","onShown","arg0","arg1","arg2","arg3","arg4","EVENT_SHOW","changeList","addEventListener","event","visible","onfocus","_setupRenderPipeline","_showSplashScreen","EVENT_GAME_INITED","renderPipeline","_setRenderPipeline","reject","loadAny","err","asset","RenderPipeline","catch","reason","warn","PREVIEW","SplashScreen","splashScreen","instance","main","setOnFinish","loadFinish","rppl","setRenderPipeline","EVENT_RENDERER_INITED","e","EVENT_LOW_MEMORY","RENDER_TYPE_OPENGL"],"mappings":"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"}