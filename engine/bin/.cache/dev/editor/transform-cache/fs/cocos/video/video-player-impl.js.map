{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/video/video-player-impl.ts"],"names":["VideoPlayerImpl","constructor","component","_componentEventList","Map","_state","EventType","NONE","_video","_onHide","_onShow","_interrupted","_loaded","_loadedMeta","_ignorePause","_fullScreenOnAwake","_visible","_playing","_cachedCurrentTime","_waitingFullscreen","_waitingPlay","_keepAspectRatio","_component","_uiTrans","_node","_stayOnBottom","_dirty","_forceUpdate","_w","_h","_m00","_m01","_m04","_m05","_m12","_m13","node","getComponent","UITransform","video","PLAYING","pause","play","legacyCC","game","on","Game","EVENT_HIDE","EVENT_SHOW","fullScreenOnAwake","loaded","componentEventList","state","UICamera","director","root","batcher2D","getFirstRenderCamera","onLoadedMetadata","e","enable","disable","dispatchEvent","META_LOADED","target","syncUITransform","videoWidth","videoHeight","delayedFullScreen","delayedPlay","onCanPlay","READY_TO_PLAY","onPlay","onPlaying","onPause","PAUSED","onStoped","STOPPED","onEnded","COMPLETED","onClick","CLICKED","onError","ERROR","error","code","message","canPlay","syncFullScreenOnAwake","enabled","canFullScreen","key","callback","get","call","width","height","syncCurrentTime","currentTime","seekTo","destroy","removeVideoPlayer","clear","off","internal"],"mappings":";;;;;;;AAyBA;;AACA;;AAEA;;AACA;;AACA;;AA9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUO,MAAeA,eAAf,CAA+B;AAwClCC,EAAAA,WAAW,CAAEC,SAAF,EAAa;AAAA,SAvCdC,mBAuCc,GAvCiC,IAAIC,GAAJ,EAuCjC;AAAA,SAtCdC,MAsCc,GAtCLC,4BAAUC,IAsCL;AAAA,SArCdC,MAqCc,GArCoB,IAqCpB;AAAA,SAnCdC,OAmCc;AAAA,SAlCdC,OAkCc;AAAA,SAjCdC,YAiCc,GAjCC,KAiCD;AAAA,SA/BdC,OA+Bc,GA/BJ,KA+BI;AAAA,SA9BdC,WA8Bc,GA9BA,KA8BA;AAAA,SA7BdC,YA6Bc,GA7BC,KA6BD;AAAA,SA5BdC,kBA4Bc,GA5BO,KA4BP;AAAA,SA1BdC,QA0Bc,GA1BH,IA0BG;AAAA,SAxBdC,QAwBc,GAxBH,KAwBG;AAAA,SAvBdC,kBAuBc,GAvBO,CAAC,CAuBR;AAAA,SArBdC,kBAqBc,GArBO,KAqBP;AAAA,SApBdC,YAoBc,GApBC,KAoBD;AAAA,SAlBdC,gBAkBc,GAlBK,KAkBL;AAAA,SAhBdC,UAgBc,GAhBmB,IAgBnB;AAAA,SAfdC,QAec,GAfiB,IAejB;AAAA,SAddC,KAcc,GAdO,IAcP;AAAA,SAZdC,aAYc,GAZE,KAYF;AAAA,SAXdC,MAWc,GAXL,KAWK;AAAA,SAVdC,YAUc,GAVC,KAUD;AAAA,SATdC,EASc,GATT,CASS;AAAA,SARdC,EAQc,GART,CAQS;AAAA,SAPdC,IAOc,GAPP,CAOO;AAAA,SANdC,IAMc,GANP,CAMO;AAAA,SALdC,IAKc,GALP,CAKO;AAAA,SAJdC,IAIc,GAJP,CAIO;AAAA,SAHdC,IAGc,GAHP,CAGO;AAAA,SAFdC,IAEc,GAFP,CAEO;AACpB,SAAKb,UAAL,GAAkBpB,SAAlB;AACA,SAAKsB,KAAL,GAAatB,SAAS,CAACkC,IAAvB;AACA,SAAKb,QAAL,GAAgBrB,SAAS,CAACkC,IAAV,CAAeC,YAAf,CAA4BC,kBAA5B,CAAhB;;AACA,SAAK7B,OAAL,GAAe,MAAM;AACjB,UAAI,CAAC,KAAK8B,KAAN,IAAe,KAAKlC,MAAL,KAAgBC,4BAAUkC,OAA7C,EAAsD;AAAE;AAAS;;AACjE,WAAKD,KAAL,CAAWE,KAAX;AACA,WAAK9B,YAAL,GAAoB,IAApB;AACH,KAJD;;AAKA,SAAKD,OAAL,GAAe,MAAM;AACjB,UAAI,CAAC,KAAKC,YAAN,IAAsB,CAAC,KAAK4B,KAAhC,EAAuC;AAAE;AAAS,OADjC,CAEjB;;;AACA,WAAKA,KAAL,CAAWG,IAAX;AACA,WAAK/B,YAAL,GAAoB,KAApB;AACH,KALD;AAMA;;;AACAgC,4BAASC,IAAT,CAAcC,EAAd,CAAiBF,wBAASG,IAAT,CAAcC,UAA/B,EAA2C,KAAKtC,OAAhD;;AACAkC,4BAASC,IAAT,CAAcC,EAAd,CAAiBF,wBAASG,IAAT,CAAcE,UAA/B,EAA2C,KAAKtC,OAAhD;AACH,GA1DiC,CA4DlC;;;AA6BA,MAAWuC,iBAAX,GAAgC;AAAE,WAAO,KAAKlC,kBAAZ;AAAiC;;AACnE,MAAWmC,MAAX,GAAqB;AAAE,WAAO,KAAKtC,OAAZ;AAAsB;;AAC7C,MAAWuC,kBAAX,GAAiC;AAAE,WAAO,KAAKhD,mBAAZ;AAAkC;;AACrE,MAAWoC,KAAX,GAAoB;AAAE,WAAO,KAAK/B,MAAZ;AAAqB;;AAC3C,MAAW4C,KAAX,GAAoB;AAAE,WAAO,KAAK/C,MAAZ;AAAqB;;AAC3C,MAAIgD,QAAJ,GAAgB;AACZ,WAAOC,mBAASC,IAAT,CAAeC,SAAf,CAAyBC,oBAAzB,CAA8C,KAAKjC,KAAnD,CAAP;AACH,GAhGiC,CAkGlC;;;AACOkC,EAAAA,gBAAP,CAAyBC,CAAzB,EAAmC;AAC/B,SAAK9C,WAAL,GAAmB,IAAnB;AACA,SAAKc,YAAL,GAAoB,IAApB;;AACA,QAAI,KAAKX,QAAT,EAAmB;AACf,WAAK4C,MAAL;AACH,KAFD,MAEO;AACH,WAAKC,OAAL;AACH;;AACD,SAAKC,aAAL,CAAmBxD,4BAAUyD,WAA7B;AACA,UAAMxB,KAAK,GAAGoB,CAAC,CAACK,MAAhB;;AACA,QAAI,KAAK3C,gBAAL,IAAyBkB,KAA7B,EAAoC;AAChC,WAAK0B,eAAL,CAAqB1B,KAAK,CAAC2B,UAA3B,EAAuC3B,KAAK,CAAC4B,WAA7C;AACH;;AACD,SAAKC,iBAAL;AACA,SAAKC,WAAL;AACH;;AAEMC,EAAAA,SAAP,CAAkBX,CAAlB,EAA4B;AACxB,SAAK/C,OAAL,GAAe,IAAf;AACA,SAAKkD,aAAL,CAAmBxD,4BAAUiE,aAA7B;AACH;;AAEMC,EAAAA,MAAP,CAAeb,CAAf,EAAyB;AACrB,SAAK1C,QAAL,GAAgB,IAAhB;AACA,SAAK6C,aAAL,CAAmBxD,4BAAUkC,OAA7B;AACH;;AAEMiC,EAAAA,SAAP,CAAkBd,CAAlB,EAA4B;AACxB,SAAKG,aAAL,CAAmBxD,4BAAUkC,OAA7B;AACH;;AAEMkC,EAAAA,OAAP,CAAgBf,CAAhB,EAA0B;AACtB,QAAI,KAAK7C,YAAT,EAAuB;AACnB,WAAKA,YAAL,GAAoB,KAApB;AACA;AACH;;AACD,SAAKG,QAAL,GAAgB,KAAhB;AACA,SAAK6C,aAAL,CAAmBxD,4BAAUqE,MAA7B;AACH;;AAEMC,EAAAA,QAAP,CAAiBjB,CAAjB,EAA2B;AACvB,SAAK1C,QAAL,GAAgB,KAAhB;AACA,SAAKH,YAAL,GAAoB,KAApB;AACA,SAAKgD,aAAL,CAAmBxD,4BAAUuE,OAA7B;AACH;;AAEMC,EAAAA,OAAP,CAAgBnB,CAAhB,EAA0B;AACtB,SAAKG,aAAL,CAAmBxD,4BAAUyE,SAA7B;AACH;;AAEMC,EAAAA,OAAP,CAAgBrB,CAAhB,EAA0B;AACtB,SAAKG,aAAL,CAAmBxD,4BAAU2E,OAA7B;AACH;;AAEMC,EAAAA,OAAP,CAAgBvB,CAAhB,EAA0B;AACtB,SAAKG,aAAL,CAAmBxD,4BAAU6E,KAA7B;AACA,UAAM5C,KAAK,GAAGoB,CAAC,CAACK,MAAhB;;AACA,QAAIzB,KAAK,IAAIA,KAAK,CAAC6C,KAAnB,EAA0B;AACtB,yBAAO,SAAQ7C,KAAK,CAAC6C,KAAN,CAAYC,IAAK,cAAa9C,KAAK,CAAC6C,KAAN,CAAYE,OAAQ,EAAjE;AACH;AACJ,GA/JiC,CAiKlC;;;AACO5C,EAAAA,IAAP,GAAe;AACX,QAAI,KAAK7B,WAAL,IAAoB,KAAKD,OAA7B,EAAsC;AAClC,WAAK2E,OAAL;AACH,KAFD,MAEO;AACH,WAAKnE,YAAL,GAAoB,IAApB;AACH;AACJ;;AAEMiD,EAAAA,WAAP,GAAsB;AAClB,QAAI,KAAKjD,YAAT,EAAuB;AACnB,WAAKmE,OAAL;AACA,WAAKnE,YAAL,GAAoB,KAApB;AACH;AACJ;;AAEMoE,EAAAA,qBAAP,CAA8BC,OAA9B,EAAgD;AAC5C,SAAK1E,kBAAL,GAA0B0E,OAA1B;;AACA,QAAI,KAAK5E,WAAL,IAAoB,KAAKD,OAA7B,EAAsC;AAClC,WAAK8E,aAAL,CAAmBD,OAAnB;AACH,KAFD,MAEO;AACH,WAAKtE,kBAAL,GAA0B,IAA1B;AACH;AACJ;;AAEMiD,EAAAA,iBAAP,GAA4B;AACxB,QAAI,KAAKjD,kBAAT,EAA6B;AACzB,WAAKuE,aAAL,CAAmB,KAAK3E,kBAAxB;AACA,WAAKI,kBAAL,GAA0B,KAA1B;AACH;AACJ;;AAES2C,EAAAA,aAAV,CAAyB6B,GAAzB,EAA8B;AAC1B,UAAMC,QAAQ,GAAG,KAAKzF,mBAAL,CAAyB0F,GAAzB,CAA6BF,GAA7B,CAAjB;;AACA,QAAIC,QAAJ,EAAc;AACV,WAAKvF,MAAL,GAAcsF,GAAd;AACAC,MAAAA,QAAQ,CAACE,IAAT,CAAc,IAAd;AACH;AACJ;;AAES7B,EAAAA,eAAV,CAA2B8B,KAA3B,EAAkCC,MAAlC,EAA0C;AACtC,QAAI,KAAKzE,QAAT,EAAmB;AACf,WAAKA,QAAL,CAAcwE,KAAd,GAAsBA,KAAtB;AACA,WAAKxE,QAAL,CAAcyE,MAAd,GAAuBA,MAAvB;AACH;AACJ;;AAESC,EAAAA,eAAV,GAA6B;AACzB,QAAI,CAAC,KAAK1D,KAAV,EAAiB;AACb;AACH;;AACD,QAAI,KAAKrB,kBAAL,KAA4B,CAAC,CAA7B,IAAkC,KAAKqB,KAAL,CAAW2D,WAAX,KAA2B,KAAKhF,kBAAtE,EAA0F;AACtF,WAAKiF,MAAL,CAAY,KAAKjF,kBAAjB;AACA,WAAKA,kBAAL,GAA0B,CAAC,CAA3B;AACH;AACJ;;AAEMkF,EAAAA,OAAP,GAAkB;AACd,SAAKC,iBAAL;;AACA,SAAKlG,mBAAL,CAAyBmG,KAAzB;;AACA3D,4BAASC,IAAT,CAAc2D,GAAd,CAAkB5D,wBAASG,IAAT,CAAcC,UAAhC,EAA4C,KAAKtC,OAAjD;;AACAkC,4BAASC,IAAT,CAAc2D,GAAd,CAAkB5D,wBAASG,IAAT,CAAcE,UAAhC,EAA4C,KAAKtC,OAAjD;AACH;;AA/NiC;;;AAkOtCiC,wBAAS6D,QAAT,CAAkBxG,eAAlB,GAAoCA,eAApC"}