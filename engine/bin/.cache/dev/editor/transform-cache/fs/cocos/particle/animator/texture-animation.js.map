{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/particle/animator/texture-animation.ts"],"names":["TEXTURE_ANIMATION_RAND_OFFSET","ModuleRandSeed","TEXTURE","Mode","Grid","Animation","WholeSheet","SingleRow","TextureAnimationModule","CurveRange","ParticleModuleBase","name","PARTICLE_MODULE_NAME","enable","_enable","val","target","updateMaterialParams","enableModule","mode","_mode","console","error","numTilesX","_numTilesX","numTilesY","_numTilesY","flipU","_flipU","flipV","_flipV","uvChannelMask","_uvChannelMask","init","p","startRow","Math","floor","random","animate","dt","normalizedTime","remainingLifetime","startLifetime","startFrame","evaluate","randomSeed","animation","frameIndex","cycleCount","frameOverTime","rowLength","randomRow","f","from","to","rowIndex","serializable"],"mappings":"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"}