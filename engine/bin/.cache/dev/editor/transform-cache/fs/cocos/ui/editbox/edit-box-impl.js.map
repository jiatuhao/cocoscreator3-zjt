{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/ui/editbox/edit-box-impl.ts"],"names":["SCROLLY","LEFT_PADDING","DELAY_TIME","_matrix","Mat4","_matrix_temp","_vec3","Vec3","_currentEditBoxImpl","_domCount","EditBoxImpl","EditBoxImplBase","_delegate","_inputMode","_inputFlag","_returnType","__eventListeners","__fullscreen","__autoResize","__orientationChanged","_edTxt","_isTextArea","_textLabelFont","_textLabelFontSize","_textLabelFontColor","_textLabelAlign","_placeholderLabelFont","_placeholderLabelFontSize","_placeholderLabelFontColor","_placeholderLabelAlign","_placeholderLineHeight","_placeholderStyleSheet","_domId","init","delegate","inputMode","InputMode","ANY","_createTextArea","_createInput","tabIndexUtil","add","setTabIndex","tabIndex","_initStyleSheet","_registerEventListeners","_addDomToGameContainer","view","isAutoFullScreenEnabled","_resizeWithBrowserSize","clear","_removeEventListeners","_removeDomFromGameContainer","remove","update","_updateMatrix","index","resort","setSize","width","height","elem","style","beginEditing","setFocus","_editing","_editBoxEditingDidBegan","_showDom","focus","endEditing","blur","document","createElement","legacyCC","GAME_VIEW","gameView","container","appendChild","head","game","hasElem","removeChild","hasStyleSheet","_updateMaxLength","_updateInputType","_updateStyleSheet","display","_hideLabels","sys","isMobile","_showDomOnMobile","_hideDom","_showLabels","_hideDomOnMobile","os","OS_ANDROID","enableAutoFullScreen","screen","exitFullScreen","resizeWithBrowserSize","_adjustWindowScroll","setTimeout","_scrollBackWindow","window","scrollY","scrollIntoView","block","inline","behavior","browserType","BROWSER_TYPE_WECHAT","OS_IOS","top","scrollTo","node","scaleX","getScaleX","scaleY","getScaleY","widthRatio","heightRatio","canvas","viewport","getViewportRect","dpr","getDevicePixelRatio","getWorldMatrix","transform","_uiProps","uiTransformComp","set","anchorX","anchorY","z","camera","director","root","batcher2D","getFirstRenderCamera","getWorldRT","m12","m13","center","visibleRect","x","m00","m04","y","m01","m05","multiply","a","b","c","d","offsetX","parseInt","paddingLeft","offsetY","paddingBottom","tx","ty","matrix","inputFlag","returnType","InputFlag","INITIAL_CAPS_ALL_CHARACTERS","INITIAL_CAPS_WORD","textTransform","PASSWORD","type","EMAIL_ADDR","NUMERIC","DECIMAL","PHONE_NUMBER","pattern","URL","KeyboardReturnType","SEARCH","maxLength","color","border","background","outline","padding","position","bottom","left","className","fontFamily","id","resize","overflowY","value","string","placeholder","_updateTextLabel","textLabel","_updatePlaceholderLabel","placeholderLabel","font","BitmapFont","_fontFamily","fontSize","scale","fontColor","horizontalAlign","toCSS","Label","HorizontalAlign","LEFT","textAlign","CENTER","RIGHT","styleEl","lineHeight","innerHTML","BROWSER_TYPE_EDGE","inputLock","cbs","compositionStart","compositionEnd","_editBoxTextChanged","onInput","slice","onClick","onKeydown","e","keyCode","macro","KEY","enter","propagationStopped","_editBoxEditingReturn","tab","preventDefault","next","onBlur","_editBoxEditingDidEnded","addEventListener","removeEventListener"],"mappings":"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"}