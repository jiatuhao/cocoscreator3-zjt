{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/ui/SubContextView.ts"],"names":["SubContextView","UITransform","Component","designResolutionSize","_designResolutionSize","value","EDITOR","equals","set","fps","_fps","_updateInterval","constructor","_sprite","_imageAsset","_updatedTime","_openDataContext","_content","PrivateNode","ImageAsset","performance","now","onLoad","window","__globalAdapter","getOpenDataContext","_initSharedCanvas","_initContentNode","_updateSubContextView","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","width","height","image","reset","_texture","create","getComponent","Sprite","addComponent","spriteFrame","texture","sp","SpriteFrame","parent","node","getSystemInfoSync","nodeTrans","contentTrans","scaleX","scaleY","scale","systemInfo","box","getBoundingBoxToWorld","visibleSize","view","getVisibleSize","x","screenWidth","y","screenHeight","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","Node","EventType","TRANSFORM_CHANGED","SIZE_CHANGED","off","update","dt","calledUpdateManually","undefined","deltaTime","serializable","Size","legacyCC"],"mappings":"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"}