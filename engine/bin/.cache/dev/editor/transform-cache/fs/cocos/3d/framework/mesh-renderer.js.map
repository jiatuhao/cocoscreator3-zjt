{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/3d/framework/mesh-renderer.ts"],"names":["ModelShadowCastingMode","OFF","ON","ModelShadowReceivingMode","ModelLightmapSettings","bakeable","_bakeable","val","castShadow","_castShadow","receiveShadow","_receiveShadow","lightmapSize","_lightmapSize","serializable","Vec4","editable","MeshRenderer","Mesh","mesh","struct","morph","subMeshMorphs","some","subMeshMorph","executeInEditMode","RenderableComponent","shadowCastingMode","_shadowCastingMode","_updateCastShadow","_shadowReceivingMode","_updateReceiveShadow","_mesh","old","initialize","_watchMorphInMesh","_onMeshChanged","_updateModels","enabledInHierarchy","_attachToScene","model","_model","enableMorph","_enableMorph","value","constructor","_modelType","_morphInstance","scene","Model","onLoad","onRestore","onEnable","onDisable","_detachFromScene","onDestroy","legacyCC","director","root","destroyModel","_models","length","destroy","setWeights","weights","subMeshIndex","setInstancedAttribute","name","attributes","views","instancedAttributes","i","set","_updateLightmap","lightmap","uOff","vOff","uScale","vScale","lightmapSettings","texture","uvParam","x","y","z","w","_onUpdateLightingmap","node","transform","_createModel","createBoundingShape","minPosition","maxPosition","_updateModelParams","preferMorphOverPlain","modelType","MorphModel","createModel","visFlags","visibility","push","setMorphRendering","renderScene","_getRenderScene","addModel","removeModel","hasChangedFlags","TransformBit","POSITION","isDynamicBatching","_isBatchingEnabled","meshCount","renderingSubMeshes","renderingMesh","material","getRenderMaterial","isValid","subMeshData","initSubModel","_getBuiltinMaterial","enabled","updateLightingmap","_onMaterialModified","idx","inited","_onRebuildPSO","setSubModelMaterial","_clearMaterials","subModels","builtinResMgr","get","_onVisibilityChange","_materials","mat","p","passes","pass","batchingScheme","morphRendering","createInstance","nSubMeshes","primitives","iSubMesh","initialWeights","slice","Array","targets","fill","_syncMorphWeights","subMeshMorphInstance","renderResources","ShadowCastingMode","ShadowReceivingMode","disallowAnimation"],"mappings":"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"}