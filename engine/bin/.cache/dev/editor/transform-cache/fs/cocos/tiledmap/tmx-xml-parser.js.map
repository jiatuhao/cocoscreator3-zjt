{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/tiledmap/tmx-xml-parser.ts"],"names":["uint8ArrayToUint32Array","uint8Arr","length","arrLen","retArr","window","Uint32Array","i","offset","strToHAlign","value","hAlign","Label","HorizontalAlign","CENTER","RIGHT","LEFT","strToVAlign","vAlign","VerticalAlign","BOTTOM","TOP","strToColor","Color","indexOf","substring","a","parseInt","substr","r","g","b","getPropertyList","node","map","res","properties","getElementsByTagName","property","j","push","element","name","getAttribute","type","parseFloat","TMXMapInfo","mapSize","_mapSize","tileSize","_tileSize","constructor","tmxFile","tsxContentMap","spfTexturesMap","textureSizes","imageLayerTextures","orientation","parentElement","parentGID","layerAttrs","storingCharacters","currentString","renderOrder","RenderOrder","RightDown","_supportVersion","_objectGroups","_allChildren","Size","_layers","_tilesets","_imageLayers","_tileProperties","Map","_tileAnimations","_tsxContentMap","_spriteFrameMap","_spfSizeMap","_staggerAxis","_staggerIndex","_hexSideLength","_imageLayerSPF","initWithXML","getOrientation","setOrientation","getStaggerAxis","setStaggerAxis","getStaggerIndex","setStaggerIndex","getHexSideLength","setHexSideLength","getMapSize","width","height","setMapSize","mapWidth","mapHeight","getTileSize","setTileSize","tileWidth","tileHeight","getLayers","setLayers","getImageLayers","setImageLayers","getTilesets","setTilesets","getObjectGroups","setObjectGroups","getAllChildren","getParentElement","setParentElement","getParentGID","setParentGID","getLayerAttribs","setLayerAttribs","getStoringCharacters","setStoringCharacters","getProperties","setProperties","tmxString","tsxMap","spfTextureMap","TMXLayerInfo","ATTRIB_NONE","parseXMLString","xmlStr","tilesetFirstGid","parser","SAXParser","mapXML","parse","documentElement","orientationStr","staggerAxisStr","staggerIndexStr","hexSideLengthStr","renderorderStr","version","nodeName","versionArr","split","supportVersion","v","sv","Orientation","ORTHO","ISO","HEX","RightUp","LeftUp","LeftDown","StaggerAxis","STAGGERAXIS_X","STAGGERAXIS_Y","StaggerIndex","STAGGERINDEX_ODD","STAGGERINDEX_EVEN","tilesets","selTileset","tsxName","currentFirstGID","tsxXmlString","images","collection","firstImage","firstImageName","replace","tiles","tileCount","tile","tilesetName","tilesetSpacing","tilesetMargin","fgid","tilesetSize","firstTileOffset","tileOffsetX","tileOffsetY","tileset","tileIdx","TMXTilesetInfo","firstGid","TileFlag","FLIPPED_MASK","tileOffset","x","y","imageName","imageSize","sourceImage","shortName","getShortName","console","error","Object","keys","join","warn","spacing","margin","tileImages","image","pid","set","animations","animation","framesData","animationProp","frames","dt","frameIdx","frame","tileid","duration","grid","childNodes","childNode","_shouldIgnoreNode","imageLayer","_parseImageLayer","layer","_parseLayer","objectGroup","_parseObjectGroup","nodeType","selLayer","datas","TMXImageLayerInfo","visible","opacity","Math","round","tintColor","data","source","trans","layerSize","Vec2","nodeValue","trim","compression","encoding","codec","unzipBase64AsArray","inflator","zlib","Inflate","Base64","decodeAsArray","decompress","csvTiles","csvIdx","selDataTiles","xmlIdx","selGroup","TMXObjectGroupInfo","color","fromHEX","draworder","objects","selObj","objectProp","id","rotation","visibleAttr","texts","text","TMXObjectType","TEXT","wrap","halign","valign","pixelsize","gid","IMAGE","ellipse","ELLIPSE","polygonProps","POLYGON","selPgPointStr","points","_parsePointsString","polylineProps","POLYLINE","selPlPointStr","polylinePoints","RECT","sort","pointsString","pointsStr","selPointStr","setTileAnimations","getTileAnimations","getTileProperties","setTileProperties","tileProperties","getCurrentString","setCurrentString","splashIndex","lastIndexOf","dotIndex"],"mappings":"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"}