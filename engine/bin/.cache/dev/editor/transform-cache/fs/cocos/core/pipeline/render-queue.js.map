{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/pipeline/render-queue.ts"],"names":["opaqueCompareFn","a","b","hash","depth","shaderId","transparentCompareFn","RenderQueue","constructor","desc","queue","_passDesc","_passPool","RecyclePool","subModel","passIdx","CachedArray","sortFunc","clear","reset","insertRenderPass","renderObj","subModelIdx","model","subModels","hPass","SubModelPool","get","handle","SubModelView","PASS_0","isTransparent","passes","blendState","targets","blend","PassPool","PassView","PHASE","phases","PRIORITY","priority","rp","add","SHADER_0","push","sort","recordCommandBuffer","device","renderPass","cmdBuff","i","length","array","inputAssembler","hSubModel","pass","shader","ShaderPool","pso","PipelineStateManager","getOrCreatePipelineState","bindPipelineState","bindDescriptorSet","SetIndex","MATERIAL","descriptorSet","LOCAL","bindInputAssembler","draw"],"mappings":"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"}