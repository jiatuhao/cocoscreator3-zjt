{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/animation/animation-state.ts"],"names":["EventType","ICurveInstance","constructor","runtimeCurve","target","boundTarget","commonTargetIndex","_curve","_boundTarget","_rootTargetProperty","_curveDetail","curve","applySample","ratio","index","lerpRequired","samplerResultCache","weight","empty","value","hasLerp","valueAt","valueBetween","from","fromRatio","to","toRatio","_setValue","setValue","propertyName","curveDetail","makeSamplerSharedGroup","sampler","curves","InvalidIndex","AnimationState","Playable","clip","_clip","name","_name","length","duration","wrapMode","_wrapMode","EDITOR","legacyCC","GAME_VIEW","time","WrapModeMask","Loop","repeatCount","Infinity","_repeatCount","shouldWrap","ShouldWrap","reverse","Reverse","_process","simpleProcess","process","delay","_delay","_delayTime","current","getWrappedInfo","speed","frameRate","_targetNode","_curveLoaded","_samplerSharedGroups","_target","_ignoreIndex","_commonTargetStatuses","WrapMode","Normal","_currentFramePlayed","_lastIterations","_lastWrapInfo","_lastWrapInfoEvent","_wrappedInfo","WrappedInfo","_blendStateBuffer","_blendStateWriters","_allowLastFrame","_blendStateWriterHost","enabled","curveLoaded","initialize","root","propertyCurves","_destroyBlendStateWriters","director","getAnimationManager","blendState","bindState","sample","createBoundTargetOptimized","createFn","rootTarget","path","valueAdapter","isConstant","isTargetingTRS","targetNode","slice","Node","blendStateWriter","push","commonTargets","map","commonTarget","createBufferedTarget","modifiers","changed","getPropertyCurves","iPropertyCurve","propertyCurve","samplerSharedGroup","find","commonTargetStatus","peek","createBoundTarget","constant","curveInstance","destroy","onBlendFinished","emit","args","pushDelayEvent","_emit","on","type","callback","isValid","once","off","allowLastFrameEvent","allowed","_setEventTarget","setTime","info","direction","frameIndex","getEventGroupIndexAtRatio","update","delta","_sampleCurves","_sampleEvents","onPlay","_onReplayOrResume","PLAY","onStop","isPaused","_onPauseOrStop","STOP","onResume","RESUME","onPause","PAUSE","iCommonTarget","pull","iSamplerSharedGroup","szSamplerSharedGroup","ratios","iCurveInstance","szCurves","undefined","lastInfo","iterations","LASTFRAME","set","stopped","stop","FINISHED","hasEvents","cache","frames","_needReverse","currentIterations","needReverse","PingPong","isEnd","isOddIteration","tempRatio","tempTime","wrapInfo","eventGroups","eventIndex","_fireEvent","wrapIterations","lastWrappedInfo","lastIterations","lastIndex","lastDirection","iterationsChanged","state","eventGroup","components","event","events","functionName","component","fx","apply","parameters","addAnimation","removeAnimation","iBlendStateWriter","unbindState","prs","i","HierarchyPath"],"mappings":"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"}