{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/physics/ammo/ammo-shared-body.ts"],"names":["v3_0","CC_V3_0","quat_0","CC_QUAT_0","sharedIDCounter","AmmoSharedBody","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","PhysicsGroup","DEFAULT","m","PhysicsSystem","instance","collisionMatrix","_collisionFilterGroup","_collisionFilterMask","set","_wrappedBody","rigidBody","group","bodyCompoundShape","bodyStruct","shape","ghostCompoundShape","ghostStruct","body","ghost","collisionFilterGroup","v","dirty","EAmmoSharedBodyDirty","BODY_RE_ADD","GHOST_RE_ADD","collisionFilterMask","_instantiateBodyStruct","_bodyStruct","_instantiateGhostStruct","_ghostStruct","bodyEnabled","bodyIndex","bodies","length","clearState","addSharedBody","syncInitialBody","isRemoveBody","wrappedShapes","isEnabled","enabledInHierarchy","removeSharedBody","ghostEnabled","ghostIndex","addGhostObject","syncInitialGhost","isRemoveGhost","removeGhostObject","reference","ref","destroy","constructor","id","wrappedJoints0","wrappedJoints1","idCounter","st","Ammo","btTransform","setIdentity","getOrigin","worldPosition","bodyQuat","btQuaternion","worldRotation","setRotation","motionState","btDefaultMotionState","localInertia","btVector3","bodyShape","btCompoundShape","mass","isDynamic","setValue","rbInfo","btRigidBodyConstructionInfo","AmmoConstant","EMPTY_SHAPE","btRigidBody","sleepTd","sleepThreshold","setSleepingThresholds","startTransform","worldQuat","useCompound","AmmoInstance","bodyStructs","setUserIndex2","setUserIndex","setActivationState","AmmoCollisionObjectStates","DISABLE_DEACTIVATION","CC_CONFIG","ignoreSelfBody","setIgnoreCollisionCheck","btCollisionObject","ghostShape","setCollisionShape","setCollisionFlags","AmmoCollisionFlags","CF_STATIC_OBJECT","CF_NO_CONTACT_RESPONSE","ghostStructs","addShape","isTrigger","switchShape","that","setMass","index","indexOf","push","setCompound","l","needCompound","impl","i","childShape","removeShape","activate","addJoint","type","removeJoint","updateDirty","updateBodyByReAdd","updateGhostByReAdd","syncSceneToPhysics","hasChangedFlags","wt","getWorldTransform","TransformBit","SCALE","syncBodyScale","isKinematicObject","ms","getMotionState","setWorldTransform","isBodySleeping","syncPhysicsToScene","isStaticOrKinematicObject","wt0","getBasis","getRotation","wt1","syncSceneToGhost","syncGhostScale","setScale","updateScale0","updateScale1","ghosts","delete","btCollisionShape","castObject","wrapped","key0","key1","state","getActivationState","ISLAND_SLEEPING","Map"],"mappings":";;;;;;;AA0BA;;AACA;;AAKA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;;;AAxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAiBA;AACA;AACA;AACA;AAEA,MAAMA,IAAI,GAAGC,kBAAb;AACA,MAAMC,MAAM,GAAGC,oBAAf;AACA,IAAIC,eAAe,GAAG,CAAtB;AAEA;AACA;AACA;AACA;AACA;;AACO,MAAMC,cAAN,CAAqB;AAIxB,SAAOC,aAAP,CAAsBC,IAAtB,EAAkCC,YAAlC,EAA2DC,WAA3D,EAAwF;AACpF,UAAMC,GAAG,GAAGH,IAAI,CAACI,IAAjB;AACA,QAAIC,KAAJ;;AACA,QAAIP,cAAc,CAACQ,cAAf,CAA8BC,GAA9B,CAAkCJ,GAAlC,CAAJ,EAA4C;AACxCE,MAAAA,KAAK,GAAGP,cAAc,CAACQ,cAAf,CAA8BE,GAA9B,CAAkCL,GAAlC,CAAR;AACH,KAFD,MAEO;AACHE,MAAAA,KAAK,GAAG,IAAIP,cAAJ,CAAmBE,IAAnB,EAAyBC,YAAzB,CAAR;AACA,YAAMQ,CAAC,GAAGC,0BAAaC,OAAvB;AACA,YAAMC,CAAC,GAAGC,qBAAcC,QAAd,CAAuBC,eAAvB,CAAuCN,CAAvC,CAAV;AACAJ,MAAAA,KAAK,CAACW,qBAAN,GAA8BP,CAA9B;AACAJ,MAAAA,KAAK,CAACY,oBAAN,GAA6BL,CAA7B;AACAd,MAAAA,cAAc,CAACQ,cAAf,CAA8BY,GAA9B,CAAkClB,IAAI,CAACI,IAAvC,EAA6CC,KAA7C;AACH;;AACD,QAAIH,WAAJ,EAAiB;AACbG,MAAAA,KAAK,CAACc,YAAN,GAAqBjB,WAArB;AACA,YAAMO,CAAC,GAAGP,WAAW,CAACkB,SAAZ,CAAsBC,KAAhC;AACA,YAAMT,CAAC,GAAGC,qBAAcC,QAAd,CAAuBC,eAAvB,CAAuCN,CAAvC,CAAV;AACAJ,MAAAA,KAAK,CAACW,qBAAN,GAA8BP,CAA9B;AACAJ,MAAAA,KAAK,CAACY,oBAAN,GAA6BL,CAA7B;AACH;;AACD,WAAOP,KAAP;AACH;;AAED,MAAIH,WAAJ,GAAmB;AACf,WAAO,KAAKiB,YAAZ;AACH;;AAED,MAAIG,iBAAJ,GAAyB;AACrB,WAAO,KAAKC,UAAL,CAAgBC,KAAvB;AACH;;AAED,MAAIC,kBAAJ,GAA0B;AACtB,WAAO,KAAKC,WAAL,CAAiBF,KAAxB;AACH;;AAED,MAAIG,IAAJ,GAAY;AACR,WAAO,KAAKJ,UAAL,CAAgBI,IAAvB;AACH;;AAED,MAAIC,KAAJ,GAAa;AACT,WAAO,KAAKF,WAAL,CAAiBE,KAAxB;AACH;;AAED,MAAIC,oBAAJ,GAA4B;AAAE,WAAO,KAAKb,qBAAZ;AAAoC;;AAClE,MAAIa,oBAAJ,CAA0BC,CAA1B,EAAqC;AACjC,QAAIA,CAAC,KAAK,KAAKd,qBAAf,EAAsC;AAClC,WAAKA,qBAAL,GAA6Bc,CAA7B;AACA,WAAKC,KAAL,IAAcC,+BAAqBC,WAAnC;AACA,WAAKF,KAAL,IAAcC,+BAAqBE,YAAnC;AACH;AACJ;;AAED,MAAIC,mBAAJ,GAA2B;AAAE,WAAO,KAAKlB,oBAAZ;AAAmC;;AAChE,MAAIkB,mBAAJ,CAAyBL,CAAzB,EAAoC;AAChC,QAAIA,CAAC,KAAK,KAAKb,oBAAf,EAAqC;AACjC,WAAKA,oBAAL,GAA4Ba,CAA5B;AACA,WAAKC,KAAL,IAAcC,+BAAqBC,WAAnC;AACA,WAAKF,KAAL,IAAcC,+BAAqBE,YAAnC;AACH;AACJ;;AAED,MAAIX,UAAJ,GAAkB;AACd,SAAKa,sBAAL;;AACA,WAAO,KAAKC,WAAZ;AACH;;AAED,MAAIX,WAAJ,GAAmB;AACf,SAAKY,uBAAL;;AACA,WAAO,KAAKC,YAAZ;AACH;;AAmBD;AACJ;AACA;AACA;AACA;AACI,MAAIC,WAAJ,CAAiBV,CAAjB,EAA6B;AACzB,QAAIA,CAAJ,EAAO;AACH,UAAI,KAAKW,SAAL,GAAiB,CAArB,EAAwB;AACpB,aAAKA,SAAL,GAAiB,KAAKxC,YAAL,CAAkByC,MAAlB,CAAyBC,MAA1C;AACA,aAAKhB,IAAL,CAAUiB,UAAV;AACA,aAAK3C,YAAL,CAAkB4C,aAAlB,CAAgC,IAAhC;AACA,aAAKC,eAAL;AACH;AACJ,KAPD,MAOO,IAAI,KAAKL,SAAL,IAAkB,CAAtB,EAAyB;AAC5B,YAAMM,YAAY,GAAI,KAAKxB,UAAL,CAAgByB,aAAhB,CAA8BL,MAA9B,KAAyC,CAAzC,IAA8C,KAAKzC,WAAL,IAAoB,IAAnE,IACb,KAAKqB,UAAL,CAAgByB,aAAhB,CAA8BL,MAA9B,KAAyC,CAAzC,IAA8C,KAAKzC,WAAL,IAAoB,IAAlE,IAA0E,CAAC,KAAKA,WAAL,CAAiB+C,SAD/E,IAEb,KAAK1B,UAAL,CAAgByB,aAAhB,CAA8BL,MAA9B,KAAyC,CAAzC,IAA8C,KAAKzC,WAAL,IAAoB,IAAlE,IAA0E,CAAC,KAAKA,WAAL,CAAiBkB,SAAjB,CAA2B8B,kBAF9G;;AAIA,UAAIH,YAAJ,EAAkB;AACd,aAAKpB,IAAL,CAAUiB,UAAV,GADc,CACU;;AACxB,aAAKH,SAAL,GAAiB,CAAC,CAAlB;AACA,aAAKxC,YAAL,CAAkBkD,gBAAlB,CAAmC,IAAnC;AACH;AACJ;AACJ;;AAED,MAAIC,YAAJ,CAAkBtB,CAAlB,EAA8B;AAC1B,QAAIA,CAAJ,EAAO;AACH,UAAI,KAAKuB,UAAL,GAAkB,CAAlB,IAAuB,KAAK3B,WAAL,CAAiBsB,aAAjB,CAA+BL,MAA/B,GAAwC,CAAnE,EAAsE;AAClE,aAAKU,UAAL,GAAkB,CAAlB;AACA,aAAKpD,YAAL,CAAkBqD,cAAlB,CAAiC,IAAjC;AACA,aAAKC,gBAAL;AACH;AACJ,KAND,MAMO,IAAI,KAAKF,UAAL,IAAmB,CAAvB,EAA0B;AAC7B;AACA,YAAMG,aAAa,GAAI,KAAK9B,WAAL,CAAiBsB,aAAjB,CAA+BL,MAA/B,KAA0C,CAA1C,IAA+C,KAAKf,KAA3E;;AAEA,UAAI4B,aAAJ,EAAmB;AACf,aAAKH,UAAL,GAAkB,CAAC,CAAnB;AACA,aAAKpD,YAAL,CAAkBwD,iBAAlB,CAAoC,IAApC;AACH;AACJ;AACJ;;AAED,MAAIC,SAAJ,CAAe5B,CAAf,EAA2B;AACvB;AACAA,IAAAA,CAAC,GAAG,KAAK6B,GAAL,EAAH,GAAgB,KAAKA,GAAL,EAAjB;;AACA,QAAI,KAAKA,GAAL,KAAa,CAAjB,EAAoB;AAAE,WAAKC,OAAL;AAAiB;AAC1C;;AAEOC,EAAAA,WAAR,CAAqB7D,IAArB,EAAiCC,YAAjC,EAA0D;AAAA,SAnEjD6D,EAmEiD;AAAA,SAlEjD9D,IAkEiD;AAAA,SAjEjDC,YAiEiD;AAAA,SAhEjD8D,cAgEiD,GAhEd,EAgEc;AAAA,SA/DjDC,cA+DiD,GA/Dd,EA+Dc;AAAA,SA9D1DjC,KA8D0D,GA9D5B,CA8D4B;AAAA,SA5DlDf,qBA4DkD,GA5DlBH,qBAAcH,YAAd,CAA2BC,OA4DT;AAAA,SA3DlDM,oBA2DkD,GA3D3B,CAAC,CA2D0B;AAAA,SAzDlD0C,GAyDkD,GAzD5C,CAyD4C;AAAA,SAxDlDlB,SAwDkD,GAxDtC,CAAC,CAwDqC;AAAA,SAvDlDY,UAuDkD,GAvDrC,CAAC,CAuDoC;AAAA,SApDlDlC,YAoDkD,GApDb,IAoDa;AACtD,SAAK2C,EAAL,GAAUhE,cAAc,CAACmE,SAAf,EAAV;AACA,SAAKhE,YAAL,GAAoBA,YAApB;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACH;;AAEOoC,EAAAA,sBAAR,GAAkC;AAC9B,QAAI,KAAKC,WAAT,EAAsB;AACtB;;AACA,UAAM6B,EAAE,GAAG,IAAIC,0BAAKC,WAAT,EAAX;AACAF,IAAAA,EAAE,CAACG,WAAH;AACA,kCAAeH,EAAE,CAACI,SAAH,EAAf,EAA+B,KAAKtE,IAAL,CAAUuE,aAAzC;AACA,UAAMC,QAAQ,GAAG,IAAIL,0BAAKM,YAAT,EAAjB;AACA,kCAAeD,QAAf,EAAyB,KAAKxE,IAAL,CAAU0E,aAAnC;AACAR,IAAAA,EAAE,CAACS,WAAH,CAAeH,QAAf;AACA,UAAMI,WAAW,GAAG,IAAIT,0BAAKU,oBAAT,CAA8BX,EAA9B,CAApB;AACA,UAAMY,YAAY,GAAG,IAAIX,0BAAKY,SAAT,CAAmB,kBAAnB,EAAuC,kBAAvC,EAA2D,kBAA3D,CAArB;AACA,UAAMC,SAAS,GAAG,IAAIb,0BAAKc,eAAT,EAAlB;AACA,QAAIC,IAAI,GAAG,CAAX;AACA,QAAI,KAAK/D,YAAL,IAAqB,KAAKA,YAAL,CAAkBC,SAAlB,CAA4B+D,SAArD,EAAgED,IAAI,GAAG,KAAK/D,YAAL,CAAkBC,SAAlB,CAA4B8D,IAAnC;AAChE,QAAIA,IAAI,KAAK,CAAb,EAAgBJ,YAAY,CAACM,QAAb,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B;AAChB,UAAMC,MAAM,GAAG,IAAIlB,0BAAKmB,2BAAT,CAAqCJ,IAArC,EAA2CN,WAA3C,EAAwDW,wBAAazE,QAAb,CAAsB0E,WAA9E,EAA2FV,YAA3F,CAAf;AACA,UAAMnD,IAAI,GAAG,IAAIwC,0BAAKsB,WAAT,CAAqBJ,MAArB,CAAb;AACA,UAAMK,OAAO,GAAG7E,qBAAcC,QAAd,CAAuB6E,cAAvC;AACAhE,IAAAA,IAAI,CAACiE,qBAAL,CAA2BF,OAA3B,EAAoCA,OAApC;AACA,SAAKrD,WAAL,GAAmB;AACfyB,MAAAA,EAAE,EAAEjE,eAAe,EADJ;AAEf8B,MAAAA,IAFe;AAGfmD,MAAAA,YAHe;AAIfF,MAAAA,WAJe;AAKfiB,MAAAA,cAAc,EAAE3B,EALD;AAMf1C,MAAAA,KAAK,EAAEwD,SANQ;AAOfK,MAAAA,MAPe;AAQfS,MAAAA,SAAS,EAAEtB,QARI;AASfxB,MAAAA,aAAa,EAAE,EATA;AAUf+C,MAAAA,WAAW,EAAE;AAVE,KAAnB;AAYAC,+BAAaC,WAAb,CAA0B,MAAK,KAAK5D,WAAL,CAAiByB,EAAG,EAAnD,IAAwD,KAAKzB,WAA7D;AACA,SAAKV,IAAL,CAAUuE,aAAV,CAAwB,CAAxB;AACA,SAAKvE,IAAL,CAAUwE,YAAV,CAAuB,KAAK9D,WAAL,CAAiByB,EAAxC;AACA,QAAIoB,IAAI,KAAK,CAAb,EAAgB,KAAKvD,IAAL,CAAUyE,kBAAV,CAA6BC,oCAA0BC,oBAAvD;AAChB,QAAKnC,yBAAD,CAAcoC,SAAd,CAAwBC,cAAxB,IAA0C,KAAKjE,YAAnD,EAAiE,KAAKX,KAAL,CAAW6E,uBAAX,CAAmC,KAAK9E,IAAxC,EAA8C,IAA9C;AACpE;;AAEOW,EAAAA,uBAAR,GAAmC;AAC/B,QAAI,KAAKC,YAAT,EAAuB;AACvB;;AACA,UAAMX,KAAK,GAAG,IAAIuC,0BAAKuC,iBAAT,EAAd;AACA,UAAMC,UAAU,GAAG,IAAIxC,0BAAKc,eAAT,EAAnB;AACArD,IAAAA,KAAK,CAACgF,iBAAN,CAAwBD,UAAxB;AACA/E,IAAAA,KAAK,CAACiF,iBAAN,CAAwBC,6BAAmBC,gBAAnB,GAAsCD,6BAAmBE,sBAAjF;AACA,SAAKzE,YAAL,GAAoB;AAChBuB,MAAAA,EAAE,EAAEjE,eAAe,EADH;AAEhB+B,MAAAA,KAFgB;AAGhBJ,MAAAA,KAAK,EAAEmF,UAHS;AAIhBb,MAAAA,SAAS,EAAE,IAAI3B,0BAAKM,YAAT,EAJK;AAKhBzB,MAAAA,aAAa,EAAE;AALC,KAApB;AAOAgD,+BAAaiB,YAAb,CAA2B,MAAK,KAAK1E,YAAL,CAAkBuB,EAAG,EAArD,IAA0D,KAAKvB,YAA/D;AACA,SAAKX,KAAL,CAAWsE,aAAX,CAAyB,CAAzB;AACA,SAAKtE,KAAL,CAAWuE,YAAX,CAAwB,KAAK5D,YAAL,CAAkBuB,EAA1C;AACA,SAAKlC,KAAL,CAAWwE,kBAAX,CAA8BC,oCAA0BC,oBAAxD;AACA,QAAKnC,yBAAD,CAAcoC,SAAd,CAAwBC,cAAxB,IAA0C,KAAKnE,WAAnD,EAAgE,KAAKT,KAAL,CAAW6E,uBAAX,CAAmC,KAAK9E,IAAxC,EAA8C,IAA9C;AACnE;;AAEDuF,EAAAA,QAAQ,CAAEpF,CAAF,EAAgBqF,SAAhB,EAAoC;AACxC,aAASC,WAAT,CAAsBC,IAAtB,EAA4C7F,KAA5C,EAA0E;AACtE6F,MAAAA,IAAI,CAAC1F,IAAL,CAAUiF,iBAAV,CAA4BpF,KAA5B;AACA6F,MAAAA,IAAI,CAACtF,KAAL,IAAcC,+BAAqBC,WAAnC;;AACA,UAAIoF,IAAI,CAAClG,YAAL,IAAqBkG,IAAI,CAAClG,YAAL,CAAkB8B,SAA3C,EAAsD;AAClDoE,QAAAA,IAAI,CAAClG,YAAL,CAAkBmG,OAAlB,CAA0BD,IAAI,CAAClG,YAAL,CAAkBC,SAAlB,CAA4B8D,IAAtD;AACH;AACJ;;AAED,QAAIiC,SAAJ,EAAe;AACX,YAAMI,KAAK,GAAG,KAAK7F,WAAL,CAAiBsB,aAAjB,CAA+BwE,OAA/B,CAAuC1F,CAAvC,CAAd;;AACA,UAAIyF,KAAK,GAAG,CAAZ,EAAe;AACX,aAAK7F,WAAL,CAAiBsB,aAAjB,CAA+ByE,IAA/B,CAAoC3F,CAApC;AACAA,QAAAA,CAAC,CAAC4F,WAAF,CAAc,KAAKjG,kBAAnB;AACA,aAAK2B,YAAL,GAAoB,IAApB;AACH;AACJ,KAPD,MAOO;AACH,YAAMmE,KAAK,GAAG,KAAKhG,UAAL,CAAgByB,aAAhB,CAA8BwE,OAA9B,CAAsC1F,CAAtC,CAAd;;AACA,UAAIyF,KAAK,GAAG,CAAZ,EAAe;AACX,aAAKhG,UAAL,CAAgByB,aAAhB,CAA8ByE,IAA9B,CAAmC3F,CAAnC;;AACA,YAAI,KAAKP,UAAL,CAAgBwE,WAApB,EAAiC;AAC7BjE,UAAAA,CAAC,CAAC4F,WAAF,CAAc,KAAKpG,iBAAnB;AACH,SAFD,MAEO;AACH,gBAAMqG,CAAC,GAAG,KAAKpG,UAAL,CAAgByB,aAAhB,CAA8BL,MAAxC;;AACA,cAAIgF,CAAC,KAAK,CAAN,IAAW,CAAC7F,CAAC,CAAC8F,YAAF,EAAhB,EAAkC;AAC9BR,YAAAA,WAAW,CAAC,IAAD,EAAOtF,CAAC,CAAC+F,IAAT,CAAX;AACH,WAFD,MAEO;AACH,iBAAKtG,UAAL,CAAgBwE,WAAhB,GAA8B,IAA9B;;AACA,iBAAK,IAAI+B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,CAApB,EAAuBG,CAAC,EAAxB,EAA4B;AACxB,oBAAMC,UAAU,GAAG,KAAKxG,UAAL,CAAgByB,aAAhB,CAA8B8E,CAA9B,CAAnB;AACAC,cAAAA,UAAU,CAACL,WAAX,CAAuB,KAAKpG,iBAA5B;AACH;;AACD8F,YAAAA,WAAW,CAAC,IAAD,EAAO,KAAK7F,UAAL,CAAgBC,KAAvB,CAAX;AACH;AACJ;;AACD,aAAKgB,WAAL,GAAmB,IAAnB;AACH;AACJ;AACJ;;AAEDwF,EAAAA,WAAW,CAAElG,CAAF,EAAgBqF,SAAhB,EAAoC;AAC3C,QAAIA,SAAJ,EAAe;AACX,YAAMI,KAAK,GAAG,KAAK7F,WAAL,CAAiBsB,aAAjB,CAA+BwE,OAA/B,CAAuC1F,CAAvC,CAAd;;AACA,UAAIyF,KAAK,IAAI,CAAb,EAAgB;AACZ,iCAAa,KAAK7F,WAAL,CAAiBsB,aAA9B,EAA6CuE,KAA7C;AACAzF,QAAAA,CAAC,CAAC4F,WAAF,CAAc,IAAd;AACA,aAAKtE,YAAL,GAAoB,KAApB;AACH;AACJ,KAPD,MAOO;AACH,YAAMmE,KAAK,GAAG,KAAKhG,UAAL,CAAgByB,aAAhB,CAA8BwE,OAA9B,CAAsC1F,CAAtC,CAAd;;AACA,UAAIyF,KAAK,IAAI,CAAb,EAAgB;AACZ,YAAI,KAAKhG,UAAL,CAAgBwE,WAApB,EAAiC;AAC7BjE,UAAAA,CAAC,CAAC4F,WAAF,CAAc,IAAd;AACH,SAFD,MAEO;AACH,eAAK/F,IAAL,CAAUiF,iBAAV,CAA4BrB,wBAAazE,QAAb,CAAsB0E,WAAlD;AACH;;AACD,aAAK7D,IAAL,CAAUsG,QAAV,CAAmB,IAAnB;AACA,aAAKlG,KAAL,IAAcC,+BAAqBC,WAAnC;AACA,iCAAa,KAAKV,UAAL,CAAgByB,aAA7B,EAA4CuE,KAA5C;AACA,aAAK/E,WAAL,GAAmB,KAAnB;AACH;AACJ;AACJ;;AAED0F,EAAAA,QAAQ,CAAEpG,CAAF,EAAqBqG,IAArB,EAAkC;AACtC,QAAIA,IAAJ,EAAU;AACN,YAAML,CAAC,GAAG,KAAK9D,cAAL,CAAoBwD,OAApB,CAA4B1F,CAA5B,CAAV;AACA,UAAIgG,CAAC,GAAG,CAAR,EAAW,KAAK9D,cAAL,CAAoByD,IAApB,CAAyB3F,CAAzB;AACd,KAHD,MAGO;AACH,YAAMgG,CAAC,GAAG,KAAK/D,cAAL,CAAoByD,OAApB,CAA4B1F,CAA5B,CAAV;AACA,UAAIgG,CAAC,GAAG,CAAR,EAAW,KAAK/D,cAAL,CAAoB0D,IAApB,CAAyB3F,CAAzB;AACd;AACJ;;AAEDsG,EAAAA,WAAW,CAAEtG,CAAF,EAAqBqG,IAArB,EAAkC;AACzC,QAAIA,IAAJ,EAAU;AACN,YAAML,CAAC,GAAG,KAAK9D,cAAL,CAAoBwD,OAApB,CAA4B1F,CAA5B,CAAV;AACA,UAAIgG,CAAC,IAAI,CAAT,EAAY,yBAAa,KAAK9D,cAAlB,EAAkC8D,CAAlC;AACf,KAHD,MAGO;AACH,YAAMA,CAAC,GAAG,KAAK/D,cAAL,CAAoByD,OAApB,CAA4B1F,CAA5B,CAAV;AACA,UAAIgG,CAAC,IAAI,CAAT,EAAY,yBAAa,KAAK/D,cAAlB,EAAkC+D,CAAlC;AACf;AACJ;;AAEDO,EAAAA,WAAW,GAAI;AACX,QAAI,KAAKtG,KAAT,EAAgB;AACZ,UAAI,KAAKU,SAAL,IAAkB,CAAlB,IAAuB,KAAKV,KAAL,GAAaC,+BAAqBC,WAA7D,EAA0E,KAAKqG,iBAAL;AAC1E,UAAI,KAAKjF,UAAL,IAAmB,CAAnB,IAAwB,KAAKtB,KAAL,GAAaC,+BAAqBE,YAA9D,EAA4E,KAAKqG,kBAAL;AAC5E,WAAKxG,KAAL,GAAa,CAAb;AACH;AACJ;;AAEDyG,EAAAA,kBAAkB,GAAI;AAClB,QAAI,KAAKxI,IAAL,CAAUyI,eAAd,EAA+B;AAC3B,YAAMC,EAAE,GAAG,KAAK/G,IAAL,CAAUgH,iBAAV,EAAX;AACA,oCAAeD,EAAE,CAACpE,SAAH,EAAf,EAA+B,KAAKtE,IAAL,CAAUuE,aAAzC;AACA,oCAAe,KAAKhD,UAAL,CAAgBuE,SAA/B,EAA0C,KAAK9F,IAAL,CAAU0E,aAApD;AACAgE,MAAAA,EAAE,CAAC/D,WAAH,CAAe,KAAKpD,UAAL,CAAgBuE,SAA/B;;AAEA,UAAI,KAAK9F,IAAL,CAAUyI,eAAV,GAA4BG,uBAAaC,KAA7C,EAAoD;AAChD,aAAKC,aAAL;AACH;;AAED,UAAI,KAAKnH,IAAL,CAAUoH,iBAAV,EAAJ,EAAmC;AAC/B;AACA,cAAMC,EAAE,GAAG,KAAKrH,IAAL,CAAUsH,cAAV,EAAX;AACA,YAAID,EAAJ,EAAQA,EAAE,CAACE,iBAAH,CAAqBR,EAArB;AACX,OAJD,MAIO,IAAI,KAAKS,cAAL,EAAJ,EAA2B,KAAKxH,IAAL,CAAUsG,QAAV;AACrC;AACJ;AAED;AACJ;AACA;;;AACImB,EAAAA,kBAAkB,GAAI;AAClB,QAAI,KAAKzH,IAAL,CAAU0H,yBAAV,MAAyC,KAAKF,cAAL,EAA7C,EAAoE;AAChE;AACH;;AAED,UAAMG,GAAG,GAAG,KAAK/H,UAAL,CAAgBsE,cAA5B;AACA,SAAKlE,IAAL,CAAUsH,cAAV,GAA2BN,iBAA3B,CAA6CW,GAA7C;AACA,SAAKtJ,IAAL,CAAUuE,aAAV,GAA0B,8BAAe9E,IAAf,EAAqB6J,GAAG,CAAChF,SAAJ,EAArB,CAA1B;AACAgF,IAAAA,GAAG,CAACC,QAAJ,GAAeC,WAAf,CAA2B,KAAKjI,UAAL,CAAgBuE,SAA3C;AACA,SAAK9F,IAAL,CAAU0E,aAAV,GAA0B,8BAAe/E,MAAf,EAAuB,KAAK4B,UAAL,CAAgBuE,SAAvC,CAA1B;AAEA,UAAM2D,GAAG,GAAG,KAAK7H,KAAL,CAAW+G,iBAAX,EAAZ;AACA,kCAAec,GAAG,CAACnF,SAAJ,EAAf,EAAgC,KAAKtE,IAAL,CAAUuE,aAA1C;AACA,kCAAe,KAAK7C,WAAL,CAAiBoE,SAAhC,EAA2C,KAAK9F,IAAL,CAAU0E,aAArD;AACA+E,IAAAA,GAAG,CAAC9E,WAAJ,CAAgB,KAAKjD,WAAL,CAAiBoE,SAAjC;AACH;;AAED4D,EAAAA,gBAAgB,GAAI;AAChB,QAAI,KAAK1J,IAAL,CAAUyI,eAAd,EAA+B;AAC3B,YAAMgB,GAAG,GAAG,KAAK7H,KAAL,CAAW+G,iBAAX,EAAZ;AACA,oCAAec,GAAG,CAACnF,SAAJ,EAAf,EAAgC,KAAKtE,IAAL,CAAUuE,aAA1C;AACA,oCAAe,KAAK7C,WAAL,CAAiBoE,SAAhC,EAA2C,KAAK9F,IAAL,CAAU0E,aAArD;AACA+E,MAAAA,GAAG,CAAC9E,WAAJ,CAAgB,KAAKjD,WAAL,CAAiBoE,SAAjC;AACA,UAAI,KAAK9F,IAAL,CAAUyI,eAAV,GAA4BG,uBAAaC,KAA7C,EAAoD,KAAKc,cAAL;AACpD,WAAK/H,KAAL,CAAWqG,QAAX;AACH;AACJ;;AAEDnF,EAAAA,eAAe,GAAI;AACf,UAAM4F,EAAE,GAAG,KAAK/G,IAAL,CAAUgH,iBAAV,EAAX;AACA,kCAAeD,EAAE,CAACpE,SAAH,EAAf,EAA+B,KAAKtE,IAAL,CAAUuE,aAAzC;AACA,kCAAe,KAAKhD,UAAL,CAAgBuE,SAA/B,EAA0C,KAAK9F,IAAL,CAAU0E,aAApD;AACAgE,IAAAA,EAAE,CAAC/D,WAAH,CAAe,KAAKpD,UAAL,CAAgBuE,SAA/B;AACA,SAAKgD,aAAL;AACA,SAAKnH,IAAL,CAAUsG,QAAV;AACH;;AAED1E,EAAAA,gBAAgB,GAAI;AAChB,UAAMkG,GAAG,GAAG,KAAK7H,KAAL,CAAW+G,iBAAX,EAAZ;AACA,kCAAec,GAAG,CAACnF,SAAJ,EAAf,EAAgC,KAAKtE,IAAL,CAAUuE,aAA1C;AACA,kCAAe,KAAK7C,WAAL,CAAiBoE,SAAhC,EAA2C,KAAK9F,IAAL,CAAU0E,aAArD;AACA+E,IAAAA,GAAG,CAAC9E,WAAJ,CAAgB,KAAKjD,WAAL,CAAiBoE,SAAjC;AACA,SAAK6D,cAAL;AACA,SAAK/H,KAAL,CAAWqG,QAAX;AACH;;AAEDa,EAAAA,aAAa,GAAI;AACb,SAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKvG,UAAL,CAAgByB,aAAhB,CAA8BL,MAAlD,EAA0DmF,CAAC,EAA3D,EAA+D;AAC3D,WAAKvG,UAAL,CAAgByB,aAAhB,CAA8B8E,CAA9B,EAAiC8B,QAAjC;AACH;;AACD,SAAK,IAAI9B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK/D,cAAL,CAAoBpB,MAAxC,EAAgDmF,CAAC,EAAjD,EAAqD;AACjD,WAAK/D,cAAL,CAAoB+D,CAApB,EAAuB+B,YAAvB;AACH;;AACD,SAAK,IAAI/B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK9D,cAAL,CAAoBrB,MAAxC,EAAgDmF,CAAC,EAAjD,EAAqD;AACjD,WAAK9D,cAAL,CAAoB8D,CAApB,EAAuBgC,YAAvB;AACH;AACJ;;AAEDH,EAAAA,cAAc,GAAI;AACd,SAAK,IAAI7B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpG,WAAL,CAAiBsB,aAAjB,CAA+BL,MAAnD,EAA2DmF,CAAC,EAA5D,EAAgE;AAC5D,WAAKpG,WAAL,CAAiBsB,aAAjB,CAA+B8E,CAA/B,EAAkC8B,QAAlC;AACH;AACJ;AAED;AACJ;AACA;;;AACItB,EAAAA,iBAAiB,GAAI;AACjB,QAAI,KAAK7F,SAAL,IAAkB,CAAtB,EAAyB;AACrB,WAAKxC,YAAL,CAAkBkD,gBAAlB,CAAmC,IAAnC;AACA,WAAKV,SAAL,GAAiB,KAAKxC,YAAL,CAAkByC,MAAlB,CAAyBC,MAA1C;AACA,WAAK1C,YAAL,CAAkB4C,aAAlB,CAAgC,IAAhC;AACH;AACJ;;AAED0F,EAAAA,kBAAkB,GAAI;AAClB,QAAI,KAAKlF,UAAL,IAAmB,CAAvB,EAA0B;AACtB,WAAKpD,YAAL,CAAkBwD,iBAAlB,CAAoC,IAApC;AACA,WAAKJ,UAAL,GAAkB,KAAKpD,YAAL,CAAkB8J,MAAlB,CAAyBpH,MAA3C;AACA,WAAK1C,YAAL,CAAkBqD,cAAlB,CAAiC,IAAjC;AACH;AACJ;;AAEOM,EAAAA,OAAR,GAAmB;AACf9D,IAAAA,cAAc,CAACQ,cAAf,CAA8B0J,MAA9B,CAAqC,KAAKhK,IAAL,CAAUI,IAA/C;AACC,SAAKJ,IAAN,GAAqB,IAArB;AACC,SAAKC,YAAN,GAA6B,IAA7B;;AACA,QAAI,KAAKoC,WAAT,EAAsB;AAClB,YAAMd,UAAU,GAAG,KAAKc,WAAxB;;AACA8B,gCAAKP,OAAL,CAAarC,UAAU,CAACuD,YAAxB;;AACAX,gCAAKP,OAAL,CAAarC,UAAU,CAACuE,SAAxB;;AACA3B,gCAAKP,OAAL,CAAarC,UAAU,CAACsE,cAAxB;;AACA1B,gCAAKP,OAAL,CAAarC,UAAU,CAACqD,WAAxB;;AACAT,gCAAKP,OAAL,CAAarC,UAAU,CAAC8D,MAAxB;;AACAlB,gCAAKP,OAAL,CAAarC,UAAU,CAACC,KAAxB;;AACA,mCAAcD,UAAU,CAACC,KAAzB,EAAgC2C,0BAAK8F,gBAArC;;AACA,YAAMtI,IAAI,GAAGwC,0BAAK+F,UAAL,CAAgB3I,UAAU,CAACI,IAA3B,EAAiCwC,0BAAKsB,WAAtC,CAAb;;AACC9D,MAAAA,IAAD,CAAcwI,OAAd,GAAwB,IAAxB,CAVkB,CAWlB;;AACA,mCAAc5I,UAAU,CAACI,IAAzB,EAA+BwC,0BAAKsB,WAApC;AACA,mCAAclE,UAAU,CAACI,IAAzB,EAA+BwC,0BAAKuC,iBAApC;AACA,YAAM0D,IAAI,GAAI,MAAK7I,UAAU,CAACuC,EAAG,EAAjC;AACA,aAAOkC,2BAAaC,WAAb,CAAyBmE,IAAzB,CAAP;AACC,WAAK/H,WAAN,GAA4B,IAA5B;AACH;;AAED,QAAI,KAAKE,YAAT,EAAuB;AACnB,YAAMb,WAAW,GAAG,KAAKa,YAAzB;;AACA4B,gCAAKP,OAAL,CAAalC,WAAW,CAACoE,SAAzB;;AACA3B,gCAAKP,OAAL,CAAalC,WAAW,CAACF,KAAzB;;AACA,mCAAcE,WAAW,CAACF,KAA1B,EAAiC2C,0BAAK8F,gBAAtC;;AACA9F,gCAAKP,OAAL,CAAalC,WAAW,CAACE,KAAzB;;AACA,YAAMyI,IAAI,GAAI,MAAK3I,WAAW,CAACoC,EAAG,EAAlC;AACA,aAAOkC,2BAAaC,WAAb,CAAyBoE,IAAzB,CAAP;AACC,WAAK9H,YAAN,GAA6B,IAA7B;AACH;AACJ;;AAEO4G,EAAAA,cAAR,GAA0B;AACtB,UAAMmB,KAAK,GAAG,KAAK3I,IAAL,CAAU4I,kBAAV,EAAd;AACA,WAAOD,KAAK,KAAKjE,oCAA0BmE,eAA3C;AACH;;AA1buB;;;AAAf1K,c,CACMmE,S,GAAY,C;AADlBnE,c,CAEeQ,c,GAAiB,IAAImK,GAAJ,E"}