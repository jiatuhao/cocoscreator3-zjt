{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/renderer/scene/camera.ts"],"names":["CameraFOVAxis","CameraProjection","CameraAperture","CameraISO","CameraShutter","FSTOPS","SHUTTERS","ISOS","v_a","Vec3","v_b","_tempMat1","Mat4","SKYBOX_FLAG","ClearFlag","STENCIL","correctionMatrices","Camera","constructor","device","isWindowSize","screenScale","_device","_scene","_node","_name","_enabled","_proj","_aspect","_orthoHeight","_fovAxis","VERTICAL","_fov","_nearClip","_farClip","_clearColor","Color","_viewport","Rect","_curTransform","SurfaceTransform","IDENTITY","_isProjDirty","_matView","_matViewInv","_matProj","_matProjInv","_matViewProj","_matViewProjInv","_frustum","Frustum","_forward","_position","_priority","_aperture","F16_0","_apertureValue","_shutter","D125","_shutterValue","_iso","ISO100","_isoValue","_ec","_poolHandle","NULL_HANDLE","_frustumHandle","_window","length","ySign","screenSpaceSignY","ROTATE_90","ROTATE_180","ROTATE_270","initialize","info","name","node","projection","priority","handle","CameraPool","alloc","set","CameraView","WIDTH","HEIGHT","CLEAR_FLAG","NONE","CLEAR_DEPTH","NODE","VISIBILITY","CAMERA_DEFAULT_MASK","SCENE","JSB","FrustumPool","FRUSTUM","updateExposure","changeTargetWindow","window","console","log","get","destroy","detachCamera","free","attachToScene","scene","detachFromScene","resize","width","height","setFixedSize","update","forceUpdate","viewProjDirty","hasChangedFlags","invert","worldMatrix","setMat4","MAT_VIEW","x","m02","y","m06","z","m10","getWorldPosition","setVec3","POSITION","FORWARD","orientation","surfaceTransform","projectionSignY","hasOffScreenAttachments","UVSpaceSignY","PERSPECTIVE","perspective","clipSpaceMinZ","ortho","MAT_PROJ","MAT_PROJ_INV","multiply","MAT_VIEW_PROJ","MAT_VIEW_PROJ_INV","val","enabled","orthoHeight","projectionType","fovAxis","axis","fov","nearClip","farClip","clearColor","w","setVec4","CLEAR_COLOR","viewport","VIEW_PORT","aspect","matView","matViewInv","matProj","matProjInv","matViewProj","matViewProjInv","frustum","WINDOW","forward","position","visibility","vis","aperture","apertureValue","shutter","shutterValue","iso","isoValue","ec","exposure","EXPOSURE","clearFlag","flag","clearDepth","depth","clearStencil","CLEAR_STENCIL","stencil","win","legacyCC","director","root","mainWindow","attachCamera","screenPointToRay","out","cx","cy","cw","ch","isProj","preTransform","preTransforms","ox","oy","transformMat4","o","Ray","fromPoints","transformQuat","d","worldRotation","screenToWorld","screenPos","lerp","worldToScreen","worldPos","worldMatrixToScreen","halfWidth","halfHeight","identity","transform","scale","ev100","Math","log2"],"mappings":"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"}