{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/asset-manager/pack-manager.ts"],"names":["PackManager","_loading","Cache","_unpackers","unpackJson","pack","json","options","onComplete","out","js","createMap","err","Array","isArray","length","i","textureType","_getClassId","Texture2D","type","data","datas","base","mipmaps","Error","init","clear","register","handler","mixin","unpack","unpacker","load","item","isNative","info","packs","downloader","download","id","url","ext","files","has","get","find","val","uuid","push","add","bundle","config","name","remove","message","stack","packedUuids","err2","result","callbacks","l","cb","unpackedData"],"mappings":"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"}