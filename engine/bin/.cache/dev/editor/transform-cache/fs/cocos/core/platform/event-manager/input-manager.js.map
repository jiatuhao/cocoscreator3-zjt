{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/platform/event-manager/input-manager.ts"],"names":["TOUCH_TIMEOUT","macro","PORTRAIT","LANDSCAPE_LEFT","PORTRAIT_UPSIDE_DOWN","LANDSCAPE_RIGHT","_didAccelerateFun","_vec2","Vec2","_preLocation","Acceleration","constructor","x","y","z","timestamp","legacyCC","internal","InputManager","_mousePressed","_isRegisterEvent","_preTouchPoint","_prevMousePoint","_preTouchPool","_preTouchPoolPointer","_touches","_touchesIntegerDict","_indexBitsUsed","_maxTouches","_accelEnabled","_accelInterval","_accelMinus","_accelCurTime","_acceleration","_accelDeviceEvent","_glView","_pointLocked","handleTouchesBegin","touches","handleTouches","locTouchIntDict","i","length","touch","touchID","getID","index","undefined","unusedIndex","_getUnUsedIndex","getLocation","curTouch","Touch","getPreviousLocation","setPrevPoint","push","touchEvent","EventTouch","BEGAN","ENABLE_MULTI_TOUCH","_getUsefulTouches","eventManager","dispatchEvent","handleTouchesMove","locTouches","setPoint","MOVED","handleTouchesEnd","getSetOfTouchesEndOrCancel","ENDED","handleTouchesCancel","CANCELLED","locTouchesIntDict","_removeUsedIndexBit","getHTMLElementPosition","element","docElem","document","documentElement","leftOffset","sys","os","OS_IOS","isBrowser","window","screenLeft","pageXOffset","clientLeft","topOffset","screenTop","pageYOffset","clientTop","getBoundingClientRect","box","left","top","width","height","HTMLCanvasElement","parseInt","style","getPreTouch","preTouch","locPreTouchPool","id","setPreTouch","find","getTouchByXY","event","tx","ty","pos","locPreTouch","location","convertToLocationInView","movementX","movementY","getMouseEvent","eventType","locPreMouse","mouseEvent","EventMouse","_convertMouseToLocation","setLocation","getPointByEvent","pageX","pageY","body","scrollLeft","scrollTop","clientX","clientY","getTouchesByEvent","position","locView","changedTouches","changedTouch","BROWSER_TYPE_FIREFOX","browserType","identifier","registerSystemEvent","view","prohibition","isMobile","supportMouse","capabilities","mouse","supportTouches","_registerMouseEvents","navigator","msPointerEnabled","_registerMousePointerEvents","_registerTouchEvents","_registerKeyboardEvent","setAccelerometerEnabled","isEnable","scheduler","director","getScheduler","enableForTarget","_registerAccelerometerEvent","scheduleUpdate","_unregisterAccelerometerEvent","unscheduleUpdate","JSB","RUNTIME_BASED","jsb","device","setMotionEnabled","didAccelerate","eventData","mAcceleration","DeviceMotionEvent","deviceMotionEvent","eventAcceleration","accelerationIncludingGravity","deviceOrientationEvent","gamma","beta","alpha","_isRotated","tmp","timeStamp","Date","now","tmpX","orientation","OS_ANDROID","BROWSER_TYPE_MOBILE_QQ","update","dt","EventAcceleration","setAccelerometerInterval","interval","setMotionInterval","temp","getCurrentTime","lastModified","_registerPointerLockEvent","_registerWindowMouseEvents","_registerElementMouseEvents","lockChangeAlert","canvas","game","pointerLockElement","mozPointerLockElement","addEventListener","positionRect","contains","UP","setButton","button","listenDOMMouseEvent","eventName","type","handler","stopPropagation","preventDefault","DOWN","focus","MOVE","BUTTON_MISSING","SCROLL","setScrollData","wheelDelta","detail","_pointerEventsMap","MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel","call","makeTouchListener","touchesHandler","touchesToHandle","EventKeyboard","DeviceOrientationEvent","_deviceEventType","args","removeEventListener","touchDict","usedID","inputManager"],"mappings":"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"}