{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/ui/widget-manager.ts"],"names":["_tempPos","Vec3","_defaultAnchor","Vec2","tInverseTranslate","tInverseScale","align","node","widget","hasTarget","target","inverseTranslate","inverseScale","parent","targetSize","useGlobal","Scene","getComponent","UITransform","targetAnchor","anchorPoint","isRoot","EDITOR","getPosition","uiTrans","_uiProps","uiTransformComp","x","y","anchor","scale","getScale","alignFlags","AlignFlags","HORIZONTAL","localLeft","localRight","targetWidth","width","visibleRect","left","right","isAbsoluteLeft","isAbsoluteRight","anchorX","scaleX","isStretchWidth","isAlignHorizontalCenter","localHorizontalCenter","isAbsoluteHorizontalCenter","horizontalCenter","targetCenter","isAlignLeft","_lastSize","VERTICAL","localTop","localBottom","targetHeight","height","bottom","top","isAbsoluteBottom","isAbsoluteTop","anchorY","scaleY","isStretchHeight","isAlignVerticalCenter","localVerticalCenter","isAbsoluteVerticalCenter","verticalCenter","targetMiddle","isAlignBottom","setPosition","z","set","_lastPos","visitNode","Widget","DEV","_validateTargetInDEV","widgetManager","animationState","animatedSinceLastFrame","alignMode","AlignMode","ONCE","enabled","legacyCC","isValid","activeWidgets","push","children","child","active","refreshScene","scene","director","getScene","isAligning","_nodesOrderDirty","length","i","iterator","_activeWidgetsIterator","_dirty","updateAlignment","Node","isNode","_widgetManager","array","MutableForwardIterator","previewing","time","init","on","Director","EVENT_AFTER_UPDATE","View","instance","onResized","thisOnResized","bind","window","addEventListener","add","remove","refreshWidgetOnResized","ON_WINDOW_RESIZE","ALWAYS","setDirty","updateOffsetsToStayPut","e","t","c","Math","abs","widgetNode","widgetParent","zero","one","parentTrans","parentAP","trans","matchSize","myAP","pos","widgetNodeScale","temp","LEFT","l","RIGHT","r","TOP","BOT","b","EVENT_INIT"],"mappings":"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"}