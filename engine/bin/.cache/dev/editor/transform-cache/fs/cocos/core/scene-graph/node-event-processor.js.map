{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/scene-graph/node-event-processor.ts"],"names":["_cachedArray","Array","_currentHovered","pos","Vec2","_touchEvents","SystemEventType","TOUCH_START","toString","TOUCH_MOVE","TOUCH_END","TOUCH_CANCEL","_mouseEvents","MOUSE_DOWN","MOUSE_ENTER","MOUSE_MOVE","MOUSE_LEAVE","MOUSE_UP","MOUSE_WHEEL","_touchStartHandler","touch","event","node","owner","_uiProps","uiTransformComp","getUILocation","isHit","type","bubbles","dispatchEvent","_touchMoveHandler","_touchEndHandler","_touchCancelHandler","_mouseDownHandler","_mouseMoveHandler","hit","_previousIn","eventProcessor","mouseListener","propagationStopped","_mouseUpHandler","_mouseWheelHandler","_doDispatchEvent","target","i","length","getCapturingTargets","eventPhase","capturingTargets","currentTarget","emit","propagationImmediateStopped","bubblingTargets","getBubblingTargets","_searchComponentsInParent","ctor","index","list","curr","Node","isNode","parent","comp","getComponent","next","push","_checkListeners","events","_persistNode","hasEventListener","NodeEventProcessor","_node","constructor","touchListener","_comp","reattach","mask","registerComponentHitList","destroy","eventManager","removeListeners","clear","on","callback","useCapture","forDispatch","_checknSetupSysEvent","_onDispatch","CallbacksInvoker","once","listeners","off","undefined","touchEvent","indexOf","mouseEvent","_offDispatch","removeListener","arg0","arg1","arg2","arg3","arg4","has","targetOff","removeAll","targets","newAdded","legacyCC","EventListener","create","TOUCH_ONE_BY_ONE","swallowTouches","onTouchBegan","onTouchMoved","onTouchEnded","onTouchCancelled","addListener","MOUSE","onMouseDown","onMouseMove","onMouseUp","onMouseScroll","activeInHierarchy","director","getScheduler","schedule","pauseTarget"],"mappings":"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"}