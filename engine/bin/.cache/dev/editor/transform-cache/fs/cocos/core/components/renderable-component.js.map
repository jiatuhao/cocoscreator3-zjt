{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/components/renderable-component.ts"],"names":["_matInsInfo","parent","owner","subModelIdx","RenderableComponent","Material","Component","_materialInstances","_models","visibility","_visFlags","val","_onVisibilityChange","sharedMaterials","EDITOR","_materials","slice","i","length","setMaterial","splice","materials","getMaterialInstance","dLen","setMaterialInstance","sharedMaterial","getMaterial","idx","material","index","MaterialInstance","console","error","inst","destroy","_onMaterialModified","mat","instantiated","matInst","getRenderMaterial","_collectModels","_attachToScene","_detachFromScene","_onRebuildPSO","_clearMaterials","serializable","Layers","Enum","NONE","legacyCC"],"mappings":"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"}