{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/video/video-downloader.ts"],"names":["downloadVideo","url","options","onComplete","__videoSupport","sys","formatSupport","format","length","Error","video","document","createElement","source","appendChild","req","XMLHttpRequest","open","responseType","onload","status","src","URL","createObjectURL","response","onerror","message","send","createVideoClip","id","data","out","VideoClip","_nativeUrl","_nativeAsset","downloader","register","factory"],"mappings":";;;;;;;AA6BA;;AACA;;AAEA;;AACA;;AACA;;;;AAlCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AASA;AACO,SAASA,aAAT,CAAwBC,GAAxB,EAAqCC,OAArC,EAAqEC,UAArE,EAAmG;AACtG,QAAMC,cAAc,GAAGC,SAAID,cAA3B;AACA,QAAME,aAAa,GAAGF,cAAc,IAAIA,cAAc,CAACG,MAAvD;;AAEA,MAAI,CAACD,aAAD,IAAkBA,aAAa,CAACE,MAAd,KAAyB,CAA/C,EAAkD;AAC9C,WAAOL,UAAU,CAAC,IAAIM,KAAJ,CAAU,qBAAS,IAAT,CAAV,CAAD,CAAjB;AACH;;AACD,QAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;AACA,QAAMC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,EAAAA,KAAK,CAACI,WAAN,CAAkBD,MAAlB;AAEA,QAAME,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,EAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBhB,GAAhB,EAAqB,IAArB;AACAc,EAAAA,GAAG,CAACG,YAAJ,GAAmB,MAAnB;;AACAH,EAAAA,GAAG,CAACI,MAAJ,GAAa,SAASA,MAAT,GAAmB;AAC5B,QAAI,KAAKC,MAAL,KAAgB,GAAhB,IAAuB,KAAKA,MAAL,KAAgB,CAA3C,EAA8C;AAC1CP,MAAAA,MAAM,CAACQ,GAAP,GAAaC,GAAG,CAACC,eAAJ,CAAoB,KAAKC,QAAzB,CAAb;AACArB,MAAAA,UAAU,CAAC,IAAD,EAAOO,KAAP,CAAV;AACH,KAHD,MAGO;AACHP,MAAAA,UAAU,CAAC,IAAIM,KAAJ,CAAW,GAAEM,GAAG,CAACK,MAAO,eAAxB,CAAD,CAAV;AACH;AACJ,GAPD;;AAQAL,EAAAA,GAAG,CAACU,OAAJ,GAAc,SAASA,OAAT,GAAoB;AAC9B,UAAMC,OAAO,GAAI,wBAAuBzB,GAAI,EAA5C;AACA,oBAAIyB,OAAJ;AACAvB,IAAAA,UAAU,CAAC,IAAIM,KAAJ,CAAUiB,OAAV,CAAD,CAAV;AACH,GAJD;;AAKAX,EAAAA,GAAG,CAACY,IAAJ;AACH;;AAED,SAASC,eAAT,CAA0BC,EAA1B,EAAsCC,IAAtC,EAA8D5B,OAA9D,EAA8FC,UAA9F,EAAuI;AACnI,QAAM4B,GAAG,GAAG,IAAIC,oBAAJ,EAAZ;AACAD,EAAAA,GAAG,CAACE,UAAJ,GAAiBJ,EAAjB;AACAE,EAAAA,GAAG,CAACG,YAAJ,GAAmBJ,IAAnB;AACA3B,EAAAA,UAAU,CAAC,IAAD,EAAO4B,GAAP,CAAV;AACH;;AAEDI,oBAAWC,QAAX,CAAoB;AAChB;AACA,UAAQpC,aAFQ;AAGhB,UAAQA,aAHQ;AAIhB,UAAQA,aAJQ;AAKhB,UAAQA,aALQ;AAMhB,WAASA,aANO;AAOhB,SAAOA,aAPS;AAQhB,WAASA;AARO,CAApB;;AAWAqC,iBAAQD,QAAR,CAAiB;AACb;AACA,UAAQR,eAFK;AAGb,UAAQA,eAHK;AAIb,UAAQA,eAJK;AAKb,UAAQA,eALK;AAMb,WAASA,eANI;AAOb,SAAOA,eAPM;AAQb,WAASA;AARI,CAAjB"}