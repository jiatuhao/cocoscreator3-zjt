{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/root.ts"],"names":["Root","device","_device","mainWindow","_mainWindow","curWindow","window","_curWindow","tempWindow","_tempWindow","windows","_windows","pipeline","_pipeline","batcher2D","_batcher","scenes","_scenes","cumulativeTime","RootPool","get","_poolHandle","RootView","CUMULATIVE_TIME","frameTime","FRAME_TIME","frameCount","_frameCount","fps","_fps","fixedFPS","_fixedFPS","_fixedFPSFrameTime","dataPoolManager","_dataPoolMgr","handle","constructor","_createSceneFun","_createWindowFun","_modelPools","Map","_cameraPool","_lightPools","_fpsTime","NULL_HANDLE","legacyCC","internal","DataPoolManager","RenderScene","registerCreateFunc","RenderWindow","Pool","Camera","initialize","info","alloc","colorAttachment","ColorAttachment","depthStencilAttachment","DepthStencilAttachment","depthStoreOp","StoreOp","DISCARD","stencilStoreOp","renderPassInfo","RenderPassInfo","createWindow","title","width","height","swapchainBufferIndices","Promise","resolve","builtinResMgr","initBuiltinRes","then","view","on","game","canvas","resize","destroy","destroyScenes","clear","free","shouldSyncSizeWithSwapchain","setRenderPipeline","rppl","createDefaultPipeline","activate","scene","director","getScene","globals","onGlobalPipelineStateChanged","Batcher2D","ForwardPipeline","flows","i","length","activeWindow","resetCumulativeTime","set","frameMove","deltaTime","removeBatches","update","acquire","stamp","getTotalFrames","uploadBuffers","emit","Director","EVENT_BEFORE_COMMIT","cameraList","cameras","extractRenderCameras","forEach","camera","push","sort","a","b","priority","render","present","reset","destroyWindow","splice","destroyWindows","createScene","destroyScene","createModel","ModelCtor","p","model","destroyModel","m","removeModel","name","createCamera","createLight","LightCtor","l","light","destroyLight","type","LightType","SPHERE","removeSphereLight","SPOT","removeSpotLight"],"mappings":"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"}