{"version":3,"sources":["file:///Applications/CocosCreator/Creator/3.0.0/CocosCreator.app/Contents/Resources/resources/3d/engine/cocos/core/gfx/descriptor-set.ts"],"names":["DESCRIPTOR_BUFFER_TYPE","DescriptorType","UNIFORM_BUFFER","DYNAMIC_UNIFORM_BUFFER","STORAGE_BUFFER","DYNAMIC_STORAGE_BUFFER","DESCRIPTOR_SAMPLER_TYPE","SAMPLER","DescriptorSetInfo","constructor","layout","DescriptorSet","Obj","_layout","device","ObjectType","DESCRIPTOR_SET","_device","_buffers","_textures","_samplers","_isDirty","bindBuffer","binding","buffer","index","bindingIndex","bindingIndices","info","bindings","descriptorType","descriptorIndex","descriptorIndices","console","warn","bindSampler","sampler","bindTexture","texture","getBuffer","getSampler","getTexture"],"mappings":"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"}