{"version":3,"sources":["../../../../../../../../../../cocos/core/renderer/scene/sphere-light.ts"],"names":["AABB","Vec3","Light","LightType","nt2lm","AABBPool","AABBView","LightPool","LightView","NULL_HANDLE","SphereLight","_pos","size","set","_handle","SIZE","get","range","RANGE","_needUpdate","lum","ILLUMINANCE","_aabb","_hAABB","create","initialize","alloc","TYPE","SPHERE","update","_node","hasChangedFlags","getWorldPosition","x","y","z","setVec3","POSITION","CENTER","center","HALF_EXTENSION","halfExtents","destroy","free"],"mappings":"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"}