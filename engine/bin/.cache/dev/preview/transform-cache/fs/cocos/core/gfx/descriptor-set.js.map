{"version":3,"sources":["../../../../../../../../../cocos/core/gfx/descriptor-set.ts"],"names":["DescriptorType","Obj","ObjectType","DESCRIPTOR_BUFFER_TYPE","UNIFORM_BUFFER","DYNAMIC_UNIFORM_BUFFER","STORAGE_BUFFER","DYNAMIC_STORAGE_BUFFER","DESCRIPTOR_SAMPLER_TYPE","SAMPLER","DescriptorSetInfo","layout","DescriptorSet","_layout","device","DESCRIPTOR_SET","_device","_buffers","_textures","_samplers","_isDirty","bindBuffer","binding","buffer","index","bindingIndex","bindingIndices","info","bindings","descriptorType","descriptorIndex","descriptorIndices","console","warn","bindSampler","sampler","bindTexture","texture","getBuffer","getSampler","getTexture"],"mappings":"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"}