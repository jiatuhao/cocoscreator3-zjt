{"version":3,"sources":["../../../../../../../../cocos/audio/audio-downloader.ts"],"names":["downloadDomAudio","url","options","onComplete","createDomAudio","then","dom","errMsg","log","Error","downloadArrayBuffer","xhrResponseType","downloadFile","onFileProgress","downloadAudio","__audioSupport","sys","formatSupport","format","length","getError","handler","WEB_AUDIO","audioLoadMode","AudioType","DOM_AUDIO","createAudioClip","id","data","out","AudioClip","_nativeUrl","_nativeAsset","_duration","duration","downloader","factory","register"],"mappings":"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"}