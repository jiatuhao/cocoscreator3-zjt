{"version":3,"sources":["../../../../../../../../../cocos/core/assets/texture-2d.ts"],"names":["EDITOR","TEST","ccclass","type","TextureType","PixelFormat","ImageAsset","SimpleTexture","legacyCC","TextureInfo","Texture2D","initialize","mipmaps","_mipmaps","onLoaded","reset","info","_width","width","_height","height","_setGFXFormat","format","_setMipmapLevel","mipmapLevel","_tryReset","create","RGBA8888","toString","length","url","updateMipmaps","firstLevel","count","nUpdate","Math","min","undefined","i","level","_assignImage","getHtmlElementObj","data","HTMLElement","destroy","description","releaseTexture","_serialize","ctxForExporting","base","map","mipmap","_uuid","_compressUuid","EditorExtends","UuidUtils","compressUuid","_deserialize","serializedData","handle","Array","mipmapUUID","result","push","_texture","_getGfxTextureCreateInfo","presumed","texInfo","TEX2D","Object","assign","_checkTextureLoaded","ready","image","loaded","_textureReady","value","imageAsset","forEach"],"mappings":"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"}