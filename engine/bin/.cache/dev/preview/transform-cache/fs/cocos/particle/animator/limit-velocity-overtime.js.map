{"version":3,"sources":["../../../../../../../../../cocos/particle/animator/limit-velocity-overtime.ts"],"names":["dampenBeyondLimit","vel","limit","dampen","sgn","Math","sign","abs","lerp","ccclass","tooltip","displayOrder","range","type","serializable","pseudoRandom","Vec3","Quat","Space","ModuleRandSeed","ParticleModuleBase","PARTICLE_MODULE_NAME","CurveRange","calculateTransform","LIMIT_VELOCITY_RAND_OFFSET","LIMIT","_temp_v3","_temp_v3_1","LimitVelocityOvertimeModule","_enable","val","target","enableModule","name","drag","multiplyDragByParticleSize","multiplyDragByParticleVelocity","rotation","needTransform","needUpdate","update","space","worldTransform","animate","p","dt","normalizedTime","remainingLifetime","startLifetime","dampedVel","separateAxes","set","limitX","evaluate","randomSeed","limitY","limitZ","transformQuat","ultimateVelocity","x","y","z","normalize","multiplyScalar","length","copy","Local"],"mappings":"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"}