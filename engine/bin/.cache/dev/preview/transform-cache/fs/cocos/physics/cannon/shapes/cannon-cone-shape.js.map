{"version":3,"sources":["../../../../../../../../../../cocos/physics/cannon/shapes/cannon-cone-shape.ts"],"names":["CANNON","Vec3","CannonShape","EAxisDirection","commitShapeUpdates","v3_0","v3_1","CannonConeShape","setRadius","v","updateProperties","collider","radius","height","CC_CONFIG","numSegmentsCone","direction","node","worldScale","_index","_body","setHeight","setDirection","_collider","_shape","Y_AXIS","Cylinder","onLoad","setScale","scale","numSegments","wh","wr","cos","Math","sin","abs","max","y","x","z","N","hH","vertices","indices","axes","theta","PI","bf","push","i","face","subtract","cross","normalize","impl","faces","uniqueAxes","worldVerticesNeedsUpdate","worldFaceNormalsNeedsUpdate","computeNormals","computeEdges","updateBoundingSphereRadius"],"mappings":";;;;;;;;;;;;;AA8BOA,MAAAA,M;;AACEC,MAAAA,I,oBAAAA,I;;AACAC,MAAAA,W,kBAAAA,W;;AAGAC,MAAAA,c,2BAAAA,c;;AAEAC,MAAAA,kB,iBAAAA,kB;;;AAEHC,MAAAA,I,GAAO,IAAIJ,IAAJ,E;AACPK,MAAAA,I,GAAO,IAAIL,IAAJ,E;;iCAEAM,e;;;;;eASTC,S,GAAA,mBAAWC,CAAX,EAAsB;AAClB,eAAKC,gBAAL,CACI,KAAKC,QAAL,CAAcC,MADlB,EAEI,KAAKD,QAAL,CAAcE,MAFlB,EAGKb,MAAD,CAAgBc,SAAhB,CAA0BC,eAH9B,EAII,KAAKJ,QAAL,CAAcK,SAJlB,EAKI,KAAKL,QAAL,CAAcM,IAAd,CAAmBC,UALvB;AAQA,cAAI,KAAKC,MAAL,KAAgB,CAAC,CAArB,EAAwBf,kBAAkB,CAAC,KAAKgB,KAAN,CAAlB;AAC3B,S;;eAEDC,S,GAAA,mBAAWZ,CAAX,EAAsB;AAClB,eAAKC,gBAAL,CACI,KAAKC,QAAL,CAAcC,MADlB,EAEI,KAAKD,QAAL,CAAcE,MAFlB,EAGKb,MAAD,CAAgBc,SAAhB,CAA0BC,eAH9B,EAII,KAAKJ,QAAL,CAAcK,SAJlB,EAKI,KAAKL,QAAL,CAAcM,IAAd,CAAmBC,UALvB;AAQA,cAAI,KAAKC,MAAL,KAAgB,CAAC,CAArB,EAAwBf,kBAAkB,CAAC,KAAKgB,KAAN,CAAlB;AAC3B,S;;eAEDE,Y,GAAA,sBAAcb,CAAd,EAAyB;AACrB,eAAKC,gBAAL,CACI,KAAKC,QAAL,CAAcC,MADlB,EAEI,KAAKD,QAAL,CAAcE,MAFlB,EAGKb,MAAD,CAAgBc,SAAhB,CAA0BC,eAH9B,EAII,KAAKJ,QAAL,CAAcK,SAJlB,EAKI,KAAKL,QAAL,CAAcM,IAAd,CAAmBC,UALvB;AAQA,cAAI,KAAKC,MAAL,KAAgB,CAAC,CAArB,EAAwBf,kBAAkB,CAAC,KAAKgB,KAAN,CAAlB;AAC3B,S;;;;8BA1Ce;AACZ,mBAAO,KAAKG,SAAZ;AACH;;;8BAEW;AACR,mBAAO,KAAKC,MAAZ;AACH;;;AAsCD,iCAAaZ,MAAb,EAA2BC,MAA3B,EAAuCG,SAAvC,EAA0E;AAAA;;AAAA,cAA7DJ,MAA6D;AAA7DA,YAAAA,MAA6D,GAApD,GAAoD;AAAA;;AAAA,cAA/CC,MAA+C;AAA/CA,YAAAA,MAA+C,GAAtC,CAAsC;AAAA;;AAAA,cAAnCG,SAAmC;AAAnCA,YAAAA,SAAmC,GAAvBb,cAAc,CAACsB,MAAQ;AAAA;;AACtE;AACA,gBAAKD,MAAL,GAAc,IAAIxB,MAAM,CAAC0B,QAAX,CAAoB,CAApB,EAAuBd,MAAvB,EAA+BC,MAA/B,EAAwCb,MAAD,CAAgBc,SAAhB,CAA0BC,eAAjE,EAAkFC,SAAS,KAAKb,cAAc,CAACsB,MAA/G,CAAd;AAFsE;AAGzE;;eAEDE,M,GAAA,kBAAU;AACN,iCAAMA,MAAN;;AACA,eAAKnB,SAAL,CAAe,KAAKG,QAAL,CAAcC,MAA7B;AACH,S;;eAEDgB,Q,GAAA,kBAAUC,KAAV,EAA6B;AACzB,iCAAMD,QAAN,YAAeC,KAAf;;AACA,eAAKrB,SAAL,CAAe,KAAKG,QAAL,CAAcC,MAA7B;AACH,S;;eAEDF,gB,GAAA,0BAAkBE,MAAlB,EAAkCC,MAAlC,EAAkDiB,WAAlD,EAAuEd,SAAvE,EAA0Fa,KAA1F,EAA4G;AACxG,cAAIE,EAAE,GAAGlB,MAAT;AACA,cAAImB,EAAE,GAAGpB,MAAT;AACA,cAAMqB,GAAG,GAAGC,IAAI,CAACD,GAAjB;AACA,cAAME,GAAG,GAAGD,IAAI,CAACC,GAAjB;AACA,cAAMC,GAAG,GAAGF,IAAI,CAACE,GAAjB;AACA,cAAMC,GAAG,GAAGH,IAAI,CAACG,GAAjB;;AACA,cAAIrB,SAAS,KAAK,CAAlB,EAAqB;AACjBe,YAAAA,EAAE,GAAGK,GAAG,CAACP,KAAK,CAACS,CAAP,CAAH,GAAezB,MAApB;AACAmB,YAAAA,EAAE,GAAGK,GAAG,CAACD,GAAG,CAACP,KAAK,CAACU,CAAP,CAAJ,EAAeH,GAAG,CAACP,KAAK,CAACW,CAAP,CAAlB,CAAH,GAAkC5B,MAAvC;AACH,WAHD,MAGO,IAAII,SAAS,KAAK,CAAlB,EAAqB;AACxBe,YAAAA,EAAE,GAAGK,GAAG,CAACP,KAAK,CAACW,CAAP,CAAH,GAAe3B,MAApB;AACAmB,YAAAA,EAAE,GAAGK,GAAG,CAACD,GAAG,CAACP,KAAK,CAACU,CAAP,CAAJ,EAAeH,GAAG,CAACP,KAAK,CAACS,CAAP,CAAlB,CAAH,GAAkC1B,MAAvC;AACH,WAHM,MAGA;AACHmB,YAAAA,EAAE,GAAGK,GAAG,CAACP,KAAK,CAACU,CAAP,CAAH,GAAe1B,MAApB;AACAmB,YAAAA,EAAE,GAAGK,GAAG,CAACD,GAAG,CAACP,KAAK,CAACS,CAAP,CAAJ,EAAeF,GAAG,CAACP,KAAK,CAACW,CAAP,CAAlB,CAAH,GAAkC5B,MAAvC;AACH;;AACD,cAAM6B,CAAC,GAAGX,WAAV;AACA,cAAMY,EAAE,GAAGX,EAAE,GAAG,CAAhB;AACA,cAAMY,QAAuB,GAAG,EAAhC;AACA,cAAMC,OAAmB,GAAG,EAA5B;AACA,cAAMC,IAAmB,GAAG,EAA5B;AACA,cAAMC,KAAK,GAAGZ,IAAI,CAACa,EAAL,GAAU,CAAV,GAAcN,CAA5B;;AACA,cAAIzB,SAAS,KAAK,CAAlB,EAAqB;AACjB,gBAAMgC,EAAY,GAAG,EAArB;AACAJ,YAAAA,OAAO,CAACK,IAAR,CAAaD,EAAb;AACAL,YAAAA,QAAQ,CAACM,IAAT,CAAc,IAAIjD,MAAM,CAACC,IAAX,CAAgB,CAAhB,EAAmByC,EAAnB,EAAuB,CAAvB,CAAd;;AACA,iBAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,CAApB,EAAuBS,CAAC,EAAxB,EAA4B;AACxB,kBAAMX,CAAC,GAAGP,EAAE,GAAGC,GAAG,CAACa,KAAK,GAAGI,CAAT,CAAlB;AACA,kBAAMV,CAAC,GAAGR,EAAE,GAAGG,GAAG,CAACW,KAAK,GAAGI,CAAT,CAAlB;AACAP,cAAAA,QAAQ,CAACM,IAAT,CAAc,IAAIjD,MAAM,CAACC,IAAX,CAAgBsC,CAAhB,EAAmB,CAACG,EAApB,EAAwBF,CAAxB,CAAd;AACH;;AACD,iBAAK,IAAIU,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGT,CAApB,EAAuBS,EAAC,EAAxB,EAA4B;AACxB,kBAAIA,EAAC,KAAK,CAAV,EAAaF,EAAE,CAACC,IAAH,CAAQC,EAAR;AACb,kBAAIC,IAAc,SAAlB;;AACA,kBAAID,EAAC,GAAGT,CAAC,GAAG,CAAZ,EAAe;AACXU,gBAAAA,IAAI,GAAG,CAAC,CAAD,EAAID,EAAC,GAAG,CAAR,EAAWA,EAAC,GAAG,CAAf,CAAP;AACH,eAFD,MAEO;AACHC,gBAAAA,IAAI,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAOD,EAAC,GAAG,CAAX,CAAP;AACH;;AACDN,cAAAA,OAAO,CAACK,IAAR,CAAaE,IAAb;AACAlD,cAAAA,IAAI,CAACmD,QAAL,CAAc/C,IAAd,EAAoBsC,QAAQ,CAAC,CAAD,CAA5B,EAAiCA,QAAQ,CAACQ,IAAI,CAAC,CAAD,CAAL,CAAzC;AACAlD,cAAAA,IAAI,CAACmD,QAAL,CAAc9C,IAAd,EAAoBqC,QAAQ,CAACQ,IAAI,CAAC,CAAD,CAAL,CAA5B,EAAuCR,QAAQ,CAACQ,IAAI,CAAC,CAAD,CAAL,CAA/C;AACAlD,cAAAA,IAAI,CAACoD,KAAL,CAAWhD,IAAX,EAAiBC,IAAjB,EAAuBD,IAAvB;AACAA,cAAAA,IAAI,CAACiD,SAAL;AACAT,cAAAA,IAAI,CAACI,IAAL,CAAU,IAAIjD,MAAM,CAACC,IAAX,CAAgBI,IAAI,CAACkC,CAArB,EAAwBlC,IAAI,CAACiC,CAA7B,EAAgCjC,IAAI,CAACmC,CAArC,CAAV;AACH;;AACDK,YAAAA,IAAI,CAACI,IAAL,CAAU,IAAIjD,MAAM,CAACC,IAAX,CAAgB,CAAhB,EAAmB,CAAC,CAApB,EAAuB,CAAvB,CAAV;AACH,WAzBD,MAyBO,IAAIe,SAAS,KAAK,CAAlB,EAAqB;AACxB,gBAAMgC,GAAY,GAAG,EAArB;AACAJ,YAAAA,OAAO,CAACK,IAAR,CAAaD,GAAb;AACAL,YAAAA,QAAQ,CAACM,IAAT,CAAc,IAAIjD,MAAM,CAACC,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAAsByC,EAAtB,CAAd;;AACA,iBAAK,IAAIQ,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGT,CAApB,EAAuBS,GAAC,EAAxB,EAA4B;AACxB,kBAAMX,EAAC,GAAGP,EAAE,GAAGC,GAAG,CAACa,KAAK,GAAGI,GAAT,CAAlB;;AACA,kBAAMZ,CAAC,GAAGN,EAAE,GAAGG,GAAG,CAACW,KAAK,GAAGI,GAAT,CAAlB;AACAP,cAAAA,QAAQ,CAACM,IAAT,CAAc,IAAIjD,MAAM,CAACC,IAAX,CAAgBsC,EAAhB,EAAmBD,CAAnB,EAAsB,CAACI,EAAvB,CAAd;AACH;;AACD,iBAAK,IAAIQ,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGT,CAApB,EAAuBS,GAAC,EAAxB,EAA4B;AACxB,kBAAIA,GAAC,KAAK,CAAV,EAAaF,GAAE,CAACC,IAAH,CAAQR,CAAC,GAAGS,GAAZ;;AACb,kBAAIC,KAAc,SAAlB;;AACA,kBAAID,GAAC,GAAGT,CAAC,GAAG,CAAZ,EAAe;AACXU,gBAAAA,KAAI,GAAG,CAAC,CAAD,EAAID,GAAC,GAAG,CAAR,EAAWA,GAAC,GAAG,CAAf,CAAP;AACH,eAFD,MAEO;AACHC,gBAAAA,KAAI,GAAG,CAAC,CAAD,EAAID,GAAC,GAAG,CAAR,EAAW,CAAX,CAAP;AACH;;AACDN,cAAAA,OAAO,CAACK,IAAR,CAAaE,KAAb;AACAlD,cAAAA,IAAI,CAACmD,QAAL,CAAc/C,IAAd,EAAoBsC,QAAQ,CAAC,CAAD,CAA5B,EAAiCA,QAAQ,CAACQ,KAAI,CAAC,CAAD,CAAL,CAAzC;AACAlD,cAAAA,IAAI,CAACmD,QAAL,CAAc9C,IAAd,EAAoBqC,QAAQ,CAACQ,KAAI,CAAC,CAAD,CAAL,CAA5B,EAAuCR,QAAQ,CAACQ,KAAI,CAAC,CAAD,CAAL,CAA/C;AACAlD,cAAAA,IAAI,CAACoD,KAAL,CAAWhD,IAAX,EAAiBA,IAAjB,EAAuBC,IAAvB;AACAD,cAAAA,IAAI,CAACiD,SAAL;AACAT,cAAAA,IAAI,CAACI,IAAL,CAAU,IAAIjD,MAAM,CAACC,IAAX,CAAgBI,IAAI,CAACkC,CAArB,EAAwBlC,IAAI,CAACiC,CAA7B,EAAgCjC,IAAI,CAACmC,CAArC,CAAV;AACH;;AACDK,YAAAA,IAAI,CAACI,IAAL,CAAU,IAAIjD,MAAM,CAACC,IAAX,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAC,CAAvB,CAAV;AACH,WAzBM,MAyBA;AACH,gBAAM+C,IAAY,GAAG,EAArB;AACAJ,YAAAA,OAAO,CAACK,IAAR,CAAaD,IAAb;AACAL,YAAAA,QAAQ,CAACM,IAAT,CAAc,IAAIjD,MAAM,CAACC,IAAX,CAAgByC,EAAhB,EAAoB,CAApB,EAAuB,CAAvB,CAAd;;AACA,iBAAK,IAAIQ,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGT,CAApB,EAAuBS,GAAC,EAAxB,EAA4B;AACxB,kBAAMZ,EAAC,GAAGN,EAAE,GAAGC,GAAG,CAACa,KAAK,GAAGI,GAAT,CAAlB;;AACA,kBAAMV,EAAC,GAAGR,EAAE,GAAGG,GAAG,CAACW,KAAK,GAAGI,GAAT,CAAlB;;AACAP,cAAAA,QAAQ,CAACM,IAAT,CAAc,IAAIjD,MAAM,CAACC,IAAX,CAAgB,CAACyC,EAAjB,EAAqBJ,EAArB,EAAwBE,EAAxB,CAAd;AACH;;AACD,iBAAK,IAAIU,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGT,CAApB,EAAuBS,GAAC,EAAxB,EAA4B;AACxB,kBAAIA,GAAC,KAAK,CAAV,EAAaF,IAAE,CAACC,IAAH,CAAQR,CAAC,GAAGS,GAAZ;;AACb,kBAAIC,MAAc,SAAlB;;AACA,kBAAID,GAAC,GAAGT,CAAC,GAAG,CAAZ,EAAe;AACXU,gBAAAA,MAAI,GAAG,CAAC,CAAD,EAAID,GAAC,GAAG,CAAR,EAAWA,GAAC,GAAG,CAAf,CAAP;AACH,eAFD,MAEO;AACHC,gBAAAA,MAAI,GAAG,CAAC,CAAD,EAAID,GAAC,GAAG,CAAR,EAAW,CAAX,CAAP;AACH;;AACDN,cAAAA,OAAO,CAACK,IAAR,CAAaE,MAAb;AACAlD,cAAAA,IAAI,CAACmD,QAAL,CAAc/C,IAAd,EAAoBsC,QAAQ,CAAC,CAAD,CAA5B,EAAiCA,QAAQ,CAACQ,MAAI,CAAC,CAAD,CAAL,CAAzC;AACAlD,cAAAA,IAAI,CAACmD,QAAL,CAAc9C,IAAd,EAAoBqC,QAAQ,CAACQ,MAAI,CAAC,CAAD,CAAL,CAA5B,EAAuCR,QAAQ,CAACQ,MAAI,CAAC,CAAD,CAAL,CAA/C;AACAlD,cAAAA,IAAI,CAACoD,KAAL,CAAWhD,IAAX,EAAiBA,IAAjB,EAAuBC,IAAvB;AACAD,cAAAA,IAAI,CAACiD,SAAL;AACAT,cAAAA,IAAI,CAACI,IAAL,CAAU,IAAIjD,MAAM,CAACC,IAAX,CAAgBI,IAAI,CAACkC,CAArB,EAAwBlC,IAAI,CAACiC,CAA7B,EAAgCjC,IAAI,CAACmC,CAArC,CAAV;AACH;;AACDK,YAAAA,IAAI,CAACI,IAAL,CAAU,IAAIjD,MAAM,CAACC,IAAX,CAAgB,CAAC,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAAV;AACH;;AAED,eAAKsD,IAAL,CAAUZ,QAAV,GAAqBA,QAArB;AACA,eAAKY,IAAL,CAAUC,KAAV,GAAkBZ,OAAlB;AACA,eAAKW,IAAL,CAAUE,UAAV,GAAuBZ,IAAvB;AACA,eAAKU,IAAL,CAAUG,wBAAV,GAAqC,IAArC;AACA,eAAKH,IAAL,CAAUI,2BAAV,GAAwC,IAAxC;AACA,eAAKJ,IAAL,CAAUK,cAAV;AACA,eAAKL,IAAL,CAAUM,YAAV;AACA,eAAKN,IAAL,CAAUO,0BAAV;AACH,S;;;QAxKgC5D,W"}