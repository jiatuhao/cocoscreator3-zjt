{"version":3,"sources":["../../../../../../../../../cocos/physics/physx/physx-world.ts"],"names":["onTrigger","type","wpa","wpb","collider","needTriggerEvent","tE","triggerEventsPool","length","pop","a","b","times","triggerEventBeginDic","set","id","triggerEventEndDic","emitTriggerEvent","len","getLength","key","getKeyByIndex","data","getDataByKey","push","dataBeg","colliderA","colliderB","TriggerEventObject","selfCollider","otherCollider","emit","reset","isValid","onCollision","c","d","o","needCollisionEvent","contactEventsPool","cE","contactCount","buffer","offset","contactEventDic","emitCollisionEvent","CollisionEventObject","impl","contacts","contactsPool","apply","i","getContactData","PhysXContactEquation","error","PhysXSharedBody","addActorToScene","getWrapShape","PX","USE_BYTEDANCE","fastRemoveAt","TupleDictionary","eventCallback","onContactBegin","onContactEnd","onContactPersist","onTriggerBegin","onTriggerEnd","queryCallback","preFilter","filterData","shape","_actor","_out","shapeFlags","getFlags","word3","ShapeFlag","eTRIGGER_SHAPE","QueryHitType","eNONE","eBLOCK","eTOUCH","isSet","PxShapeFlag","PxQueryHitType","PhysXWorld","setAllowSleep","_v","setDefaultMaterial","setGravity","gravity","scene","physics","cooking","queryfilterData","singleResult","mutipleResults","simulationCB","queryFilterCB","wrappedBodies","mutipleResultSize","cp","CookingParams","createCooking","sceneDesc","createSceneDesc","simulation","SimulationEventCallback","setOnContact","_header","pairs","shapes","pairBuf","pairBuffer","pairL","ui16View","Uint16Array","flags","shape0","shape1","shapeA","shapeB","events","contactBuffer","setOnTrigger","pairsBuf","ca","cb","QueryFilterCallback","setPreFilter","word0","word1","word2","setSimulationEventCallback","createScene","PxRaycastHit","PxRaycastHitVector","resize","PxQueryFilterData","PxSimulationEventCallback","implement","PxQueryFilterCallback","version","PX_PHYSICS_VERSION","defaultErrorCallback","PxDefaultErrorCallback","allocator","PxDefaultAllocator","foundation","PxCreateFoundation","scale","PxTolerancesScale","PxCreateCooking","PxCookingParams","PxCreatePhysics","PxInitExtensions","getDefaultSceneDesc","getTolerancesScale","destroy","release","step","deltaTime","_timeSinceLastCalled","_maxSubStep","simulate","fetchResults","body","syncPhysicsToScene","syncSceneToPhysics","syncAfterEvents","syncSceneWithCheck","getSharedBody","node","wrappedBody","addActor","index","indexOf","removeActor","addConstraint","_constraint","removeConstraint","raycast","worldRay","options","pool","results","maxDistance","queryTrigger","mask","r","SceneQueryExt","raycastMultiple","block","result","add","_assign","position","distance","normal","setWords","setFlags","blocks","size","get","getShape","console","raycastClosest","raycastSingle","emitEvents"],"mappings":";;;;;;;;;AAgEA,WAASA,SAAT,CAAoBC,IAApB,EAA4CC,GAA5C,EAA6DC,GAA7D,EAAoF;AAChF,QAAID,GAAG,IAAIC,GAAX,EAAgB;AACZ,UAAID,GAAG,CAACE,QAAJ,CAAaC,gBAAb,IAAiCF,GAAG,CAACC,QAAJ,CAAaC,gBAAlD,EAAoE;AAChE,YAAIC,EAAJ;;AACA,YAAIC,iBAAiB,CAACC,MAAlB,GAA2B,CAA/B,EAAkC;AAC9BF,UAAAA,EAAE,GAAGC,iBAAiB,CAACE,GAAlB,EAAL;AACAH,UAAAA,EAAE,CAACI,CAAH,GAAOR,GAAP;AAAYI,UAAAA,EAAE,CAACK,CAAH,GAAOR,GAAP;AAAYG,UAAAA,EAAE,CAACM,KAAH,GAAW,CAAX;AAC3B,SAHD,MAGO;AACHN,UAAAA,EAAE,GAAG;AAAEI,YAAAA,CAAC,EAAER,GAAL;AAAUS,YAAAA,CAAC,EAAER,GAAb;AAAkBS,YAAAA,KAAK,EAAE;AAAzB,WAAL;AACH;;AACD,YAAIX,IAAI,KAAK,gBAAb,EAA+B;AAC3BY,UAAAA,oBAAoB,CAACC,GAArB,CAAyBZ,GAAG,CAACa,EAA7B,EAAiCZ,GAAG,CAACY,EAArC,EAAyCT,EAAzC;AACH,SAFD,MAEO;AACHU,UAAAA,kBAAkB,CAACF,GAAnB,CAAuBZ,GAAG,CAACa,EAA3B,EAA+BZ,GAAG,CAACY,EAAnC,EAAuCT,EAAvC;AACH;AACJ;AACJ;AACJ;;AAED,WAASW,gBAAT,GAA6B;AACzB,QAAIC,GAAG,GAAGF,kBAAkB,CAACG,SAAnB,EAAV;;AACA,WAAOD,GAAG,EAAV,EAAc;AACV,UAAME,GAAG,GAAGJ,kBAAkB,CAACK,aAAnB,CAAiCH,GAAjC,CAAZ;AACA,UAAMI,IAAI,GAAGN,kBAAkB,CAACO,YAAnB,CAAmDH,GAAnD,CAAb;AACAb,MAAAA,iBAAiB,CAACiB,IAAlB,CAAuBF,IAAvB;AACA,UAAMG,OAAO,GAAGZ,oBAAoB,CAACU,YAArB,CAAqDH,GAArD,CAAhB;;AACA,UAAIK,OAAJ,EAAa;AACTlB,QAAAA,iBAAiB,CAACiB,IAAlB,CAAuBC,OAAvB;AACAZ,QAAAA,oBAAoB,CAACC,GAArB,CAAyBQ,IAAI,CAACZ,CAAL,CAAOK,EAAhC,EAAoCO,IAAI,CAACX,CAAL,CAAOI,EAA3C,EAA+C,IAA/C;AACH;;AACD,UAAMW,SAAS,GAAGJ,IAAI,CAACZ,CAAL,CAAON,QAAzB;AACA,UAAMuB,SAAS,GAAGL,IAAI,CAACX,CAAL,CAAOP,QAAzB;;AACA,UAAIsB,SAAS,IAAIC,SAAjB,EAA4B;AACxB,YAAM1B,IAAsB,GAAG,eAA/B;AACA2B,QAAAA,kBAAkB,CAAC3B,IAAnB,GAA0BA,IAA1B;;AACA,YAAIyB,SAAS,CAACrB,gBAAd,EAAgC;AAC5BuB,UAAAA,kBAAkB,CAACC,YAAnB,GAAkCH,SAAlC;AACAE,UAAAA,kBAAkB,CAACE,aAAnB,GAAmCH,SAAnC;AACAD,UAAAA,SAAS,CAACK,IAAV,CAAe9B,IAAf,EAAqB2B,kBAArB;AACH;;AACD,YAAID,SAAS,CAACtB,gBAAd,EAAgC;AAC5BuB,UAAAA,kBAAkB,CAACC,YAAnB,GAAkCF,SAAlC;AACAC,UAAAA,kBAAkB,CAACE,aAAnB,GAAmCJ,SAAnC;AACAC,UAAAA,SAAS,CAACI,IAAV,CAAe9B,IAAf,EAAqB2B,kBAArB;AACH;AACJ;AACJ;;AACDZ,IAAAA,kBAAkB,CAACgB,KAAnB;AAEAd,IAAAA,GAAG,GAAGL,oBAAoB,CAACM,SAArB,EAAN;;AACA,WAAOD,GAAG,EAAV,EAAc;AACV,UAAME,IAAG,GAAGP,oBAAoB,CAACQ,aAArB,CAAmCH,GAAnC,CAAZ;;AACA,UAAMI,KAAI,GAAGT,oBAAoB,CAACU,YAArB,CAAqDH,IAArD,CAAb;;AACA,UAAMM,UAAS,GAAGJ,KAAI,CAACZ,CAAL,CAAON,QAAzB;AACA,UAAMuB,UAAS,GAAGL,KAAI,CAACX,CAAL,CAAOP,QAAzB;;AACA,UAAI,CAACsB,UAAD,IAAc,CAACA,UAAS,CAACO,OAAzB,IAAoC,CAACN,UAArC,IAAkD,CAACA,UAAS,CAACM,OAAjE,EAA0E;AACtE1B,QAAAA,iBAAiB,CAACiB,IAAlB,CAAuBF,KAAvB;AACAT,QAAAA,oBAAoB,CAACC,GAArB,CAAyBQ,KAAI,CAACZ,CAAL,CAAOK,EAAhC,EAAoCO,KAAI,CAACX,CAAL,CAAOI,EAA3C,EAA+C,IAA/C;AACH,OAHD,MAGO;AACH,YAAMd,KAAsB,GAAGqB,KAAI,CAACV,KAAL,KAAe,eAAf,GAAiC,gBAAhE;;AACAgB,QAAAA,kBAAkB,CAAC3B,IAAnB,GAA0BA,KAA1B;;AACA,YAAIyB,UAAS,CAACrB,gBAAd,EAAgC;AAC5BuB,UAAAA,kBAAkB,CAACC,YAAnB,GAAkCH,UAAlC;AACAE,UAAAA,kBAAkB,CAACE,aAAnB,GAAmCH,UAAnC;;AACAD,UAAAA,UAAS,CAACK,IAAV,CAAe9B,KAAf,EAAqB2B,kBAArB;AACH;;AACD,YAAID,UAAS,CAACtB,gBAAd,EAAgC;AAC5BuB,UAAAA,kBAAkB,CAACC,YAAnB,GAAkCF,UAAlC;AACAC,UAAAA,kBAAkB,CAACE,aAAnB,GAAmCJ,UAAnC;;AACAC,UAAAA,UAAS,CAACI,IAAV,CAAe9B,KAAf,EAAqB2B,kBAArB;AACH;AACJ;AACJ;AACJ;;AAID,WAASM,WAAT,CAAsBjC,IAAtB,EAAgDC,GAAhD,EAAiEC,GAAjE,EAAkFgC,CAAlF,EAA6FC,CAA7F,EAAqGC,CAArG,EAAsH;AAClH,QAAInC,GAAG,IAAIC,GAAX,EAAgB;AACZ,UAAID,GAAG,CAACE,QAAJ,CAAakC,kBAAb,IAAmCnC,GAAG,CAACC,QAAJ,CAAakC,kBAApD,EAAwE;AACpE,YAAIC,iBAAiB,CAAC/B,MAAlB,GAA2B,CAA/B,EAAkC;AAC9B,cAAMgC,EAAE,GAAGD,iBAAiB,CAAC9B,GAAlB,EAAX;AACA+B,UAAAA,EAAE,CAACvC,IAAH,GAAUA,IAAV;AAAgBuC,UAAAA,EAAE,CAAC9B,CAAH,GAAOR,GAAP;AAAYsC,UAAAA,EAAE,CAAC7B,CAAH,GAAOR,GAAP;AAAYqC,UAAAA,EAAE,CAACC,YAAH,GAAkBN,CAAlB;AAAqBK,UAAAA,EAAE,CAACE,MAAH,GAAYN,CAAZ;AAAeI,UAAAA,EAAE,CAACG,MAAH,GAAYN,CAAZ;AAC5EO,UAAAA,eAAe,CAAC9B,GAAhB,CAAoBZ,GAAG,CAACa,EAAxB,EAA4BZ,GAAG,CAACY,EAAhC,EAAoCyB,EAApC;AACH,SAJD,MAIO;AACH,cAAMA,GAAuB,GAAG;AAAEvC,YAAAA,IAAI,EAAJA,IAAF;AAAQS,YAAAA,CAAC,EAAER,GAAX;AAAgBS,YAAAA,CAAC,EAAER,GAAnB;AAAwBsC,YAAAA,YAAY,EAAEN,CAAtC;AAAyCO,YAAAA,MAAM,EAAEN,CAAjD;AAAoDO,YAAAA,MAAM,EAAEN;AAA5D,WAAhC;AACAO,UAAAA,eAAe,CAAC9B,GAAhB,CAAoBZ,GAAG,CAACa,EAAxB,EAA4BZ,GAAG,CAACY,EAAhC,EAAoCyB,GAApC;AACH;AACJ;AACJ;AACJ;;AAGD,WAASK,kBAAT,GAAqC;AACjC,QAAI3B,GAAG,GAAG0B,eAAe,CAACzB,SAAhB,EAAV;;AACA,WAAOD,GAAG,EAAV,EAAc;AACV,UAAME,GAAG,GAAGwB,eAAe,CAACvB,aAAhB,CAA8BH,GAA9B,CAAZ;AACA,UAAMI,IAAI,GAAGsB,eAAe,CAACrB,YAAhB,CAAkDH,GAAlD,CAAb;AACAmB,MAAAA,iBAAiB,CAACf,IAAlB,CAAuBF,IAAvB;AACA,UAAMI,SAAS,GAAGJ,IAAI,CAACZ,CAAL,CAAON,QAAzB;AACA,UAAMuB,SAAS,GAAGL,IAAI,CAACX,CAAL,CAAOP,QAAzB;;AACA,UAAIsB,SAAS,IAAIA,SAAS,CAACO,OAAvB,IAAkCN,SAAlC,IAA+CA,SAAS,CAACM,OAA7D,EAAsE;AAClEa,QAAAA,oBAAoB,CAAC7C,IAArB,GAA4BqB,IAAI,CAACrB,IAAjC;AACA6C,QAAAA,oBAAoB,CAACC,IAArB,GAA4BzB,IAAI,CAACoB,MAAjC;AACA,YAAMP,CAAC,GAAGb,IAAI,CAACmB,YAAf;AAA6B,YAAML,CAAC,GAAGd,IAAI,CAACoB,MAAf;AAAuB,YAAML,CAAC,GAAGf,IAAI,CAACqB,MAAf;AACpD,YAAMK,QAAQ,GAAGF,oBAAoB,CAACE,QAAtC;AACAC,QAAAA,YAAY,CAACzB,IAAb,CAAkB0B,KAAlB,CAAwBD,YAAxB,EAAsCD,QAAtC;AACAA,QAAAA,QAAQ,CAACxC,MAAT,GAAkB,CAAlB;;AACA,aAAK,IAAI2C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,CAApB,EAAuBgB,CAAC,EAAxB,EAA4B;AACxB,cAAIF,YAAY,CAACzC,MAAb,GAAsB,CAA1B,EAA6B;AACzB,gBAAM2B,EAAC,GAAGc,YAAY,CAACxC,GAAb,EAAV;;AACA0B,YAAAA,EAAC,CAACT,SAAF,GAAcA,SAAd;AAAyBS,YAAAA,EAAC,CAACR,SAAF,GAAcA,SAAd;AACzBQ,YAAAA,EAAC,CAACY,IAAF,GAASK,cAAc,CAAChB,CAAD,EAAIe,CAAJ,EAAOd,CAAP,CAAvB;AAAkCW,YAAAA,QAAQ,CAACxB,IAAT,CAAcW,EAAd;AACrC,WAJD,MAIO;AACH,gBAAMA,GAAC,GAAG,IAAIkB,oBAAJ,CAAyBP,oBAAzB,CAAV;;AACAX,YAAAA,GAAC,CAACT,SAAF,GAAcA,SAAd;AAAyBS,YAAAA,GAAC,CAACR,SAAF,GAAcA,SAAd;AACzBQ,YAAAA,GAAC,CAACY,IAAF,GAASK,cAAc,CAAChB,CAAD,EAAIe,CAAJ,EAAOd,CAAP,CAAvB;AAAkCW,YAAAA,QAAQ,CAACxB,IAAT,CAAcW,GAAd;AACrC;AACJ;;AACD,YAAIT,SAAS,CAACY,kBAAd,EAAkC;AAC9BQ,UAAAA,oBAAoB,CAACjB,YAArB,GAAoCH,SAApC;AACAoB,UAAAA,oBAAoB,CAAChB,aAArB,GAAqCH,SAArC;AACAD,UAAAA,SAAS,CAACK,IAAV,CAAee,oBAAoB,CAAC7C,IAApC,EAA0C6C,oBAA1C;AACH;;AACD,YAAInB,SAAS,CAACW,kBAAd,EAAkC;AAC9BQ,UAAAA,oBAAoB,CAACjB,YAArB,GAAoCF,SAApC;AACAmB,UAAAA,oBAAoB,CAAChB,aAArB,GAAqCJ,SAArC;AACAC,UAAAA,SAAS,CAACI,IAAV,CAAee,oBAAoB,CAAC7C,IAApC,EAA0C6C,oBAA1C;AACH;AACJ;AACJ;;AACDF,IAAAA,eAAe,CAACZ,KAAhB;AACH;;;;AAlKQsB,MAAAA,K,gBAAAA,K;;AAGAC,MAAAA,e,sBAAAA,e;;AAGAF,MAAAA,oB,2BAAAA,oB;;AACAP,MAAAA,oB,gBAAAA,oB;AAAsBlB,MAAAA,kB,gBAAAA,kB;;AACtB4B,MAAAA,e,kBAAAA,e;AAAiBJ,MAAAA,c,kBAAAA,c;AAA4BK,MAAAA,Y,kBAAAA,Y;AAAcC,MAAAA,E,kBAAAA,E;AAAIC,MAAAA,a,kBAAAA,a;;AAC/DC,MAAAA,Y,qBAAAA,Y;;AACAC,MAAAA,e,2BAAAA,e;;;AAiBHhD,MAAAA,oB,GAAuB,IAAIgD,eAAJ,E;AACvB7C,MAAAA,kB,GAAqB,IAAI6C,eAAJ,E;AACrBtD,MAAAA,iB,GAAyC,E;AA4EzCqC,MAAAA,e,GAAkB,IAAIiB,eAAJ,E;AAClBtB,MAAAA,iB,GAA2C,E;AAgB3CU,MAAAA,Y,GAAmB,E;AA0CnBa,MAAAA,a,GAAgB;AAClBC,QAAAA,cAAc,EAAE,wBAACrD,CAAD,EAASC,CAAT,EAAiBwB,CAAjB,EAAyBC,CAAzB,EAAiCC,CAAjC,EAAqD;AACjE,cAAMnC,GAAG,GAAGuD,YAAY,CAAa/C,CAAb,CAAxB;AACA,cAAMP,GAAG,GAAGsD,YAAY,CAAa9C,CAAb,CAAxB;AACAuB,UAAAA,WAAW,CAAC,kBAAD,EAAqBhC,GAArB,EAA0BC,GAA1B,EAA+BgC,CAA/B,EAAkCC,CAAlC,EAAqCC,CAArC,CAAX;AACH,SALiB;AAMlB2B,QAAAA,YAAY,EAAE,sBAACtD,CAAD,EAASC,CAAT,EAAiBwB,CAAjB,EAAyBC,CAAzB,EAAiCC,CAAjC,EAAqD;AAC/D,cAAMnC,GAAG,GAAGuD,YAAY,CAAa/C,CAAb,CAAxB;AACA,cAAMP,GAAG,GAAGsD,YAAY,CAAa9C,CAAb,CAAxB;AACAuB,UAAAA,WAAW,CAAC,iBAAD,EAAoBhC,GAApB,EAAyBC,GAAzB,EAA8BgC,CAA9B,EAAiCC,CAAjC,EAAoCC,CAApC,CAAX;AACH,SAViB;AAWlB4B,QAAAA,gBAAgB,EAAE,0BAACvD,CAAD,EAASC,CAAT,EAAiBwB,CAAjB,EAAyBC,CAAzB,EAAiCC,CAAjC,EAAqD;AACnE,cAAMnC,GAAG,GAAGuD,YAAY,CAAa/C,CAAb,CAAxB;AACA,cAAMP,GAAG,GAAGsD,YAAY,CAAa9C,CAAb,CAAxB;AACAuB,UAAAA,WAAW,CAAC,iBAAD,EAAoBhC,GAApB,EAAyBC,GAAzB,EAA8BgC,CAA9B,EAAiCC,CAAjC,EAAoCC,CAApC,CAAX;AACH,SAfiB;AAgBlB6B,QAAAA,cAAc,EAAE,wBAACxD,CAAD,EAASC,CAAT,EAA0B;AACtC,cAAMT,GAAG,GAAGuD,YAAY,CAAa/C,CAAb,CAAxB;AACA,cAAMP,GAAG,GAAGsD,YAAY,CAAa9C,CAAb,CAAxB;AACAX,UAAAA,SAAS,CAAC,gBAAD,EAAmBE,GAAnB,EAAwBC,GAAxB,CAAT;AACH,SApBiB;AAqBlBgE,QAAAA,YAAY,EAAE,sBAACzD,CAAD,EAASC,CAAT,EAA0B;AACpC,cAAMT,GAAG,GAAGuD,YAAY,CAAa/C,CAAb,CAAxB;AACA,cAAMP,GAAG,GAAGsD,YAAY,CAAa9C,CAAb,CAAxB;AACAX,UAAAA,SAAS,CAAC,eAAD,EAAkBE,GAAlB,EAAuBC,GAAvB,CAAT;AACH,SAzBiB,CA0BlB;;AA1BkB,O,EA6BtB;AACA;AACA;;AACMiE,MAAAA,a,GAAgB;AAClBC,QAAAA,SADkB,qBACPC,UADO,EACUC,KADV,EACsBC,MADtB,EACmCC,IADnC,EACsD;AACpE;AACA;AACA;AACA,cAAId,aAAJ,EAAmB;AACf,gBAAMe,WAAU,GAAGH,KAAK,CAACI,QAAN,EAAnB;;AACA,gBAAKL,UAAU,CAACM,KAAX,GAAmB,CAApB,IAA2BF,WAAU,GAAGhB,EAAE,CAACmB,SAAH,CAAaC,cAAzD,EAA0E;AACtE,qBAAOpB,EAAE,CAACqB,YAAH,CAAgBC,KAAvB;AACH;;AACD,mBAAOV,UAAU,CAACM,KAAX,GAAmB,CAAnB,GAAuBlB,EAAE,CAACqB,YAAH,CAAgBE,MAAvC,GAAgDvB,EAAE,CAACqB,YAAH,CAAgBG,MAAvE;AACH;;AAED,cAAMR,UAAU,GAAGH,KAAK,CAACI,QAAN,EAAnB;;AACA,cAAKL,UAAU,CAACM,KAAX,GAAmB,CAApB,IAA0BF,UAAU,CAACS,KAAX,CAAiBzB,EAAE,CAAC0B,WAAH,CAAeN,cAAhC,CAA9B,EAA+E;AAC3E,mBAAOpB,EAAE,CAAC2B,cAAH,CAAkBL,KAAzB;AACH;;AACD,iBAAOV,UAAU,CAACM,KAAX,GAAmB,CAAnB,GAAuBlB,EAAE,CAAC2B,cAAH,CAAkBJ,MAAzC,GAAkDvB,EAAE,CAAC2B,cAAH,CAAkBH,MAA3E;AACH;AAlBiB,O;;4BAqBTI,U;;;eACTC,a,GAAA,uBAAeC,EAAf,EAAkC,CAAG,C;;eACrCC,kB,GAAA,4BAAoBD,EAApB,EAA+C,CAAG,C;;eAClDE,U,GAAA,oBAAYC,OAAZ,EAAsC;AAClC,eAAKC,KAAL,CAAWF,UAAX,CAAsBC,OAAtB;AACH,S;;;;8BAEgB;AAAE,mBAAO,KAAKC,KAAZ;AAAoB;;;AAgBvC,8BAAe;AAAA,eAdNC,OAcM;AAAA,eAbND,KAaM;AAAA,eAZNE,OAYM;AAAA,eAVNC,eAUM;AAAA,eATNC,YASM;AAAA,eARNC,cAQM;AAAA,eAPNC,YAOM;AAAA,eANNC,aAMM;AAAA,eAJNC,aAIM,GAJ6B,EAI7B;AAAA,eAFLC,iBAEK,GAFe,EAEf;;AACX,cAAI1C,aAAJ,EAAmB;AACf;AACA,gBAAMkC,OAAO,GAAGnC,EAAE,CAACmC,OAAnB;AACA,gBAAMS,EAAE,GAAG,IAAI5C,EAAE,CAAC6C,aAAP,EAAX;AACA,gBAAMT,OAAO,GAAGpC,EAAE,CAAC8C,aAAH,CAAiBF,EAAjB,CAAhB;AACA,gBAAMG,SAAS,GAAGZ,OAAO,CAACa,eAAR,EAAlB;AACA,gBAAMC,UAAU,GAAG,IAAIjD,EAAE,CAACkD,uBAAP,EAAnB;AACAD,YAAAA,UAAU,CAACE,YAAX,CAAwB,UAACC,OAAD,EAAeC,KAAf,EAA8B;AAClD,kBAAMC,MAAM,GAAGF,OAAO,CAACE,MAAvB,CADkD,CAElD;AACA;AACA;;AACA,kBAAMC,OAAO,GAAGH,OAAO,CAACI,UAAxB;AACA,kBAAMC,KAAK,GAAGH,MAAM,CAACxG,MAAP,GAAgB,CAA9B;AACA,kBAAM4G,QAAQ,GAAG,IAAIC,WAAJ,CAAgBJ,OAAhB,EAAyB,CAAzB,EAA4BE,KAAK,GAAG,CAApC,CAAjB;;AACA,mBAAK,IAAIhE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgE,KAApB,EAA2BhE,CAAC,EAA5B,EAAgC;AAC5B,oBAAMmE,KAAK,GAAGF,QAAQ,CAAC,CAAD,CAAtB;AACA,oBAAIE,KAAK,GAAG,CAAZ,EAAe;AACf,oBAAMC,MAAM,GAAGP,MAAM,CAAC,IAAI7D,CAAL,CAArB;AACA,oBAAMqE,MAAM,GAAGR,MAAM,CAAC,IAAI7D,CAAJ,GAAQ,CAAT,CAArB;AACA,oBAAI,CAACoE,MAAD,IAAW,CAACC,MAAhB,EAAwB;AACxB,oBAAMC,MAAM,GAAGhE,YAAY,CAAa8D,MAAb,CAA3B;AACA,oBAAMG,MAAM,GAAGjE,YAAY,CAAa+D,MAAb,CAA3B;AACA,oBAAMG,MAAM,GAAGP,QAAQ,CAAC,CAAD,CAAvB;AACA,oBAAM3E,YAAY,GAAG2E,QAAQ,CAAC,CAAD,CAA7B;AACA,oBAAMQ,aAAa,GAAGd,OAAO,CAACc,aAA9B;;AACA,oBAAID,MAAM,GAAG,CAAb,EAAgB;AACZzF,kBAAAA,WAAW,CAAC,kBAAD,EAAqBuF,MAArB,EAA6BC,MAA7B,EAAqCjF,YAArC,EAAmDmF,aAAnD,EAAkE,CAAlE,CAAX;AACH,iBAFD,MAEO,IAAID,MAAM,GAAG,CAAb,EAAgB;AACnBzF,kBAAAA,WAAW,CAAC,iBAAD,EAAoBuF,MAApB,EAA4BC,MAA5B,EAAoCjF,YAApC,EAAkDmF,aAAlD,EAAiE,CAAjE,CAAX;AACH,iBAFM,MAEA,IAAID,MAAM,GAAG,EAAb,EAAiB;AACpBzF,kBAAAA,WAAW,CAAC,iBAAD,EAAoBuF,MAApB,EAA4BC,MAA5B,EAAoCjF,YAApC,EAAkDmF,aAAlD,EAAiE,CAAjE,CAAX;AACH;AACJ;AACJ,aA3BD;AA4BAjB,YAAAA,UAAU,CAACkB,YAAX,CAAwB,UAACd,KAAD,EAAae,QAAb,EAAuC;AAC3D,kBAAMtH,MAAM,GAAGuG,KAAK,CAACvG,MAAN,GAAe,CAA9B;AACA,kBAAM4G,QAAQ,GAAG,IAAIC,WAAJ,CAAgBS,QAAhB,CAAjB;;AACA,mBAAK,IAAI3E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG3C,MAApB,EAA4B2C,CAAC,EAA7B,EAAiC;AAC7B,oBAAMmE,KAAK,GAAGF,QAAQ,CAACjE,CAAD,CAAtB;AACA,oBAAImE,KAAK,GAAG,CAAZ,EAAe;AACf,oBAAMK,MAAM,GAAGP,QAAQ,CAACjE,CAAC,GAAG,CAAL,CAAvB;AACA,oBAAM4E,EAAE,GAAGhB,KAAK,CAAC5D,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAhB;AACA,oBAAM6E,EAAE,GAAGjB,KAAK,CAAC5D,CAAC,GAAG,CAAJ,GAAQ,CAAT,CAAhB;AACA,oBAAMsE,MAAM,GAAGhE,YAAY,CAAasE,EAAb,CAA3B;AACA,oBAAML,MAAM,GAAGjE,YAAY,CAAauE,EAAb,CAA3B;;AACA,oBAAIL,MAAM,GAAG,CAAb,EAAgB;AACZ3H,kBAAAA,SAAS,CAAC,gBAAD,EAAmByH,MAAnB,EAA2BC,MAA3B,CAAT;AACH,iBAFD,MAEO,IAAIC,MAAM,GAAG,EAAb,EAAiB;AACpB3H,kBAAAA,SAAS,CAAC,eAAD,EAAkByH,MAAlB,EAA0BC,MAA1B,CAAT;AACH;AACJ;AACJ,aAjBD;AAkBA,iBAAKxB,YAAL,GAAoBS,UAApB;AACA,iBAAKR,aAAL,GAAqB,IAAIzC,EAAE,CAACuE,mBAAP,EAArB;AACA,iBAAK9B,aAAL,CAAmB+B,YAAnB,CAAgC9D,aAAa,CAACC,SAA9C;AACA,iBAAK0B,eAAL,GAAuB;AAAEzE,cAAAA,IAAI,EAAE;AAAE6G,gBAAAA,KAAK,EAAE,CAAT;AAAYC,gBAAAA,KAAK,EAAE,CAAnB;AAAsBC,gBAAAA,KAAK,EAAE,CAA7B;AAAgCzD,gBAAAA,KAAK,EAAE;AAAvC,eAAR;AAAoD0C,cAAAA,KAAK,EAAE;AAA3D,aAAvB;AACAb,YAAAA,SAAS,CAAC6B,0BAAV,CAAqC3B,UAArC;AACA,gBAAMf,KAAK,GAAGC,OAAO,CAAC0C,WAAR,CAAoB9B,SAApB,CAAd;AACA,iBAAKZ,OAAL,GAAeA,OAAf;AACA,iBAAKC,OAAL,GAAeA,OAAf;AACA,iBAAKF,KAAL,GAAaA,KAAb;AACH,WA9DD,MA8DO;AACH,iBAAKI,YAAL,GAAoB,IAAItC,EAAE,CAAC8E,YAAP,EAApB;AACA,iBAAKvC,cAAL,GAAsB,IAAIvC,EAAE,CAAC+E,kBAAP,EAAtB;AACA,iBAAKxC,cAAL,CAAoByC,MAApB,CAA2B,KAAKrC,iBAAhC,EAAmD,KAAKL,YAAxD;AACA,iBAAKD,eAAL,GAAuB,IAAIrC,EAAE,CAACiF,iBAAP,EAAvB;AACA,iBAAKzC,YAAL,GAAoBxC,EAAE,CAACkF,yBAAH,CAA6BC,SAA7B,CAAuC/E,aAAvC,CAApB;AACA,iBAAKqC,aAAL,GAAqBzC,EAAE,CAACoF,qBAAH,CAAyBD,SAAzB,CAAmCzE,aAAnC,CAArB;AACA,gBAAM2E,OAAO,GAAGrF,EAAE,CAACsF,kBAAnB;AACA,gBAAMC,oBAAoB,GAAG,IAAIvF,EAAE,CAACwF,sBAAP,EAA7B;AACA,gBAAMC,SAAS,GAAG,IAAIzF,EAAE,CAAC0F,kBAAP,EAAlB;AACA,gBAAMC,UAAU,GAAG3F,EAAE,CAAC4F,kBAAH,CAAsBP,OAAtB,EAA+BI,SAA/B,EAA0CF,oBAA1C,CAAnB;AACA,gBAAMM,KAAK,GAAG,IAAI7F,EAAE,CAAC8F,iBAAP,EAAd;AACA,iBAAK1D,OAAL,GAAepC,EAAE,CAAC+F,eAAH,CAAmBV,OAAnB,EAA4BM,UAA5B,EAAwC,IAAI3F,EAAE,CAACgG,eAAP,CAAuBH,KAAvB,CAAxC,CAAf;AACA,iBAAK1D,OAAL,GAAenC,EAAE,CAACiG,eAAH,CAAmBZ,OAAnB,EAA4BM,UAA5B,EAAwCE,KAAxC,EAA+C,KAA/C,EAAsD,IAAtD,CAAf;AACA7F,YAAAA,EAAE,CAACkG,gBAAH,CAAoB,KAAK/D,OAAzB,EAAkC,IAAlC;;AACA,gBAAMY,UAAS,GAAG/C,EAAE,CAACmG,mBAAH,CAAuB,KAAKhE,OAAL,CAAaiE,kBAAb,EAAvB,EAA0D,CAA1D,EAA6D,KAAK5D,YAAlE,CAAlB;;AACA,iBAAKN,KAAL,GAAa,KAAKC,OAAL,CAAa0C,WAAb,CAAyB9B,UAAzB,CAAb;AACA/C,YAAAA,EAAE,CAACmC,OAAH,GAAa,KAAKA,OAAlB;AACH;AACJ;;eAEDkE,O,GAAA,mBAAiB;AACb,cAAI,KAAK3D,aAAL,CAAmB5F,MAAvB,EAA+B8C,KAAK,CAAC,iDAAD,CAAL;AAC/B,eAAKsC,KAAL,CAAWoE,OAAX;AACH,S;;eAEDC,I,GAAA,cAAMC,SAAN,EAAyBC,oBAAzB,EAAwDC,WAAxD,EAA+E;AAAA,cAAvBA,WAAuB;AAAvBA,YAAAA,WAAuB,GAAT,CAAS;AAAA;;AAC3E,cAAI,KAAKhE,aAAL,CAAmB5F,MAAnB,KAA8B,CAAlC,EAAqC;AACjC;AACH;;AACD,cAAMoF,KAAK,GAAG,KAAKA,KAAnB;;AACA,cAAIjC,aAAJ,EAAmB;AACfiC,YAAAA,KAAK,CAACyE,QAAN,CAAeH,SAAf;AACH,WAFD,MAEO;AACHtE,YAAAA,KAAK,CAACyE,QAAN,CAAeH,SAAf,EAA0B,IAA1B;AACH;;AACDtE,UAAAA,KAAK,CAAC0E,YAAN,CAAmB,IAAnB;;AACA,eAAK,IAAInH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKiD,aAAL,CAAmB5F,MAAvC,EAA+C2C,CAAC,EAAhD,EAAoD;AAChD,gBAAMoH,IAAI,GAAG,KAAKnE,aAAL,CAAmBjD,CAAnB,CAAb;AACAoH,YAAAA,IAAI,CAACC,kBAAL;AACH;AACJ,S;;eAEDC,kB,GAAA,8BAA4B;AACxB,eAAK,IAAItH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKiD,aAAL,CAAmB5F,MAAvC,EAA+C2C,CAAC,EAAhD,EAAoD;AAChD,gBAAMoH,IAAI,GAAG,KAAKnE,aAAL,CAAmBjD,CAAnB,CAAb;AACAoH,YAAAA,IAAI,CAACE,kBAAL;AACH;AACJ,S;;eAEDC,e,GAAA,2BAAyB;AACrB,eAAK,IAAIvH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKiD,aAAL,CAAmB5F,MAAvC,EAA+C2C,CAAC,EAAhD,EAAoD;AAChD,gBAAMoH,IAAI,GAAG,KAAKnE,aAAL,CAAmBjD,CAAnB,CAAb;AACAoH,YAAAA,IAAI,CAACI,kBAAL;AACH;AACJ,S;;eAEDC,a,GAAA,uBAAeC,IAAf,EAA2BC,WAA3B,EAA0E;AACtE,iBAAOvH,eAAe,CAACqH,aAAhB,CAA8BC,IAA9B,EAAoC,IAApC,EAA0CC,WAA1C,CAAP;AACH,S;;eAEDC,Q,GAAA,kBAAUR,IAAV,EAAuC;AACnC,cAAMS,KAAK,GAAG,KAAK5E,aAAL,CAAmB6E,OAAnB,CAA2BV,IAA3B,CAAd;;AACA,cAAIS,KAAK,GAAG,CAAZ,EAAe;AACXxH,YAAAA,eAAe,CAAC,KAAKoC,KAAN,EAAa2E,IAAI,CAACxH,IAAlB,CAAf;AACA,iBAAKqD,aAAL,CAAmB5E,IAAnB,CAAwB+I,IAAxB;AACH;AACJ,S;;eAEDW,W,GAAA,qBAAaX,IAAb,EAA0C;AACtC,cAAMS,KAAK,GAAG,KAAK5E,aAAL,CAAmB6E,OAAnB,CAA2BV,IAA3B,CAAd;;AACA,cAAIS,KAAK,IAAI,CAAb,EAAgB;AACZ,iBAAKpF,KAAL,CAAWsF,WAAX,CAAuBX,IAAI,CAACxH,IAA5B,EAAkC,IAAlC;AACAa,YAAAA,YAAY,CAAC,KAAKwC,aAAN,EAAqB4E,KAArB,CAAZ;AACH;AACJ,S;;eAEDG,a,GAAA,uBAAeC,WAAf,EAAmD,CAAG,C;;eAEtDC,gB,GAAA,0BAAkBD,WAAlB,EAAsD,CAAG,C;;eAEzDE,O,GAAA,iBAASC,QAAT,EAAwBC,OAAxB,EAAkDC,IAAlD,EAAuFC,OAAvF,EAA6H;AACzH,cAAMC,WAAW,GAAGH,OAAO,CAACG,WAA5B;AACA,cAAMrE,KAAK,GAAI,KAAK,CAAN,GAAY,KAAK,CAAjB,GAAuB,KAAK,EAA1C;AACA,cAAM1C,KAAK,GAAG,KAAK4G,OAAO,CAACI,YAAR,GAAuB,CAAvB,GAA2B,CAAhC,CAAd;;AACA,cAAIjI,aAAJ,EAAmB;AACf,iBAAKoC,eAAL,CAAqBzE,IAArB,CAA0BsD,KAA1B,GAAkCA,KAAlC;AACA,iBAAKmB,eAAL,CAAqBzE,IAArB,CAA0B6G,KAA1B,GAAkCqD,OAAO,CAACK,IAAR,KAAiB,CAAnD;AACA,iBAAK9F,eAAL,CAAqBuB,KAArB,GAA8B,KAAK,CAAN,GAAY,KAAK,CAAjB,GAAuB,KAAK,CAA5B,GAAkC,KAAK,CAApE;AACA,gBAAMwE,CAAC,GAAGpI,EAAE,CAACqI,aAAH,CAAiBC,eAAjB,CAAiC,KAAKpG,KAAtC,EAA6C2F,QAAQ,CAAClJ,CAAtD,EAAyDkJ,QAAQ,CAACnJ,CAAlE,EAAqEuJ,WAArE,EAAkFrE,KAAlF,EACN,KAAKjB,iBADC,EACkB,KAAKN,eADvB,EACwC,KAAKI,aAD7C,CAAV;;AAGA,gBAAI2F,CAAJ,EAAO;AACH,mBAAK,IAAI3I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2I,CAAC,CAACtL,MAAtB,EAA8B2C,CAAC,EAA/B,EAAmC;AAC/B,oBAAM8I,KAAK,GAAGH,CAAC,CAAC3I,CAAD,CAAf;AACA,oBAAM/C,QAAQ,GAAGqD,YAAY,CAAawI,KAAK,CAAC1H,KAAnB,CAAZ,CAAsCnE,QAAvD;AACA,oBAAM8L,MAAM,GAAGT,IAAI,CAACU,GAAL,EAAf;;AACAD,gBAAAA,MAAM,CAACE,OAAP,CAAeH,KAAK,CAACI,QAArB,EAA+BJ,KAAK,CAACK,QAArC,EAA+ClM,QAA/C,EAAyD6L,KAAK,CAACM,MAA/D;;AACAb,gBAAAA,OAAO,CAAClK,IAAR,CAAa0K,MAAb;AACH;;AACD,qBAAO,IAAP;AACH;AACJ,WAjBD,MAiBO;AACH,iBAAKnG,eAAL,CAAqByG,QAArB,CAA8B5H,KAA9B,EAAqC,CAArC;AACA,iBAAKmB,eAAL,CAAqByG,QAArB,CAA8BhB,OAAO,CAACK,IAAR,KAAiB,CAA/C,EAAkD,CAAlD;AACA,iBAAK9F,eAAL,CAAqB0G,QAArB,CAA+B,KAAK,CAAN,GAAY,KAAK,CAAjB,GAAuB,KAAK,CAA5B,GAAkC,KAAK,CAArE;AACA,gBAAMC,MAAM,GAAG,KAAKzG,cAApB;;AACA,gBAAM6F,EAAC,GAAG,KAAKlG,KAAL,CAAWoG,eAAX,CAA2BT,QAAQ,CAAClJ,CAApC,EAAuCkJ,QAAQ,CAACnJ,CAAhD,EAAmDuJ,WAAnD,EAAgErE,KAAhE,EACNoF,MADM,EACEA,MAAM,CAACC,IAAP,EADF,EACiB,KAAK5G,eADtB,EACuC,KAAKI,aAD5C,EAC2D,IAD3D,CAAV;;AAGA,gBAAI2F,EAAC,GAAG,CAAR,EAAW;AACP,mBAAK,IAAI3I,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG2I,EAApB,EAAuB3I,EAAC,EAAxB,EAA4B;AACxB,oBAAM8I,MAAK,GAAGS,MAAM,CAACE,GAAP,CAAWzJ,EAAX,CAAd;;AACA,oBAAM/C,SAAQ,GAAGqD,YAAY,CAAawI,MAAK,CAACY,QAAN,EAAb,CAAZ,CAA2CzM,QAA5D;;AACA,oBAAM8L,OAAM,GAAGT,IAAI,CAACU,GAAL,EAAf;;AACAD,gBAAAA,OAAM,CAACE,OAAP,CAAeH,MAAK,CAACI,QAArB,EAA+BJ,MAAK,CAACK,QAArC,EAA+ClM,SAA/C,EAAyD6L,MAAK,CAACM,MAA/D;;AACAb,gBAAAA,OAAO,CAAClK,IAAR,CAAa0K,OAAb;AACH;;AACD,qBAAO,IAAP;AACH;;AAAC,gBAAIJ,EAAC,KAAK,CAAC,CAAX,EAAc;AACZ;AACAgB,cAAAA,OAAO,CAACxJ,KAAR,CAAc,oBAAd;AACH;AACJ;;AACD,iBAAO,KAAP;AACH,S;;eAEDyJ,c,GAAA,wBAAgBxB,QAAhB,EAA+BC,OAA/B,EAAyDU,MAAzD,EAA4F;AACxF,cAAMP,WAAW,GAAGH,OAAO,CAACG,WAA5B;AACA,cAAMrE,KAAK,GAAI,KAAK,CAAN,GAAY,KAAK,CAA/B,CAFwF,CAErD;;AACnC,cAAM1C,KAAK,GAAG,KAAK4G,OAAO,CAACI,YAAR,GAAuB,CAAvB,GAA2B,CAAhC,IAAqC,CAAnD;;AACA,cAAIjI,aAAJ,EAAmB;AACf,iBAAKoC,eAAL,CAAqBzE,IAArB,CAA0BsD,KAA1B,GAAkCA,KAAlC;AACA,iBAAKmB,eAAL,CAAqBzE,IAArB,CAA0B6G,KAA1B,GAAkCqD,OAAO,CAACK,IAAR,KAAiB,CAAnD;AACA,iBAAK9F,eAAL,CAAqBuB,KAArB,GAA8B,KAAK,CAAN,GAAY,KAAK,CAAjB,GAAuB,KAAK,CAAzD;AACA,gBAAM2E,KAAK,GAAGvI,EAAE,CAACqI,aAAH,CAAiBiB,aAAjB,CAA+B,KAAKpH,KAApC,EAA2C2F,QAAQ,CAAClJ,CAApD,EAAuDkJ,QAAQ,CAACnJ,CAAhE,EAAmEuJ,WAAnE,EACVrE,KADU,EACH,KAAKvB,eADF,EACmB,KAAKI,aADxB,CAAd;;AAEA,gBAAI8F,KAAJ,EAAW;AACP,kBAAM7L,QAAQ,GAAGqD,YAAY,CAAawI,KAAK,CAAC1H,KAAnB,CAAZ,CAAsCnE,QAAvD;;AACA8L,cAAAA,MAAM,CAACE,OAAP,CAAeH,KAAK,CAACI,QAArB,EAA+BJ,KAAK,CAACK,QAArC,EAA+ClM,QAA/C,EAAyD6L,KAAK,CAACM,MAA/D;;AACA,qBAAO,IAAP;AACH;AACJ,WAXD,MAWO;AACH,iBAAKxG,eAAL,CAAqByG,QAArB,CAA8BhB,OAAO,CAACK,IAAR,KAAiB,CAA/C,EAAkD,CAAlD;AACA,iBAAK9F,eAAL,CAAqByG,QAArB,CAA8B5H,KAA9B,EAAqC,CAArC;AACA,iBAAKmB,eAAL,CAAqB0G,QAArB,CAA+B,KAAK,CAAN,GAAY,KAAK,CAAjB,GAAuB,KAAK,CAA1D;AACA,gBAAMR,OAAK,GAAG,KAAKjG,YAAnB;AACA,gBAAM8F,CAAC,GAAG,KAAKlG,KAAL,CAAWoH,aAAX,CAAyBzB,QAAQ,CAAClJ,CAAlC,EAAqCkJ,QAAQ,CAACnJ,CAA9C,EAAiDoJ,OAAO,CAACG,WAAzD,EAAsErE,KAAtE,EACN2E,OADM,EACC,KAAKlG,eADN,EACuB,KAAKI,aAD5B,EAC2C,IAD3C,CAAV;;AAEA,gBAAI2F,CAAJ,EAAO;AACH,kBAAM1L,UAAQ,GAAGqD,YAAY,CAAawI,OAAK,CAACY,QAAN,EAAb,CAAZ,CAA2CzM,QAA5D;;AACA8L,cAAAA,MAAM,CAACE,OAAP,CAAeH,OAAK,CAACI,QAArB,EAA+BJ,OAAK,CAACK,QAArC,EAA+ClM,UAA/C,EAAyD6L,OAAK,CAACM,MAA/D;;AACA,qBAAO,IAAP;AACH;AACJ;;AACD,iBAAO,KAAP;AACH,S;;eAEDU,U,GAAA,sBAAoB;AAChBhM,UAAAA,gBAAgB;AAChB4B,UAAAA,kBAAkB;AACrB,S"}