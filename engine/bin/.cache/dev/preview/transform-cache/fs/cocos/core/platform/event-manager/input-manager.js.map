{"version":3,"sources":["../../../../../../../../../../cocos/core/platform/event-manager/input-manager.ts"],"names":["JSB","RUNTIME_BASED","Vec2","rect","macro","sys","eventManager","EventAcceleration","EventKeyboard","EventMouse","EventTouch","Touch","legacyCC","logID","TOUCH_TIMEOUT","PORTRAIT","LANDSCAPE_LEFT","PORTRAIT_UPSIDE_DOWN","LANDSCAPE_RIGHT","_vec2","_preLocation","Acceleration","x","y","z","timestamp","internal","InputManager","_mousePressed","_isRegisterEvent","_preTouchPoint","_prevMousePoint","_preTouchPool","_preTouchPoolPointer","_touches","_touchesIntegerDict","_indexBitsUsed","_maxTouches","_accelEnabled","_accelInterval","_accelMinus","_accelCurTime","_acceleration","_accelDeviceEvent","_glView","_pointLocked","handleTouchesBegin","touches","handleTouches","locTouchIntDict","i","length","touch","touchID","getID","index","undefined","unusedIndex","_getUnUsedIndex","getLocation","curTouch","getPreviousLocation","setPrevPoint","push","touchEvent","BEGAN","ENABLE_MULTI_TOUCH","_getUsefulTouches","dispatchEvent","handleTouchesMove","locTouches","setPoint","MOVED","handleTouchesEnd","getSetOfTouchesEndOrCancel","ENDED","handleTouchesCancel","CANCELLED","locTouchesIntDict","_removeUsedIndexBit","getHTMLElementPosition","element","docElem","document","documentElement","leftOffset","os","OS_IOS","isBrowser","window","screenLeft","pageXOffset","clientLeft","topOffset","screenTop","pageYOffset","clientTop","getBoundingClientRect","box","left","top","width","height","HTMLCanvasElement","parseInt","style","getPreTouch","preTouch","locPreTouchPool","id","setPreTouch","find","getTouchByXY","event","tx","ty","pos","locPreTouch","location","convertToLocationInView","movementX","movementY","getMouseEvent","eventType","locPreMouse","mouseEvent","_convertMouseToLocation","setLocation","getPointByEvent","pageX","pageY","body","scrollLeft","scrollTop","clientX","clientY","getTouchesByEvent","position","locView","changedTouches","changedTouch","BROWSER_TYPE_FIREFOX","browserType","identifier","registerSystemEvent","view","prohibition","isMobile","supportMouse","capabilities","mouse","supportTouches","_registerMouseEvents","navigator","msPointerEnabled","_registerMousePointerEvents","_registerTouchEvents","_registerKeyboardEvent","setAccelerometerEnabled","isEnable","scheduler","director","getScheduler","enableForTarget","_registerAccelerometerEvent","scheduleUpdate","_unregisterAccelerometerEvent","unscheduleUpdate","jsb","device","setMotionEnabled","didAccelerate","eventData","mAcceleration","DeviceMotionEvent","deviceMotionEvent","eventAcceleration","accelerationIncludingGravity","deviceOrientationEvent","gamma","beta","alpha","_isRotated","tmp","timeStamp","Date","now","tmpX","orientation","OS_ANDROID","BROWSER_TYPE_MOBILE_QQ","update","dt","setAccelerometerInterval","interval","setMotionInterval","temp","getCurrentTime","lastModified","_registerPointerLockEvent","_registerWindowMouseEvents","_registerElementMouseEvents","lockChangeAlert","canvas","game","pointerLockElement","mozPointerLockElement","addEventListener","positionRect","contains","UP","setButton","button","listenDOMMouseEvent","eventName","type","handler","stopPropagation","preventDefault","DOWN","focus","MOVE","BUTTON_MISSING","SCROLL","setScrollData","wheelDelta","detail","_pointerEventsMap","MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel","call","makeTouchListener","touchesHandler","touchesToHandle","DeviceOrientationEvent","_deviceEventType","_didAccelerateFun","removeEventListener","touchDict","usedID","inputManager"],"mappings":"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"}