{"version":3,"sources":["../../../../../../../../../cocos/core/utils/prefab-utils.ts"],"names":["compareStringArray","array1","array2","length","every","value","index","createNodeWithPrefab","node","prefabInfo","_prefab","prefabInstance","instance","asset","EDITOR","errorID","name","_objFlags","_parent","_id","legacyCC","game","_isCloning","SUPPORT_JIT","_doInstantiate","prefabRoot","data","_iN$t","instantiate","_clone","generateTargetMap","targetMap","isRoot","curTargetMap","fileId","components","i","comp","__prefab","children","childNode","getTarget","localID","target","targetIter","applyMountedChildren","mountedChildren","childInfo","targetInfo","nodes","_children","push","_onBatchCreated","applyPropertyOverrides","propertyOverrides","propOverride","targetPropOwner","propertyPath","slice","targetPropName","pop","propName","Array","isArray","Number","parseInt","isInteger","warn","applyTargetOverrides","targetOverrides","targetOverride","source","sourceInfo","sourceInstance","targetInstance","ccclass","serializable","editable","type","CCObject","TargetInfo","TargetOverrideInfo","Node","PrefabInfo","_PrefabInfo","CompPrefabInfo","PropertyOverrideInfo","isTarget","propPath","MountedChildrenInfo","PrefabInstance","findPropertyOverride","propertyOverride","removePropertyOverride","splice"],"mappings":";;;;;;;;;;;AAyCA,WAASA,kBAAT,CAA6BC,MAA7B,EAAyDC,MAAzD,EAAqF;AACjF,QAAI,CAACD,MAAD,IAAW,CAACC,MAAhB,EAAwB;AACpB,aAAO,KAAP;AACH;;AAED,QAAID,MAAM,CAACE,MAAP,KAAkBD,MAAM,CAACC,MAA7B,EAAqC;AACjC,aAAO,KAAP;AACH;;AAED,WAAOF,MAAM,CAACG,KAAP,CAAa,UAACC,KAAD,EAAQC,KAAR;AAAA,aAAkBD,KAAK,KAAKH,MAAM,CAACI,KAAD,CAAlC;AAAA,KAAb,CAAP;AACH;;AA4JM,WAASC,oBAAT,CAA+BC,IAA/B,EAA2C;AAC9C;AACA,QAAMC,UAAU,GAAGD,IAAI,CAACE,OAAxB;;AACA,QAAI,CAACD,UAAL,EAAiB;AACb;AACH;;AAED,QAAME,cAAc,GAAGF,UAAU,CAACG,QAAlC;;AAEA,QAAI,CAACD,cAAL,EAAqB;AACjB;AACH;;AAED,QAAI,CAACF,UAAU,CAACI,KAAhB,EAAuB;AACnB,UAAIC,MAAJ,EAAY,CACR;AACH,OAFD,MAEO;AACHC,QAAAA,OAAO,CAAC,IAAD,EAAOP,IAAI,CAACQ,IAAZ,CAAP;AACH,OALkB,CAOnB;;;AACAP,MAAAA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AACA;AACH,KAvB6C,CAyB9C;;;AACA,QAAMK,SAAS,GAAIT,IAAI,CAACS,SAAxB,CA1B8C,CA2B9C;;AACA,QAAMC,OAAO,GAAGV,IAAI,CAACU,OAArB,CA5B8C,CA6B9C;;AACA,QAAMC,GAAG,GAAGX,IAAI,CAACW,GAAjB,CA9B8C,CA+B9C;;AACA,QAAMT,OAAO,GAAGF,IAAI,CAACE,OAArB,CAhC8C,CAkC9C;;AACAU,IAAAA,QAAQ,CAACC,IAAT,CAAcC,UAAd,GAA2B,IAA3B;;AACA,QAAIC,WAAJ,EAAiB;AACb;AACAd,MAAAA,UAAU,CAACI,KAAX,CAAiBW,cAAjB,CAAgChB,IAAhC;AACH,KAHD,MAGO;AACH;AACA,UAAMiB,UAAU,GAAGhB,UAAU,CAACI,KAAX,CAAiBa,IAApC,CAFG,CAIH;;AACAD,MAAAA,UAAU,CAACE,KAAX,GAAmBnB,IAAnB,CALG,CAOH;;AACAY,MAAAA,QAAQ,CAACQ,WAAT,CAAqBC,MAArB,CAA4BJ,UAA5B,EAAwCA,UAAxC;AACH;;AACDL,IAAAA,QAAQ,CAACC,IAAT,CAAcC,UAAd,GAA2B,KAA3B,CAjD8C,CAmD9C;;AACAd,IAAAA,IAAI,CAACS,SAAL,GAAiBA,SAAjB,CApD8C,CAqD9C;;AACAT,IAAAA,IAAI,CAACU,OAAL,GAAeA,OAAf,CAtD8C,CAuD9C;;AACAV,IAAAA,IAAI,CAACW,GAAL,GAAWA,GAAX,CAxD8C,CA0D9C;;AACA,QAAIX,IAAI,CAACE,OAAT,EAAkB;AACd;AACA;AACAF,MAAAA,IAAI,CAACE,OAAL,CAAaE,QAAb,GAAwBF,OAAxB,aAAwBA,OAAxB,uBAAwBA,OAAO,CAAEE,QAAjC;AACH;AACJ,G,CAED;;;AACO,WAASkB,iBAAT,CAA4BtB,IAA5B,EAAwCuB,SAAxC,EAAwDC,MAAxD,EAAyE;AAAA;;AAC5E,QAAIC,YAAY,GAAGF,SAAnB,CAD4E,CAG5E;;AACA,QAAMpB,cAAc,oBAAGH,IAAI,CAACE,OAAR,kDAAG,cAAcE,QAArC;;AACA,QAAI,CAACoB,MAAD,IAAWrB,cAAf,EAA+B;AAC3BoB,MAAAA,SAAS,CAACpB,cAAc,CAACuB,MAAhB,CAAT,GAAmC,EAAnC;AACAD,MAAAA,YAAY,GAAGF,SAAS,CAACpB,cAAc,CAACuB,MAAhB,CAAxB;AACH,KAR2E,CAU5E;;;AACA,QAAMzB,UAAU,GAAGD,IAAI,CAACE,OAAxB;;AACA,QAAID,UAAJ,EAAgB;AACZwB,MAAAA,YAAY,CAACxB,UAAU,CAACyB,MAAZ,CAAZ,GAAkC1B,IAAlC;AACH;;AAED,QAAM2B,UAAU,GAAG3B,IAAI,CAAC2B,UAAxB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,UAAU,CAAChC,MAA/B,EAAuCiC,CAAC,EAAxC,EAA4C;AACxC,UAAMC,IAAI,GAAGF,UAAU,CAACC,CAAD,CAAvB;;AACA,UAAIC,IAAI,CAACC,QAAT,EAAmB;AACfL,QAAAA,YAAY,CAACI,IAAI,CAACC,QAAL,CAAcJ,MAAf,CAAZ,GAAqCG,IAArC;AACH;AACJ;;AAED,SAAK,IAAID,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG5B,IAAI,CAAC+B,QAAL,CAAcpC,MAAlC,EAA0CiC,EAAC,EAA3C,EAA+C;AAC3C,UAAMI,SAAS,GAAGhC,IAAI,CAAC+B,QAAL,CAAcH,EAAd,CAAlB;AACAN,MAAAA,iBAAiB,CAACU,SAAD,EAAYP,YAAZ,EAA0B,KAA1B,CAAjB;AACH;AACJ;;AAEM,WAASQ,SAAT,CAAoBC,OAApB,EAAuCX,SAAvC,EAAuD;AAC1D,QAAI,CAACW,OAAL,EAAc;AACV,aAAO,IAAP;AACH;;AAED,QAAIC,MAA2B,GAAG,IAAlC;AACA,QAAIC,UAAe,GAAGb,SAAtB;;AACA,SAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGM,OAAO,CAACvC,MAA5B,EAAoCiC,CAAC,EAArC,EAAyC;AACrC,UAAI,CAACQ,UAAL,EAAiB;AACb,eAAO,IAAP;AACH;;AACDA,MAAAA,UAAU,GAAGA,UAAU,CAACF,OAAO,CAACN,CAAD,CAAR,CAAvB;AACH;;AAEDO,IAAAA,MAAM,GAAGC,UAAT;AAEA,WAAOD,MAAP;AACH;;AAEM,WAASE,oBAAT,CAA+BrC,IAA/B,EAA2CsC,eAA3C,EAAmFf,SAAnF,EAAsI;AACzI,QAAI,CAACe,eAAL,EAAsB;AAClB;AACH;;AAED,SAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,eAAe,CAAC3C,MAApC,EAA4CiC,CAAC,EAA7C,EAAiD;AAC7C,UAAMW,SAAS,GAAGD,eAAe,CAACV,CAAD,CAAjC;;AACA,UAAIW,SAAS,IAAIA,SAAS,CAACC,UAA3B,EAAuC;AACnC,YAAML,MAAM,GAAGF,SAAS,CAACM,SAAS,CAACC,UAAV,CAAqBN,OAAtB,EAA+BX,SAA/B,CAAxB;;AACA,YAAI,CAACY,MAAL,EAAa;AACT;AACH;;AAED,YAAII,SAAS,CAACE,KAAd,EAAqB;AACjB,eAAK,IAAIb,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGW,SAAS,CAACE,KAAV,CAAgB9C,MAApC,EAA4CiC,GAAC,EAA7C,EAAiD;AAC7C,gBAAMI,SAAS,GAAGO,SAAS,CAACE,KAAV,CAAgBb,GAAhB,CAAlB,CAD6C,CAE7C;;AACAO,YAAAA,MAAM,CAACO,SAAP,CAAiBC,IAAjB,CAAsBX,SAAtB,EAH6C,CAI7C;;;AACAA,YAAAA,SAAS,CAACtB,OAAV,GAAoByB,MAApB,CAL6C,CAM7C;;AACAH,YAAAA,SAAS,CAACY,eAAV,CAA0B,KAA1B;AACH;AACJ;AACJ;AACJ;AACJ;;AAEM,WAASC,sBAAT,CAAiC7C,IAAjC,EAA6C8C,iBAA7C,EAAwFvB,SAAxF,EAA2I;AAC9I,QAAIuB,iBAAiB,CAACnD,MAAlB,IAA4B,CAAhC,EAAmC;AAC/B;AACH;;AAED,QAAIwC,MAAW,GAAG,IAAlB;;AACA,SAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,iBAAiB,CAACnD,MAAtC,EAA8CiC,CAAC,EAA/C,EAAmD;AAC/C,UAAMmB,YAAY,GAAGD,iBAAiB,CAAClB,CAAD,CAAtC;;AACA,UAAImB,YAAY,IAAIA,YAAY,CAACP,UAAjC,EAA6C;AACzC,YAAMA,UAAU,GAAGO,YAAY,CAACP,UAAhC;AACAL,QAAAA,MAAM,GAAGF,SAAS,CAACO,UAAU,CAACN,OAAZ,EAAqBX,SAArB,CAAlB;;AACA,YAAI,CAACY,MAAL,EAAa;AACT;AACA;AACH;;AAED,YAAIa,eAAoB,GAAGb,MAA3B;AACA,YAAMc,YAAY,GAAGF,YAAY,CAACE,YAAb,CAA0BC,KAA1B,EAArB;;AACA,YAAID,YAAY,CAACtD,MAAb,GAAsB,CAA1B,EAA6B;AACzB,cAAMwD,cAAc,GAAGF,YAAY,CAACG,GAAb,EAAvB;;AACA,cAAI,CAACD,cAAL,EAAqB;AACjB;AACH;;AAED,eAAK,IAAIvB,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGqB,YAAY,CAACtD,MAAjC,EAAyCiC,GAAC,EAA1C,EAA8C;AAC1C,gBAAMyB,QAAQ,GAAGJ,YAAY,CAACrB,GAAD,CAA7B;AACAoB,YAAAA,eAAe,GAAGA,eAAe,CAACK,QAAD,CAAjC;;AACA,gBAAI,CAACL,eAAL,EAAsB;AAClB;AACH;AACJ;;AAED,cAAI,CAACA,eAAL,EAAsB;AAClB;AACH;;AAED,cAAIM,KAAK,CAACC,OAAN,CAAcP,eAAd,CAAJ,EAAoC;AAChC;AACA,gBAAIG,cAAc,KAAK,QAAvB,EAAiC;AAC7BH,cAAAA,eAAe,CAACG,cAAD,CAAf,GAAkCJ,YAAY,CAAClD,KAA/C;AACH,aAFD,MAEO;AACH,kBAAMC,KAAK,GAAG0D,MAAM,CAACC,QAAP,CAAgBN,cAAhB,CAAd;;AACA,kBAAIK,MAAM,CAACE,SAAP,CAAiB5D,KAAjB,KAA2BA,KAAK,GAAGkD,eAAe,CAACrD,MAAvD,EAA+D;AAC3DqD,gBAAAA,eAAe,CAACG,cAAD,CAAf,GAAkCJ,YAAY,CAAClD,KAA/C;AACH;AACJ;AACJ,WAVD,MAUO;AACHmD,YAAAA,eAAe,CAACG,cAAD,CAAf,GAAkCJ,YAAY,CAAClD,KAA/C;AACH;AACJ,SA/BD,MA+BO,IAAIS,MAAJ,EAAY;AACfqD,UAAAA,IAAI,CAAC,wBAAD,CAAJ;AACH;AACJ;AACJ;AACJ;;AAEM,WAASC,oBAAT,CAA+B5D,IAA/B,EAA+C;AAAA;;AAClD;AACA,QAAM6D,eAAe,qBAAG7D,IAAI,CAACE,OAAR,mDAAG,eAAc2D,eAAtC;;AACA,QAAIA,eAAJ,EAAqB;AACjB,WAAK,IAAIjC,CAAC,GAAG,CAAb,EAAiBA,CAAC,GAAGiC,eAAe,CAAClE,MAArC,EAA6CiC,CAAC,EAA9C,EAAkD;AAAA;;AAC9C,YAAMkC,cAAc,GAAGD,eAAe,CAACjC,CAAD,CAAtC;AAEA,YAAImC,MAA2B,GAAGD,cAAc,CAACC,MAAjD;AACA,YAAMC,UAAU,GAAGF,cAAc,CAACE,UAAlC;;AACA,YAAIA,UAAJ,EAAgB;AAAA;;AACZ;AACA,cAAMC,cAAc,4BAAGH,cAAc,CAACC,MAAlB,oFAAG,sBAAuB7D,OAA1B,2DAAG,uBAAgCE,QAAvD;;AACA,cAAI6D,cAAc,IAAIA,cAAc,CAAC1C,SAArC,EAAgD;AAC5CwC,YAAAA,MAAM,GAAG9B,SAAS,CAAC+B,UAAU,CAAC9B,OAAZ,EAAqB+B,cAAc,CAAC1C,SAApC,CAAlB;AACH;;AAED,cAAI,CAACwC,MAAL,EAAa;AACT;AACA;AACH;AACJ;;AAED,YAAI5B,MAA2B,GAAG,IAAlC;AACA,YAAMK,UAAU,GAAGsB,cAAc,CAACtB,UAAlC;;AACA,YAAI,CAACA,UAAL,EAAiB;AACb;AACH,SAtB6C,CAwB9C;;;AACA,YAAM0B,cAAc,4BAAGJ,cAAc,CAAC3B,MAAlB,oFAAG,sBAAuBjC,OAA1B,2DAAG,uBAAgCE,QAAvD;;AACA,YAAI,CAAC8D,cAAD,IAAmB,CAACA,cAAc,CAAC3C,SAAvC,EAAkD;AAC9C;AACH;;AACDY,QAAAA,MAAM,GAAGF,SAAS,CAACO,UAAU,CAACN,OAAZ,EAAqBgC,cAAc,CAAC3C,SAApC,CAAlB;;AACA,YAAI,CAACY,MAAL,EAAa;AACT;AACA;AACH;;AAED,YAAMc,YAAY,GAAGa,cAAc,CAACb,YAAf,CAA4BC,KAA5B,EAArB;AACA,YAAIF,eAAoB,GAAGe,MAA3B;;AACA,YAAId,YAAY,CAACtD,MAAb,GAAsB,CAA1B,EAA6B;AACzB,cAAMwD,cAAc,GAAGF,YAAY,CAACG,GAAb,EAAvB;;AACA,cAAI,CAACD,cAAL,EAAqB;AACjB;AACH;;AAED,eAAK,IAAIvB,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGqB,YAAY,CAACtD,MAAjC,EAAyCiC,GAAC,EAA1C,EAA8C;AAC1C,gBAAMyB,QAAQ,GAAGJ,YAAY,CAACrB,GAAD,CAA7B;AACAoB,YAAAA,eAAe,GAAGA,eAAe,CAACK,QAAD,CAAjC;AACH;;AAEDL,UAAAA,eAAe,CAACG,cAAD,CAAf,GAAkChB,MAAlC;AACH;AACJ;AACJ;AACJ;;;0BAhQepC,oB;uBAmEAuB,iB;eA8BAW,S;0BAmBAI,oB;4BA4BAQ,sB;0BAwDAe;;;;;AAxXPO,MAAAA,O,0BAAAA,O;AAASC,MAAAA,Y,0BAAAA,Y;AAAcC,MAAAA,Q,0BAAAA,Q;AAAUC,MAAAA,I,0BAAAA,I;;AACjChE,MAAAA,M,mCAAAA,M;AAAQS,MAAAA,W,mCAAAA,W;;AACRH,MAAAA,Q,oBAAAA,Q;;AAGAL,MAAAA,O,oBAAAA,O;AAASoD,MAAAA,I,oBAAAA,I;;AAETY,MAAAA,Q,gBAAAA,Q;;;4BAgBIC,U,WADZL,OAAO,CAAC,eAAD,C;;yFAGHC,Y;;;;;iBAC0B,E;;;;oCAGlBK,kB,YADZN,OAAO,CAAC,uBAAD,C,UAGHG,IAAI,CAACC,QAAD,C,UAIJD,IAAI,CAACE,UAAD,C,UAKJF,IAAI,CAAC1D,QAAQ,CAAC8D,IAAV,C,UAIJJ,IAAI,CAACE,UAAD,C;;;;;;;;;;0FAdJJ,Y;;;;;iBAEoC,I;;qFAEpCA,Y;;;;;iBAEoC,I;;uFACpCA,Y;;;;;iBAC+B,E;;iFAC/BA,Y;;;;;iBAE0B,I;;qFAE1BA,Y;;;;;iBAEoC,I;;;;4BAG5BO,U,YADZR,OAAO,CAAC,eAAD,C,UAuBHG,IAAI,CAAC,CAACG,kBAAD,CAAD,C;;;;;;;;;;wFApBJL,Y,EACAC,Q;;;;;gFAKAD,Y,EACAC,Q;;;;;iFAIAD,Y,EACAC,Q;;;;;iBACe,E;;oFAGfD,Y;;;;;2FAGAA,Y;;;;;;;AAKLxD,MAAAA,QAAQ,CAACgE,WAAT,GAAuBD,UAAvB;;gCAGaE,c,YADZV,OAAO,CAAC,mBAAD,C;;4FAGHC,Y,EACAC,Q;;;;;iBACe,E;;;;sCAIPS,oB,aADZX,OAAO,CAAC,wBAAD,C,WAGHG,IAAI,CAACE,UAAD,C;;;;;;;;;;;AAOL;eACOO,Q,GAAP,kBAAiB7C,OAAjB,EAAoC8C,QAApC,EAAwD;AACpD,cAAI1E,MAAJ,EAAY;AAAA;;AACR,mBAAOd,kBAAkB,qBAAC,KAAKgD,UAAN,qDAAC,iBAAiBN,OAAlB,EAA2BA,OAA3B,CAAlB,IACJ1C,kBAAkB,CAAC,KAAKyD,YAAN,EAAoB+B,QAApB,CADrB;AAEH;AACJ,S;;;kGAdAZ,Y;;;;;iBAEoC,I;;yFACpCA,Y;;;;;iBAC+B,E;;kFAC/BA,Y;;;;;;;qCAaQa,mB,aADZd,OAAO,CAAC,wBAAD,C,WAGHG,IAAI,CAACE,UAAD,C,WAGJF,IAAI,CAAC,CAAC1D,QAAQ,CAAC8D,IAAV,CAAD,C;;;;;;;;;AAGL;gBACOK,Q,GAAP,kBAAiB7C,OAAjB,EAAoC;AAChC,cAAI5B,MAAJ,EAAY;AAAA;;AACR,mBAAOd,kBAAkB,sBAAC,KAAKgD,UAAN,sDAAC,kBAAiBN,OAAlB,EAA2BA,OAA3B,CAAzB;AACH;AACJ,S;;;kGAZAkC,Y;;;;;iBAEoC,I;;kFACpCA,Y;;;;;iBAEsB,E;;;AAU3B;AACA;AACA;;;gCAEac,c,aADZf,OAAO,CAAC,mBAAD,C,WAQHG,IAAI,CAAC1D,QAAQ,CAAC8D,IAAV,C,WAKJJ,IAAI,CAAC,CAACW,mBAAD,CAAD,C,WAKJX,IAAI,CAAC,CAACQ,oBAAD,CAAD,C,WAIJR,IAAI,CAAC,CAACE,UAAD,CAAD,C;;;;;;;;;;;;eAGEjD,S,GAAoD,E;;;;;AAE3D;gBACO4D,oB,GAAP,8BAA6BjD,OAA7B,EAAgD8C,QAAhD,EAAoE;AAChE,cAAI1E,MAAJ,EAAY;AACR,iBAAK,IAAIsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKkB,iBAAL,CAAuBnD,MAA3C,EAAmDiC,CAAC,EAApD,EAAwD;AACpD,kBAAMwD,gBAAgB,GAAG,KAAKtC,iBAAL,CAAuBlB,CAAvB,CAAzB;;AACA,kBAAIwD,gBAAgB,CAACL,QAAjB,CAA0B7C,OAA1B,EAAmC8C,QAAnC,CAAJ,EAAkD;AAC9C,uBAAOI,gBAAP;AACH;AACJ;;AACD,mBAAO,IAAP;AACH;AACJ,S;;gBAEMC,sB,GAAP,gCAA+BnD,OAA/B,EAAkD8C,QAAlD,EAAsE;AAClE,cAAI1E,MAAJ,EAAY;AACR,iBAAK,IAAIsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKkB,iBAAL,CAAuBnD,MAA3C,EAAmDiC,CAAC,EAApD,EAAwD;AACpD,kBAAMwD,gBAAgB,GAAG,KAAKtC,iBAAL,CAAuBlB,CAAvB,CAAzB;;AACA,kBAAIwD,gBAAgB,CAACL,QAAjB,CAA0B7C,OAA1B,EAAmC8C,QAAnC,CAAJ,EAAkD;AAC9C,qBAAKlC,iBAAL,CAAuBwC,MAAvB,CAA8B1D,CAA9B,EAAiC,CAAjC;AACA;AACH;AACJ;AACJ;AACJ,S;;;8FA/CAwC,Y;;;;;iBACe,E;;2FAGfA,Y;;;;;4FAKAA,Y;;;;;iBAE+C,E;;8FAG/CA,Y;;;;;iBAEkD,E;;8FAElDA,Y;;;;;iBAEwC,E"}