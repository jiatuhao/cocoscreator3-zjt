{"version":3,"sources":["../../../../../../../../../cocos/2d/framework/renderable-2d.ts"],"names":["EDITOR","ccclass","executeInEditMode","requireComponent","disallowMultiple","tooltip","type","displayOrder","serializable","override","visible","displayName","Color","SystemEventType","ccenum","builtinResMgr","Material","BlendFactor","RenderData","UITransform","RenderableComponent","Stage","warnID","BlendState","BlendTarget","legacyCC","InstanceMaterialType","_matInsInfo","parent","owner","subModelIdx","Renderable2D","_customMaterial","stencilStage","DISABLED","_assembler","_postAssembler","_renderData","_renderDataFlag","_renderFlag","_delegateSrc","_instanceMaterialType","ADD_COLOR_AND_TEXTURE","_blendState","_blendHash","_lastParent","updateMaterial","setMaterial","mat","_updateBuiltinMaterial","_updateBlendFunc","updateBlendHash","dst","targets","blendDst","blendSrc","__preload","node","_uiProps","uiComp","_flushAssembler","onEnable","on","ANCHOR_CHANGED","_nodeStateChange","SIZE_CHANGED","_canRender","onRestore","onDisable","off","onDestroy","destroyRenderData","_materialInstances","i","length","destroy","markForUpdateRenderData","enable","renderData","vertDirty","requestRenderData","data","add","remove","updateAssembler","render","_checkAndUpdateRenderData","_render","postUpdateAssembler","_postRender","updateRenderData","isValid","getMaterial","enabled","activeInHierarchy","enabledInHierarchy","_color","a","_postCanRender","_updateColor","updateColor","target","setTarget","_dstBlendFactor","_srcBlendFactor","blend","blendDstAlpha","ONE_MINUS_SRC_ALPHA","getBlendState","transformType","children","child","renderComp","getComponent","ADD_COLOR","get","GRAYSCALE","USE_ALPHA_SEPARATED","USE_ALPHA_SEPARATED_AND_GRAY","_materials","slice","val","splice","value","equals","set","clone","emit","COLOR_CHANGED","Assembler","PostAssembler","SRC_ALPHA","WHITE","internal"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AA6BSA,MAAAA,M,mCAAAA,M;;AACAC,MAAAA,O,8BAAAA,O;AAASC,MAAAA,iB,8BAAAA,iB;AAAmBC,MAAAA,gB,8BAAAA,gB;AAAkBC,MAAAA,gB,8BAAAA,gB;AAAkBC,MAAAA,O,8BAAAA,O;AAASC,MAAAA,I,8BAAAA,I;AAAMC,MAAAA,Y,8BAAAA,Y;AAAcC,MAAAA,Y,8BAAAA,Y;AAAcC,MAAAA,Q,8BAAAA,Q;AAAUC,MAAAA,O,8BAAAA,O;AAASC,MAAAA,W,8BAAAA,W;;AAC9HC,MAAAA,K,oBAAAA,K;;AACAC,MAAAA,e,wCAAAA,e;;AACAC,MAAAA,M,yBAAAA,M;;AACAC,MAAAA,a,uBAAAA,a;;AACAC,MAAAA,Q,sBAAAA,Q;;AACAC,MAAAA,W,oBAAAA,W;;AAGAC,MAAAA,U,yBAAAA,U;;AAIAC,MAAAA,W,kBAAAA,W;;AACAC,MAAAA,mB,wCAAAA,mB;;AACAC,MAAAA,K,6BAAAA,K;;AACAC,MAAAA,M,wBAAAA,M;;AACAC,MAAAA,U,2BAAAA,U;AAAYC,MAAAA,W,2BAAAA,W;;AACZC,MAAAA,Q,wBAAAA,Q;;;AAGT;AACAX,MAAAA,MAAM,CAACG,WAAD,CAAN;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;iBACYS,oB;AAAAA,QAAAA,oB,CAAAA,oB;AAAAA,QAAAA,oB,CAAAA,oB;AAAAA,QAAAA,oB,CAAAA,oB;AAAAA,QAAAA,oB,CAAAA,oB;AAAAA,QAAAA,oB,CAAAA,oB;SAAAA,oB,oCAAAA,oB;;AA+CNC,MAAAA,W,GAAqC;AACvCC,QAAAA,MAAM,EAAE,IAD+B;AAEvCC,QAAAA,KAAK,EAAE,IAFgC;AAGvCC,QAAAA,WAAW,EAAE;AAH0B,O;AAM3C;AACA;AACA;AACA;AACA;AACA;AACA;;8BAKaC,Y,WAJZ9B,OAAO,CAAC,iBAAD,C,UACPE,gBAAgB,CAACgB,WAAD,C,UAQZT,OAAO,CAAC,KAAD,C,UAoBPJ,IAAI,CAACU,QAAD,C,UAOJV,IAAI,CAACU,QAAD,C,UACJT,YAAY,CAAC,CAAD,C,UACZI,WAAW,CAAC,gBAAD,C,UA6BXD,OAAO,CAAC,YAA8B;AAAE,YAAI,KAAKsB,eAAT,EAA0B;AAAE,iBAAO,KAAP;AAAe;;AAAC,eAAO,IAAP;AAAc,OAA3F,C,UACP1B,IAAI,CAACW,WAAD,C,WACJV,YAAY,CAAC,CAAD,C,WACZF,OAAO,CAAC,qBAAD,C,WA6BPK,OAAO,CAAC,YAA8B;AAAE,YAAI,KAAKsB,eAAT,EAA0B;AAAE,iBAAO,KAAP;AAAe;;AAAC,eAAO,IAAP;AAAc,OAA3F,C,WACP1B,IAAI,CAACW,WAAD,C,WACJV,YAAY,CAAC,CAAD,C,WACZF,OAAO,CAAC,0BAAD,C,WAyBPE,YAAY,CAAC,CAAD,C,WACZF,OAAO,CAAC,MAAD,C,+BA9HXD,gB,UACAF,iB;;;;;;;;;;;;;;;;gBA6JU+B,Y,GAAuBZ,KAAK,CAACa,Q;;;;;;;;gBA0B1BC,U,GAAgC,I;gBAChCC,c,GAAoC,I;gBACpCC,W,GAAiC,I;gBACjCC,e,GAAkB,I;gBAClBC,W,GAAc,I;gBAEdC,Y,GAA4B,I;gBAC5BC,qB,GAAwBf,oBAAoB,CAACgB,qB;gBAC7CC,W,GAA0B,IAAIpB,UAAJ,E;gBAC1BqB,U,GAAa,C;gBAWbC,W,GAA2B,I;;;;;;eA9J3BC,c,GAAV,0BAA4B;AACxB,cAAI,KAAKd,eAAT,EAA0B;AACtB,iBAAKe,WAAL,CAAiB,KAAKf,eAAtB,EAAuC,CAAvC;AACA,iBAAKY,UAAL,GAAkB,CAAC,CAAnB,CAFsB,CAEA;;AACtB;AACH;;AACD,cAAMI,GAAG,GAAG,KAAKC,sBAAL,EAAZ;;AACA,eAAKF,WAAL,CAAiBC,GAAjB,EAAsB,CAAtB;;AACA,eAAKE,gBAAL;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;eAuIWC,e,GAAP,2BAA0B;AACtB,cAAMC,GAAG,GAAG,KAAKT,WAAL,CAAiBU,OAAjB,CAAyB,CAAzB,EAA4BC,QAA5B,IAAwC,CAApD;AACA,eAAKV,UAAL,GAAkBQ,GAAG,GAAG,KAAKT,WAAL,CAAiBU,OAAjB,CAAyB,CAAzB,EAA4BE,QAApD;AACH,S;;eAIMC,S,GAAP,qBAAoB;AAChB,eAAKC,IAAL,CAAUC,QAAV,CAAmBC,MAAnB,GAA4B,IAA5B;;AACA,cAAI,KAAKC,eAAT,EAA0B;AACtB,iBAAKA,eAAL;AACH;AACJ,S;;eAEMC,Q,GAAP,oBAAmB;AACf,eAAKJ,IAAL,CAAUK,EAAV,CAAajD,eAAe,CAACkD,cAA7B,EAA6C,KAAKC,gBAAlD,EAAoE,IAApE;AACA,eAAKP,IAAL,CAAUK,EAAV,CAAajD,eAAe,CAACoD,YAA7B,EAA2C,KAAKD,gBAAhD,EAAkE,IAAlE;AACA,eAAKlB,cAAL;AACA,eAAKP,WAAL,GAAmB,KAAK2B,UAAL,EAAnB;AACH,S,CAED;;;eACOC,S,GAAP,qBAAoB;AAChB,eAAKrB,cAAL;AACA,eAAKP,WAAL,GAAmB,KAAK2B,UAAL,EAAnB;AACH,S;;eAEME,S,GAAP,qBAAoB;AAChB,eAAKX,IAAL,CAAUY,GAAV,CAAcxD,eAAe,CAACkD,cAA9B,EAA8C,KAAKC,gBAAnD,EAAqE,IAArE;AACA,eAAKP,IAAL,CAAUY,GAAV,CAAcxD,eAAe,CAACoD,YAA9B,EAA4C,KAAKD,gBAAjD,EAAmE,IAAnE;AACA,eAAKzB,WAAL,GAAmB,KAAnB;AACH,S;;eAEM+B,S,GAAP,qBAAoB;AAChB,cAAI,KAAKb,IAAL,CAAUC,QAAV,CAAmBC,MAAnB,KAA8B,IAAlC,EAAwC;AACpC,iBAAKF,IAAL,CAAUC,QAAV,CAAmBC,MAAnB,GAA4B,IAA5B;AACH;;AACD,eAAKY,iBAAL;;AACA,cAAI,KAAKC,kBAAT,EAA6B;AACzB,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKD,kBAAL,CAAwBE,MAA5C,EAAoDD,CAAC,EAArD,EAAyD;AACrD,mBAAKD,kBAAL,CAAwBC,CAAxB,EAA4BE,OAA5B;AACH;AACJ;;AACD,eAAKtC,WAAL,GAAmB,IAAnB;;AACA,cAAI,KAAKM,WAAT,EAAsB;AAClB,iBAAKA,WAAL,CAAiBgC,OAAjB;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;eACWC,uB,GAAP,iCAAgCC,MAAhC,EAA+C;AAAA,cAAfA,MAAe;AAAfA,YAAAA,MAAe,GAAN,IAAM;AAAA;;AAC3C,eAAKtC,WAAL,GAAmB,KAAK2B,UAAL,EAAnB;;AACA,cAAIW,MAAM,IAAI,KAAKtC,WAAnB,EAAgC;AAC5B,gBAAMuC,UAAU,GAAG,KAAKzC,WAAxB;;AACA,gBAAIyC,UAAJ,EAAgB;AACZA,cAAAA,UAAU,CAACC,SAAX,GAAuB,IAAvB;AACH;;AAED,iBAAKzC,eAAL,GAAuBuC,MAAvB;AACH,WAPD,MAOO,IAAI,CAACA,MAAL,EAAa;AAChB,iBAAKvC,eAAL,GAAuBuC,MAAvB;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;;;eACWG,iB,GAAP,6BAA4B;AACxB,cAAMC,IAAI,GAAG/D,UAAU,CAACgE,GAAX,EAAb;AACA,eAAK7C,WAAL,GAAmB4C,IAAnB;AACA,iBAAOA,IAAP;AACH;AAED;AACJ;AACA;AACA;;;eACWV,iB,GAAP,6BAA4B;AACxB,cAAI,CAAC,KAAKlC,WAAV,EAAuB;AACnB;AACH;;AAEDnB,UAAAA,UAAU,CAACiE,MAAX,CAAkB,KAAK9C,WAAvB;AACA,eAAKA,WAAL,GAAmB,IAAnB;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;eACW+C,e,GAAP,yBAAwBC,MAAxB,EAA2C;AACvC,cAAI,KAAK9C,WAAT,EAAsB;AAClB,iBAAK+C,yBAAL;;AACA,iBAAKC,OAAL,CAAaF,MAAb;AACH;AACJ;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;eACWG,mB,GAAP,6BAA4BH,MAA5B,EAA+C;AAC3C,cAAI,KAAK9C,WAAT,EAAsB;AAClB,iBAAKkD,WAAL,CAAiBJ,MAAjB;AACH;AACJ,S;;eAESE,O,GAAV,iBAAmBF,MAAnB,EAAsC,CAAE,C;;eAE9BI,W,GAAV,qBAAuBJ,MAAvB,EAA0C,CAAE,C;;eAElCC,yB,GAAV,qCAAuC;AACnC,cAAI,KAAKhD,eAAT,EAA0B;AACtB,iBAAKH,UAAL,CAAiBuD,gBAAjB,CAAmC,IAAnC;;AACA,iBAAKpD,eAAL,GAAuB,KAAvB;AACH;AACJ,S;;eAES4B,U,GAAV,sBAAwB;AACpB,iBAAO,KAAKyB,OAAL,IACG,KAAKC,WAAL,CAAiB,CAAjB,MAAwB,IAD3B,IAEG,KAAKC,OAFR,KAGI,KAAKrD,YAAL,GAAoB,KAAKA,YAAL,CAAkBsD,iBAAtC,GAA0D,KAAKC,kBAHnE,KAIG,KAAKC,MAAL,CAAYC,CAAZ,GAAgB,CAJ1B;AAKH,S;;eAESC,c,GAAV,0BAA4B,CAAE,C;;eAEpBC,Y,GAAV,wBAA0B;AACtB,cAAI,KAAKhE,UAAL,IAAmB,KAAKA,UAAL,CAAgBiE,WAAvC,EAAoD;AAChD,iBAAKjE,UAAL,CAAgBiE,WAAhB,CAA4B,IAA5B;AACH;AACJ,S;;eAEMlD,gB,GAAP,4BAA2B;AACvB;AACA,cAAImD,MAAM,GAAG,KAAK1D,WAAL,CAAiBU,OAAjB,CAAyB,CAAzB,CAAb;;AACA,cAAI,CAACgD,MAAL,EAAa;AACTA,YAAAA,MAAM,GAAG,IAAI7E,WAAJ,EAAT;;AACA,iBAAKmB,WAAL,CAAiB2D,SAAjB,CAA2B,CAA3B,EAA8BD,MAA9B;AACH;;AACD,cAAIA,MAAM,CAAC/C,QAAP,KAAoB,KAAKiD,eAAzB,IAA4CF,MAAM,CAAC9C,QAAP,KAAoB,KAAKiD,eAAzE,EAA0F;AACtFH,YAAAA,MAAM,CAACI,KAAP,GAAe,IAAf;AACAJ,YAAAA,MAAM,CAACK,aAAP,GAAuBzF,WAAW,CAAC0F,mBAAnC;AACAN,YAAAA,MAAM,CAAC/C,QAAP,GAAkB,KAAKiD,eAAvB;AACAF,YAAAA,MAAM,CAAC9C,QAAP,GAAkB,KAAKiD,eAAvB;AACH;;AACD,eAAKrD,eAAL;AACH,S;;eAEMyD,a,GAAP,yBAAwB;AACpB,iBAAO,KAAKjE,WAAZ;AACH,S,CAED;;;eACUqB,gB,GAAV,0BAA4B6C,aAA5B,EAAyD;AACrD,cAAI,KAAKxE,WAAT,EAAsB;AAClB,iBAAKuC,uBAAL;AACH;;AAED,eAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKhB,IAAL,CAAUqD,QAAV,CAAmBpC,MAAvC,EAA+C,EAAED,CAAjD,EAAoD;AAChD,gBAAMsC,KAAK,GAAG,KAAKtD,IAAL,CAAUqD,QAAV,CAAmBrC,CAAnB,CAAd;AACA,gBAAMuC,UAAU,GAAGD,KAAK,CAACE,YAAN,CAAmBlF,YAAnB,CAAnB;;AACA,gBAAIiF,UAAJ,EAAgB;AACZA,cAAAA,UAAU,CAACpC,uBAAX;AACH;AACJ;AACJ,S;;eAEO3B,sB,GAAR,kCAA6C;AACzC,cAAID,GAAJ;;AACA,kBAAQ,KAAKP,qBAAb;AACA,iBAAKf,oBAAoB,CAACwF,SAA1B;AACIlE,cAAAA,GAAG,GAAGjC,aAAa,CAACoG,GAAd,CAAkB,kBAAlB,CAAN;AACA;;AACJ,iBAAKzF,oBAAoB,CAAC0F,SAA1B;AACIpE,cAAAA,GAAG,GAAGjC,aAAa,CAACoG,GAAd,CAAkB,yBAAlB,CAAN;AACA;;AACJ,iBAAKzF,oBAAoB,CAAC2F,mBAA1B;AACIrE,cAAAA,GAAG,GAAGjC,aAAa,CAACoG,GAAd,CAAkB,8BAAlB,CAAN;AACA;;AACJ,iBAAKzF,oBAAoB,CAAC4F,4BAA1B;AACItE,cAAAA,GAAG,GAAGjC,aAAa,CAACoG,GAAd,CAAkB,mCAAlB,CAAN;AACA;;AACJ;AACInE,cAAAA,GAAG,GAAGjC,aAAa,CAACoG,GAAd,CAAkB,oBAAlB,CAAN;AACA;AAfJ;;AAiBA,iBAAOnE,GAAP;AACH,S;;;;8BA1YsB;AACnB;AACA,mBAAOhD,MAAM,IAAI,KAAKuH,UAAL,CAAgBC,KAAhB,EAAV,IAAqC,KAAKD,UAAjD;AACH,W;4BAEoBE,G,EAAK;AACtB,iBAAK,IAAIhD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgD,GAAG,CAAC/C,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,kBAAIgD,GAAG,CAAChD,CAAD,CAAH,KAAW,KAAK8C,UAAL,CAAgB9C,CAAhB,CAAf,EAAmC;AAC/B,qBAAK1B,WAAL,CAAiB0E,GAAG,CAAChD,CAAD,CAApB,EAAyBA,CAAzB;AACH;AACJ;;AACD,gBAAIgD,GAAG,CAAC/C,MAAJ,GAAa,KAAK6C,UAAL,CAAgB7C,MAAjC,EAAyC;AACrC,mBAAK,IAAID,EAAC,GAAGgD,GAAG,CAAC/C,MAAjB,EAAyBD,EAAC,GAAG,KAAK8C,UAAL,CAAgB7C,MAA7C,EAAqDD,EAAC,EAAtD,EAA0D;AACtD,qBAAK1B,WAAL,CAAiB,IAAjB,EAAuB0B,EAAvB;AACH;;AACD,mBAAK8C,UAAL,CAAgBG,MAAhB,CAAuBD,GAAG,CAAC/C,MAA3B;AACH;AACJ;;;;AAKD;AACJ;AACA;AACA;8BAI0B;AAClB,mBAAO,KAAK1C,eAAZ;AACH,W;4BAEmByF,G,EAAK;AACrB,iBAAKzF,eAAL,GAAuByF,GAAvB;AACA,iBAAK3E,cAAL;AACH;;;8BAyBqB;AAClB,gBAAI,CAAC9C,MAAD,IAAW,KAAKgC,eAApB,EAAqC;AACjCV,cAAAA,MAAM,CAAC,KAAD,CAAN;AACH;;AACD,mBAAO,KAAKkF,eAAZ;AACH,W;4BAEmBmB,K,EAAoB;AACpC,gBAAI,KAAK3F,eAAT,EAA0B;AACtBV,cAAAA,MAAM,CAAC,KAAD,CAAN;AACA;AACH;;AACD,gBAAI,KAAKkF,eAAL,KAAyBmB,KAA7B,EAAoC;AAChC;AACH;;AAED,iBAAKnB,eAAL,GAAuBmB,KAAvB;;AACA,iBAAKzE,gBAAL;AACH;AAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;8BAK0B;AAClB,gBAAI,CAAClD,MAAD,IAAW,KAAKgC,eAApB,EAAqC;AACjCV,cAAAA,MAAM,CAAC,KAAD,CAAN;AACH;;AACD,mBAAO,KAAKiF,eAAZ;AACH,W;4BAEmBoB,K,EAAoB;AACpC,gBAAI,KAAK3F,eAAT,EAA0B;AACtBV,cAAAA,MAAM,CAAC,KAAD,CAAN;AACA;AACH;;AACD,gBAAI,KAAKiF,eAAL,KAAyBoB,KAA7B,EAAoC;AAChC;AACH;;AAED,iBAAKpB,eAAL,GAAuBoB,KAAvB;;AACA,iBAAKzE,gBAAL;AACH;AAED;AACJ;AACA;AACA;;;;8BAGkC;AAC1B,mBAAO,KAAK8C,MAAZ;AACH,W;4BAEU2B,K,EAAO;AACd,gBAAI,KAAK3B,MAAL,CAAY4B,MAAZ,CAAmBD,KAAnB,CAAJ,EAA+B;AAC3B;AACH;;AAED,iBAAK3B,MAAL,CAAY6B,GAAZ,CAAgBF,KAAhB;;AACA,iBAAKxB,YAAL;;AACA,iBAAKvB,uBAAL;;AACA,gBAAI5E,MAAJ,EAAY;AACR,kBAAM8H,KAAK,GAAGH,KAAK,CAACG,KAAN,EAAd;AACA,mBAAKrE,IAAL,CAAUsE,IAAV,CAAelH,eAAe,CAACmH,aAA/B,EAA8CF,KAA9C;AACH;AACJ;;;8BAEiB;AACd,mBAAO,KAAKzF,WAAZ;AACH,W,CAED;;;;4BACiBsF,K,EAAa;AAC1B,iBAAKnF,YAAL,GAAoBmF,KAApB;AACH;AAED;AACJ;AACA;AACA;;;;8BAsCqB;AACb,mBAAO,KAAK/E,UAAZ;AACH;;;;QAnM6BxB,mB,WAmKhBG,U,GAAaN,W,UAKbgH,S,GAAsC,I,UAKtCC,a,GAA0C,I,qFA5KvDzH,Q;;;;;iBAC2C,E;;2EAE3CA,Q;;;;;iBAsB2C,I;;uxBAqJ3CD,Y;;;;;iBAC2BS,WAAW,CAACkH,S;;0FACvC3H,Y;;;;;iBAC2BS,WAAW,CAAC0F,mB;;iFACvCnG,Y;;;;;iBACyBI,KAAK,CAACwH,KAAN,CAAYN,KAAZ,E;;;;AAiO9BrG,MAAAA,QAAQ,CAAC4G,QAAT,CAAkBtG,YAAlB,GAAiCA,YAAjC"}