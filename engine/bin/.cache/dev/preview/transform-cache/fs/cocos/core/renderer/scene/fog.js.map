{"version":3,"sources":["../../../../../../../../../../cocos/core/renderer/scene/fog.ts"],"names":["Enum","Color","legacyCC","FogPool","NULL_HANDLE","FogView","FogType","LINEAR","EXP","EXP_SQUARED","LAYERED","FOG_TYPE_NONE","Fog","val","set","_handle","ENABLE","TYPE","activate","_updatePipeline","get","_fogColor","toArray","_colorArray","setVec4","COLOR","enabled","DENSITY","START","END","ATTEN","TOP","RANGE","Float32Array","alloc","initialize","fogInfo","type","fogColor","fogDensity","fogStart","fogEnd","fogAtten","fogTop","fogRange","root","director","value","pipeline","macros","CC_USE_FOG","onGlobalPipelineStateChanged","destroy","free"],"mappings":"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"}