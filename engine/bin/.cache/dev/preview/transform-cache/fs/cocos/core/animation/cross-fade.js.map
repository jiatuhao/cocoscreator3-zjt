{"version":3,"sources":["../../../../../../../../../cocos/core/animation/cross-fade.ts"],"names":["clamp01","remove","Playable","legacyCC","CrossFade","_managedStates","_fadings","update","deltaTime","isMotionless","iManagedState","length","state","weight","absoluteWeight","deadFadingBegin","iFading","fading","easeTime","relativeWeight","easeDuration","target","iDeadFading","deadFading","reference","stop","splice","sample","crossFade","duration","clear","find","weightedState","play","push","unshift","onPlay","director","getAnimationManager","addCrossFade","onPause","removeCrossFade","pause","onResume","resume","onStop"],"mappings":"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"}