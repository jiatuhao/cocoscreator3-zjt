{"version":3,"sources":["../../../../../../../../cocos/core/game.ts"],"names":["EDITOR","JSB","PREVIEW","RUNTIME_BASED","EventTarget","debug","inputManager","DeviceInfo","sys","macro","legacyCC","VERSION","bindingMappingInfo","RenderPipeline","Game","frame","container","canvas","renderType","eventTargetOn","on","eventTargetOnce","once","config","onStart","collisionMatrix","groupList","_persistRootNodes","_paused","_configLoaded","_isCloning","_inited","_engineInited","_rendererInitialized","_gfxDevice","_intervalId","setFrameRate","frameRate","parseInt","Number","isNaN","_setAnimFrame","_runMainLoop","getFrameRate","step","director","mainLoop","pause","window","cAF","resume","isPaused","restart","afterDrawPromise","Promise","resolve","Director","EVENT_AFTER_DRAW","then","id","removePersistRootNode","getScene","destroy","Object","_deferredDestroy","reset","_setRenderPipelineNShowSplash","_safeEmit","EVENT_RESTART","end","close","type","callback","target","EVENT_ENGINE_INITED","call","init","_initConfig","assetOptions","assetManager","_initEngine","_initEvents","root","dataPoolManager","jointTexturePool","registerCustomTextureLayouts","customJointTextureLayouts","run","configOrCallback","initPromise","game","registerSystemEvent","addPersistRootNode","node","Node","isNode","uuid","warnID","scene","_scene","isValid","parent","Scene","_persistNode","_releaseManager","_addPersistNodeRef","_removePersistNodeRef","isPersistRootNode","_initDevice","_init","log","emit","internal","dynamicAtlasManager","enabled","CLEANUP_IMAGE_CACHE","_lastTime","performance","now","_frameTime","jsb","setPreferredFramesPerSecond","rAF","requestAnimationFrame","cancelAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_stTimeWithRAF","_stTime","_ctTime","cancelRequestAnimationFrame","msCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","webkitCancelRequestAnimationFrame","msCancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","ocancelAnimationFrame","currTime","elapseTime","Math","max","timeToCall","setTimeout","clearTimeout","GAME_VIEW","setDisplayStats","showFPS","startAnimation","skip","time","debugMode","DebugMode","NONE","exposeClassName","renderMode","_resetDebugSetting","_determineRenderType","userRenderMode","RENDER_TYPE_CANVAS","supportRender","capabilities","opengl","RENDER_TYPE_WEBGL","Error","getError","adapter","ctors","gfx","os","OS_OSX","OS_IOS","CCMTLDevice","push","GLES3Device","CCVKDevice","GLES2Device","useWebGL2","WebGL2RenderingContext","userAgent","navigator","toLowerCase","indexOf","browserType","BROWSER_TYPE_UC","WebGL2Device","WebGLDevice","opts","ENABLE_WEBGL_ANTIALIAS","devicePixelRatio","windowPixelResolution","width","height","i","length","initialize","error","oncontextmenu","win","hiddenPropName","document","hidden","mozHidden","msHidden","webkitHidden","me","onHidden","EVENT_HIDE","onShown","arg0","arg1","arg2","arg3","arg4","EVENT_SHOW","changeList","addEventListener","event","visible","onfocus","_setupRenderPipeline","_showSplashScreen","EVENT_GAME_INITED","renderPipeline","_setRenderPipeline","reject","loadAny","err","asset","reason","warn","SplashScreen","splashScreen","instance","main","setOnFinish","loadFinish","rppl","setRenderPipeline","EVENT_RENDERER_INITED","e","EVENT_LOW_MEMORY","RENDER_TYPE_OPENGL"],"mappings":"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"}