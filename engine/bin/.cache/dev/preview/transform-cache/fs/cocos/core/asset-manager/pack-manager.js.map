{"version":3,"sources":["../../../../../../../../../cocos/core/asset-manager/pack-manager.ts"],"names":["Texture2D","packCustomObjData","unpackJSONs","error","errorID","js","Cache","downloader","transform","files","PackManager","_loading","_unpackers","unpackJson","pack","json","options","onComplete","out","createMap","err","Array","isArray","length","i","textureType","_getClassId","type","data","datas","base","mipmaps","Error","init","clear","register","handler","mixin","unpack","unpacker","load","item","isNative","info","packs","download","id","url","ext","has","get","find","val","uuid","push","add","bundle","config","name","remove","message","stack","packedUuids","err2","result","callbacks","l","cb","unpackedData"],"mappings":"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"}