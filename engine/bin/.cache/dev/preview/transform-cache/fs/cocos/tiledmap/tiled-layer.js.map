{"version":3,"sources":["../../../../../../../../cocos/tiledmap/tiled-layer.ts"],"names":["ccclass","EDITOR","Renderable2D","Component","Mat4","SystemEventType","Vec2","Vec3","Node","warn","logID","director","TiledTile","MeshRenderData","Orientation","StaggerAxis","StaggerIndex","TileFlag","fillTextureGrids","loadAllTextures","_mat4_temp","_vec2_temp","_vec3_temp","_vec3_temp2","_tempRowCol","row","col","TiledUserNodeData","_index","_row","_col","_tiledLayer","TiledLayer","_cullingRect","_rightTop","_layerSize","_meshRenderDataArray","_leftDownToCenterX","_leftDownToCenterY","_userNodeGrid","_userNodeMap","_userNodeDirty","tiledTiles","_viewPort","x","y","width","height","leftDown","rightTop","_cullingDirty","_layerInfo","_mapInfo","_topOffset","_downOffset","_leftOffset","_rightOffset","tiles","vertices","_verticesDirty","_layerName","_minGID","_maxGID","_layerOrientation","_opacity","_tintColor","texGrids","_textures","_tilesets","_hasTiledNodeGrid","_hasAniGrid","_animations","_enableCulling","colorChanged","_properties","renderOrder","_staggerAxis","_staggerIndex","_hexSideLength","_mapTileSize","_odd_even","_diffX1","_diffY1","_useAutomaticVertexZ","_vertexZvalue","_offset","_meshRenderDataArrayIdx","hasTiledNode","hasAnimation","addUserNode","node","dataComp","getComponent","addComponent","parent","uuid","_nodeLocalPosToLayerPos","getPosition","_positionToRowCol","_addUserNodeToGrid","_updateCullingOffsetByUserNode","on","TRANSFORM_CHANGED","_userNodePosChange","SIZE_CHANGED","_userNodeSizeChange","removeUserNode","off","_removeUserNodeFromGrid","_removeComponent","destroy","removeFromParent","destroyUserNode","nodePos","out","getNodesByRowCol","rowData","getNodesCountByRow","count","_updateAllUserNode","dataId","node_","_uiProps","uiTransformComp","contentSize","self","markForUpdateRenderData","_limitInLayer","index","colData","list","length","rowCol","tempRowCol","push","isUserNodeDirty","setUserNodeDirty","value","onEnable","ANCHOR_CHANGED","_syncAnchorPoint","updateCulling","scheduleOnce","bind","onDisable","trans","scale","getScale","anchorX","anchorY","onDestroy","getLayerName","setLayerName","layerName","getProperty","propertyName","getPositionAt","pos","undefined","Math","floor","ORTHO","_positionForOrthoAt","ISO","_positionForIsoAt","HEX","_positionForHexAt","isInvalidPosition","offsetX","offsetY","gidAndFlags","gid","FLIPPED_MASK","tileset","get","offset","tileOffset","tileWidth","tileHeight","rows","odd_even","STAGGERINDEX_ODD","diffX","diffY","STAGGERAXIS_Y","STAGGERAXIS_X","setTilesGIDAt","gids","beginCol","beginRow","totalCols","gidsIdx","endCol","_updateTileForGID","setTileGIDAt","flags","ugid","Error","firstGid","idx","oldGIDAndFlags","grid","_updateVertex","getTileGIDAt","tile","getTileFlagsAt","FLIPPED_ALL","setCullingDirty","isCullingDirty","updateViewPort","reserveLine","vpx","vpy","leftDownX","leftDownY","rightTopX","rightTopY","result","maptw","mapth","maptw2","mapth2","diffX2","diffY2","axis","enableCulling","updateWorldTransform","invert","getWorldMatrix","camera","root","batcher2D","getFirstRenderCamera","z","screenToWorld","transformMat4","getLayerOrientation","getProperties","layerOrientation","cols","grids","left","bottom","diffX1","diffY1","cullingCol","cullingRow","gridGID","topBorder","downBorder","leftBorder","rightBorder","minCol","maxCol","_tileSize","_updateVertices","getTiledTileAt","forceCreate","_x","_y","_layer","updateInfo","setTiledTileAt","tiledTile","some","tiledNode","getTexture","getTextures","setTexture","texture","setTextures","textures","getLayerSize","getMapTileSize","getTileSet","getTileSets","setTileSet","setTileSets","tilesets","clear","i","sourceImage","l","tilesetInfo","_prepareToRender","init","layerInfo","mapInfo","size","layerSize","name","properties","minGID","maxGID","opacity","tintColor","getStaggerAxis","getStaggerIndex","getHexSideLength","getTileAnimations","orientation","getTileSize","layerW","layerH","setContentSize","wh","requestMeshRenderData","arr","subNodes","pop","last","renderData","byteCount","comb","Object","defineProperty","getRenderMaterial","requestSubNodesData","destroyRenderData","forEach","rd","reset","_flushAssembler","assembler","Assembler","getAssembler","_assembler","createData","_updateColor","_render","ui","m","c","walk","commitComp","_static"],"mappings":"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"}