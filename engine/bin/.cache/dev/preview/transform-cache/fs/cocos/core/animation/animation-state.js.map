{"version":3,"sources":["../../../../../../../../../cocos/core/animation/animation-state.ts"],"names":["makeSamplerSharedGroup","sampler","curves","samplerResultCache","from","fromRatio","to","toRatio","isTargetingTRS","path","prs","length","i","HierarchyPath","wrapIterations","iterations","EDITOR","Node","createBoundTarget","createBufferedTarget","Playable","WrapMode","WrapModeMask","WrappedInfo","evaluatePath","createBlendStateWriter","legacyCC","ccenum","EventType","ICurveInstance","runtimeCurve","target","boundTarget","commonTargetIndex","_curve","_boundTarget","_rootTargetProperty","_curveDetail","curve","applySample","ratio","index","lerpRequired","weight","empty","value","hasLerp","valueAt","valueBetween","_setValue","setValue","InvalidIndex","AnimationState","_clip","_name","duration","_wrapMode","GAME_VIEW","time","Loop","repeatCount","Infinity","_repeatCount","shouldWrap","ShouldWrap","reverse","wrapMode","Reverse","_process","simpleProcess","process","_delay","_delayTime","getWrappedInfo","current","clip","name","speed","frameRate","_targetNode","_curveLoaded","_samplerSharedGroups","_target","_ignoreIndex","_commonTargetStatuses","Normal","_currentFramePlayed","_lastIterations","_lastWrapInfo","_lastWrapInfoEvent","_wrappedInfo","_blendStateBuffer","_blendStateWriters","_allowLastFrame","_blendStateWriterHost","enabled","initialize","root","propertyCurves","_destroyBlendStateWriters","director","getAnimationManager","blendState","bindState","sample","createBoundTargetOptimized","createFn","rootTarget","valueAdapter","isConstant","targetNode","slice","propertyName","blendStateWriter","push","commonTargets","map","commonTarget","modifiers","changed","getPropertyCurves","iPropertyCurve","propertyCurve","samplerSharedGroup","find","commonTargetStatus","peek","constant","curveInstance","destroy","onBlendFinished","emit","args","pushDelayEvent","_emit","on","type","callback","isValid","once","off","allowLastFrameEvent","allowed","_setEventTarget","setTime","info","direction","frameIndex","getEventGroupIndexAtRatio","update","delta","_sampleCurves","_sampleEvents","onPlay","_onReplayOrResume","PLAY","onStop","isPaused","_onPauseOrStop","STOP","onResume","RESUME","onPause","PAUSE","iCommonTarget","pull","iSamplerSharedGroup","szSamplerSharedGroup","ratios","iCurveInstance","szCurves","undefined","lastInfo","LASTFRAME","set","stopped","stop","FINISHED","hasEvents","cache","frames","_needReverse","currentIterations","needReverse","PingPong","isEnd","isOddIteration","tempRatio","tempTime","wrapInfo","eventGroups","eventIndex","_fireEvent","lastWrappedInfo","lastIterations","lastIndex","lastDirection","iterationsChanged","state","eventGroup","components","events","event","functionName","component","fx","apply","parameters","addAnimation","removeAnimation","iBlendStateWriter","unbindState"],"mappings":"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"}