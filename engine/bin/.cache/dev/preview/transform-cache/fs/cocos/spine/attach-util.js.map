{"version":3,"sources":["../../../../../../../../cocos/spine/attach-util.ts"],"names":["Mat4","_tempMat4","AttachUtil","_inited","_skeleton","_skeletonNode","_skeletonComp","init","skeletonComp","node","reset","_syncAttachedNode","socketNodes","size","boneInfos","isCached","isAnimationCached","_curFrame","bones","matrixHandle","bone","tm","m00","a","m01","c","m04","b","m05","d","m12","worldX","m13","worldY","matrix","scale","keys","boneIdx","boneNode","get","isValid","removeFromParent","destroy"],"mappings":"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"}