{"version":3,"sources":["../../../../../../../../../cocos/core/scene-graph/scene.ts"],"names":["ccclass","serializable","editable","EDITOR","TEST","CCObject","Mat4","Quat","Vec3","assert","getError","BaseNode","legacyCC","SceneGlobals","applyTargetOverrides","Scene","_updateScene","_scene","_renderScene","_globals","name","dependAssets","_inited","_prefabSyncedInLiveReload","_pos","ZERO","_rot","IDENTITY","_scale","ONE","_mat","_dirtyFlags","_activeInHierarchy","director","root","createScene","game","_isCloning","destroy","success","prototype","call","children","_children","i","length","active","destroyScene","_active","addComponent","Error","_onHierarchyChanged","_onBatchCreated","dontSyncChildPrefab","len","getPosition","out","copy","getRotation","getScale","getWorldPosition","getWorldRotation","getWorldScale","getWorldMatrix","getWorldRS","getWorldRT","updateWorldTransform","_instantiate","_load","walk","_setScene","_activate","_registerIfAttached","_nodeActivator","activateNode","activate"],"mappings":"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"}