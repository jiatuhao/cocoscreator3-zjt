{"version":3,"sources":["../../../../../../../../../cocos/physics/ammo/ammo-shared-body.ts"],"names":["Ammo","TransformBit","cocos2AmmoVec3","cocos2AmmoQuat","ammo2CocosVec3","ammo2CocosQuat","ammoDeletePtr","AmmoCollisionFlags","AmmoCollisionObjectStates","EAmmoSharedBodyDirty","AmmoInstance","CC_V3_0","CC_QUAT_0","AmmoConstant","PhysicsSystem","PhysicsGroup","fastRemoveAt","v3_0","quat_0","sharedIDCounter","AmmoSharedBody","getSharedBody","node","wrappedWorld","wrappedBody","key","uuid","newSB","sharedBodesMap","has","get","g","DEFAULT","m","instance","collisionMatrix","_collisionFilterGroup","_collisionFilterMask","set","_wrappedBody","rigidBody","group","bodyStruct","shape","ghostStruct","body","ghost","v","dirty","BODY_RE_ADD","GHOST_RE_ADD","_instantiateBodyStruct","_bodyStruct","_instantiateGhostStruct","_ghostStruct","bodyIndex","bodies","length","clearState","addSharedBody","syncInitialBody","isRemoveBody","wrappedShapes","isEnabled","enabledInHierarchy","removeSharedBody","ghostIndex","addGhostObject","syncInitialGhost","isRemoveGhost","removeGhostObject","ref","destroy","id","wrappedJoints0","wrappedJoints1","idCounter","st","btTransform","setIdentity","getOrigin","worldPosition","bodyQuat","btQuaternion","worldRotation","setRotation","motionState","btDefaultMotionState","localInertia","btVector3","bodyShape","btCompoundShape","mass","isDynamic","setValue","rbInfo","btRigidBodyConstructionInfo","EMPTY_SHAPE","btRigidBody","sleepTd","sleepThreshold","setSleepingThresholds","startTransform","worldQuat","useCompound","bodyStructs","setUserIndex2","setUserIndex","setActivationState","DISABLE_DEACTIVATION","CC_CONFIG","ignoreSelfBody","setIgnoreCollisionCheck","btCollisionObject","ghostShape","setCollisionShape","setCollisionFlags","CF_STATIC_OBJECT","CF_NO_CONTACT_RESPONSE","ghostStructs","addShape","isTrigger","switchShape","that","setMass","index","indexOf","push","setCompound","ghostCompoundShape","ghostEnabled","bodyCompoundShape","l","needCompound","impl","i","childShape","bodyEnabled","removeShape","activate","addJoint","type","removeJoint","updateDirty","updateBodyByReAdd","updateGhostByReAdd","syncSceneToPhysics","hasChangedFlags","wt","getWorldTransform","SCALE","syncBodyScale","isKinematicObject","ms","getMotionState","setWorldTransform","isBodySleeping","syncPhysicsToScene","isStaticOrKinematicObject","wt0","getBasis","getRotation","wt1","syncSceneToGhost","syncGhostScale","setScale","updateScale0","updateScale1","ghosts","btCollisionShape","castObject","wrapped","key0","key1","state","getActivationState","ISLAND_SLEEPING","Map"],"mappings":"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"}