{"version":3,"sources":["../../../../../../../../cocos/ui/SubContextView.ts"],"names":["ccclass","help","menu","executionOrder","requireComponent","tooltip","serializable","EDITOR","Component","view","Sprite","Node","PrivateNode","UITransform","SpriteFrame","ImageAsset","Size","legacyCC","SubContextView","_designResolutionSize","value","equals","set","_fps","_updateInterval","_sprite","_imageAsset","_updatedTime","_openDataContext","_content","performance","now","onLoad","window","__globalAdapter","getOpenDataContext","_initSharedCanvas","_initContentNode","_updateSubContextView","enabled","onEnable","_registerNodeEvent","onDisable","_unregisterNodeEvent","sharedCanvas","canvas","width","height","image","reset","_texture","create","getComponent","addComponent","spriteFrame","texture","sp","parent","node","getSystemInfoSync","nodeTrans","contentTrans","scaleX","scaleY","scale","systemInfo","box","getBoundingBoxToWorld","visibleSize","getVisibleSize","x","screenWidth","y","screenHeight","postMessage","fromEngine","type","event","_updateSubContextTexture","img","uploadData","on","EventType","TRANSFORM_CHANGED","SIZE_CHANGED","off","update","dt","calledUpdateManually","undefined","deltaTime"],"mappings":"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"}