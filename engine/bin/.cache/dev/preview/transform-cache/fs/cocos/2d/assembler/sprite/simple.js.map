{"version":3,"sources":["../../../../../../../../../../cocos/2d/assembler/sprite/simple.ts"],"names":["Vec3","dynamicAtlasManager","vec3_temps","i","push","simple","createData","sprite","renderData","requestRenderData","dataLength","vertexCount","indicesCount","vData","Float32Array","updateRenderData","frame","spriteFrame","packToDynamicAtlas","vertDirty","updateVertexData","uvDirty","updateUvs","fillBuffers","renderer","dataList","data","node","buffer","acquireBufferBatch","vertexOffset","byteOffset","indicesOffset","vertexId","isRecreate","request","currBufferBatch","vBuf","iBuf","iData","data0","data3","matrix","worldMatrix","a","m00","b","m01","c","m04","d","m05","tx","m12","ty","m13","vl","x","vr","vb","y","vt","al","ar","bl","br","cb","ct","db","dt","set","uiTrans","_uiProps","uiTransformComp","cw","width","ch","height","appX","anchorX","appY","anchorY","l","r","t","trim","originSize","getOriginalSize","rect","getRect","ow","oh","rw","rh","offset","getOffset","scaleX","scaleY","trimLeft","trimRight","trimBottom","trimTop","z","uv","updateColor","colorOffset","color","colorR","colorG","g","colorB","colorA"],"mappings":"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"}